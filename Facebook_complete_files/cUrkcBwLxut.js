/*!CK:2235410381!*//*1429219414,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["ss691"]); }

__d("AdsLoggerConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ERROR_EVENT_CATEGORY:"errors",DAO_ERROR_EVENT_NAME:"dao_error",UNHANDLED_JS_EXCEPTION_EVENT_NAME:"unhandled_js_exception"};},null);
__d("BusinessIdentityEventCategory",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ERROR:"errors",AD_ACCOUNTS:"ad_accounts",AGENCIES:"agencies",API_CALL:"api_call",APP:"app",APPS:"apps",ASSET_PERMS:"asset_permissions",BLANK_VIEW:"blank_view",BUSINESS:"business",FUNDING_SOURCES:"funding_sources",HOMEPAGE:"homepage",HOMEPAGE_DASHBOARD:"homepage_dashboard",INFO:"info",NUX:"nux",PAGES:"pages",PEOPLE:"people",PRODUCT_CATALOGS:"product_catalogs",PROJECTS:"projects",REPORTING:"reporting",SHARED_LOGIN:"shared_login",SYSTEM_USERS:"system_users",UTILS:"utils",EMAILER:"emailer",BUSINESS_USERS:"business_users",CONTROLLER_ADS_CREATOR:"ads_creator_controller",CONTROLLER_ADS_MANAGER:"ads_manager_controller",CONTROLLER_ADS_MANAGER_TRAINER:"ads_manager_trainer_controller",CONTROLLER_CREATE:"create_controller",CONTROLLER_EDIT_PAGE:"edit_page_controller",CONTROLLER_EVENTS_PERMALINK:"events_permalink_controller",CONTROLLER_HOME:"home_controller",CONTROLLER_INDEX:"index_controller",CONTROLLER_INVITATION:"invitation_controller",CONTROLLER_INVITATION_LOGIN:"invitation_login_controller",CONTROLLER_LANDING:"landing_controller",CONTROLLER_LOGIN:"login_controller",CONTROLLER_NOTIFICATIONS_PAGE:"notifications_page_controller",CONTROLLER_PAGE_TIMELINE:"page_timeline_controller",CONTROLLER_PAGE_MEDIA:"page_media_controller",CONTROLLER_PAGE_PERMALINK:"page_permalink_controller",CONTROLLER_PAGE_PHOTO_PERMALINK:"page_photo_permalink_controller",CONTROLLER_PAGES_TRAINER:"pages_trainer_controller",CONTROLLER_POWER_EDITOR:"power_editor_controller",CONTROLLER_PROFILE_CREATE:"profile_create_controller",CONTROLLER_REPORTING:"reporting_controller",CONTROLLER_SELECT_ACCOUNT:"ads_select_account_controller",CONTROLLER_SELECTOR:"selector_controller",CONTROLLER_SETTINGS:"settings_controller",CONTROLLER_SITE_OPT_OUT:"site_opt_out_controller",CONTROLLER_SITE_REAUTH:"site_reauth_controller",CONTROLLER_TO_WEB_WARNING:"to_web_warning_controller"};},null);
__d("BusinessIdentityEventName",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={APP_INIT:"app_init",INVALID_DISPATCHER_PAYLOAD:"invalid_dispatcher_payload",PROJECT_RES_REQ_FAILURE:"project_resource_request_failure",BRAND_AGENCY_RES_REQ_FAILURE:"brand_agency_resource_request_failure",BRAND_CLIENT_RES_REQ_FAILURE:"brand_client_resource_request_failure",ASSET_PERM_RES_REQ_FAILURE:"asset_permission_resource_request_failure",USER_PERM_RES_REQ_FAILURE:"user_permission_resource_request_failure",USER_RES_REQ_FAILURE:"user_resource_request_failure",DISPATCHER_UPDATE:"dispatcher_update",INVALID_PAYMENT_CATEGORY:"invalid_payment_category",FUNDING_SOURCE_RES_REQ_FAILURE:"funding_source_resource_request_failure",FUNDING_SOURCE_INPUT_DATA_SUCCEEDED:"funding_source_input_data_succeeded",FUNDING_SOURCES_INVALID_DIALOG_STATE:"funding_sources_invalid_dialog_state",FUNDING_SOURCES_INVALID_FUNDING_TYPE:"funding_sources_invalid_funding_type",FUNDING_SOURCES_INVALID_STEP_COUNT:"funding_source_invalid_dialog_step_count",SHARED_LOGIN_MIGRATE_INVALID_DIALOG_STATE:"shared_login_migrate_invalid_dialog_state",BRAND_USER_API_GET_BAD_RESPONSE:"brand_user_api_get_bad_response",PANE_CLICK:"pane_click",BRAND_SWITCH:"brand_switch",LARGE_SPINNER_SHOWN:"large_spinner_shown",HELP_CENTER_LINK_CLICK:"help_center_link_click",CHANGE_PANE:"change_pane",API_CALL_FAILED:"api_call_failed",API_CALL_SUCCEED:"api_call_succeed",JAVASCRIPT_ERROR:"javascript_error",OBJECT_VALIDATION_ERROR:"object_validation_error",UNHANDLED_JS_EXCEPTION:"unhandled_js_exception",DAO_ERROR:"dao_error",ERROR_MESSAGE_VIEW:"error_message_view",UTILS_ASSET_ROLE_GET_ROLE_PROJECT_UNKNOWN_ROLE:"utils_asset_role_get_role_project_unknown_role",UTILS_ASSET_ROLE_GET_ROLE_DESCRIPTION_UNKNOWN_ROLE:"utils_asset_role_get_role_description_unknown_role",UTILS_ASSET_ROLE_GET_ROLES_UNKNOWN_ROLE:"utils_asset_role_get_roles_unknown_role",UTILS_ASSET_ROLE_GET_DEFAULT_ROLE_UNKNOWN_ROLE:"utils_asset_role_get_default_role_unknown_role",EDIT_BRAND_CLICK:"edit_brand_click",EDIT_BRAND_CANCEL:"edit_brand_cancel",EDIT_BRAND_SUBMIT:"edit_brand_submit",EDIT_BRAND_SUCCEED:"edit_brand_succeed",EDIT_BRAND_FAIL:"edit_brand_fail",USER_LIST_CLICK:"user_list_click",USER_ADD_CLICK:"user_add_click",USER_ADD_CANCEL:"user_add_cancel",USER_ADD_SUBMIT:"user_add_submit",USER_ADD_SUCCESS:"user_add_success",USER_ADD_FAILURE:"user_add_failure",USER_UPDATE_PERM_CLICK:"user_update_perm_click",USER_UPDATE_PERM_CANCEL:"user_update_perm_cancel",USER_UPDATE_PERM_SUBMIT:"user_update_perm_submit",USER_UPDATE_PERM_SUCCESS:"user_update_perm_success",USER_UPDATE_PERM_FAILURE:"user_update_perm_failure",USER_REMOVE_CLICK:"user_remove_click",USER_REMOVE_CANCEL:"user_remove_cancel",USER_REMOVE_SUBMIT:"user_remove_submit",USER_REMOVE_SUCCESS:"user_remove_success",USER_REMOVE_FAILURE:"user_remove_failure",USER_ADD_ASSETS_CLICK:"user_add_assets_click",USER_ADD_ASSETS_CANCEL:"user_add_assets_cancel",USER_ADD_ASSETS_SUBMIT:"user_add_assets_submit",LEAVE_BUSINESS_CLICK:"leave_business_click",LEAVE_BUSINESS_CANCEL:"leave_business_cancel",LEAVE_BUSINESS_SUBMIT:"leave_business_submit",LEAVE_BUSINESS_SUCCESS:"leave_business_success",LEAVE_BUSINESS_FAILURE:"leave_business_failure",SHARED_LOGIN_SELECT_REMOVE_TYPE_CANCEL:"shared_login_select_remove_type_cancel",SHARED_LOGIN_DELETE_CANCEL:"shared_login_delete_cancel",SHARED_LOGIN_DELETE_SUCCESS:"shared_login_delete_success",SHARED_LOGIN_DELETE_FAILURE:"shared_login_delete_failure",CLAIM_SHARED_LOGIN_LINK_CLICK:"claim_shared_login_link_click",ASSET_ADD_PEOPLE_CLICK:"asset_add_people_click",ASSET_ADD_PEOPLE_CANCEL:"asset_add_people_cancel",ASSET_ADD_PEOPLE_SUBMIT:"asset_add_people_submit",ASSET_PERM_REMOVE_CLICK:"asset_perm_remove_click",ASSET_PERM_REMOVE_CANCEL:"asset_perm_remove_cancel",ASSET_PERM_REMOVE_SUBMIT:"asset_perm_remove_submit",ASSET_PERM_REMOVE_SUCCESS:"asset_perm_remove_success",ASSET_PERM_REMOVE_FAILURE:"asset_perm_remove_failure",ASSET_PERM_UPDATE_SUCCESS:"asset_perm_update_success",ASSET_PERM_UDPATE_FAILURE:"asset_per_update_failure",PAGE_FETCH_FAILURE:"page_fetch_failure",PAGE_LIST_CLICK:"page_list_click",PAGE_ADD_CLICK:"page_add_click",PAGE_ADD_CANCEL:"page_add_cancel",PAGE_ADD_REQUEST:"page_add_request",PAGE_ADD_CLAIM:"page_add_claim",PAGE_ADD_CREATE:"page_add_create",PAGE_CLAIM_SUBMIT:"page_add_claim",PAGE_REQUEST_SUBMIT:"page_add_request",PAGE_CREATE_SUBMIT:"page_add_create",PAGE_ADD_SUCCESS:"page_add_success",PAGE_ADD_FAILURE:"page_add_failure",PAGE_DELETE_CLICK:"page_delete_click",PAGE_DELETE_CANCEL:"page_delete_cancel",PAGE_DELETE_SUBMIT:"page_delete_submit",PAGE_DELETE_SUCCESS:"page_delete_success",PAGE_DELETE_FAILURE:"page_delete_failure",PAGE_LINK_CLICK:"page_link_click",PAGE_INVALID_DIALOG_STATE:"page_invalid_dialog_state",PAGE_MIGRATE_SUBMIT:"page_migrate_submit",PAGE_MIGRATE_SUCCESS:"page_migrate_success",PAGE_MIGRATE_FAILURE:"page_migrate_failure",AD_ACCOUNT_FETCH_FAILURE:"ad_account_fetch_failure",AD_ACCOUNT_INVALID_DIALOG_STATE:"ad_account_invalid_dialog_state",AD_ACCOUNT_LINK_CLICK:"ad_account_link_click",AD_ACCOUNT_LIST_CLICK:"ad_account_list_click",AD_ACCOUNT_ADD_CLICK:"ad_account_add_click",AD_ACCOUNT_ADD_CANCEL:"ad_account_add_cancel",AD_ACCOUNT_CHOOSE_CREATE:"ad_account_choose_create",AD_ACCOUNT_CREATE_SUBMIT:"ad_account_create_submit",AD_ACCOUNT_CREATE_SUCCESS:"ad_account_create_success",AD_ACCOUNT_CREATE_FAILURE:"ad_account_create_failure",AD_ACCOUNT_MIGRATE_SUBMIT:"ad_account_migrate_submit",AD_ACCOUNT_MIGRATE_SUCCESS:"ad_account_migrate_success",AD_ACCOUNT_MIGRATE_FAILURE:"ad_account_migrate_failure",AD_ACCOUNT_DELETE_SUBMIT:"ad_account_delete_submit",AD_ACCOUNT_DELETE_CLICK:"ad_account_delete_click",AD_ACCOUNT_DELETE_CANCEL:"ad_account_delete_cancel",AD_ACCOUNT_DELETE_SUCCESS:"ad_account_delete_success",AD_ACCOUNT_DELETE_FAILURE:"ad_account_delete_failure",AD_ACCOUNT_CHOOSE_CLAIM:"ad_account_choose_existing",AD_ACCOUNT_CLAIM_SUBMIT:"ad_account_claim_submit",AD_ACCOUNT_CLAIM_SUCCESS:"ad_account_claim_success",AD_ACCOUNT_CLAIM_FAILURE:"ad_account_claim_failure",AD_ACCOUNT_CHOOSE_REQUEST:"ad_account_choose_request",PRODUCT_CATALOG_INVALID_DIALOG_STATE:"product_catalog_invalid_dialog_state",PRODUCT_CATALOG_ADD_CLICK:"product_catalog_add_click",PRODUCT_CATALOG_ADD_CANCEL:"product_catalog_add_cancel",PRODUCT_CATALOG_CHOOSE_CREATE:"product_catalog_choose_create",PRODUCT_CATALOG_CREATE_SUBMIT:"product_catalog_create_submit",PRODUCT_CATALOG_CREATE_SUCCESS:"product_catalog_create_success",PRODUCT_CATALOG_CREATE_FAILURE:"product_catalog_create_failure",PRODUCT_CATALOG_CHOOSE_REQUEST:"product_catalog_choose_request",PRODUCT_CATALOG_DELETE_SUCCESS:"product_catalog_delete_success",PRODUCT_CATALOG_DELETE_FAILURE:"product_catalog_delete_failure",SYSTEM_USER_INVALID_DIALOG_STATE:"system_user_invalid_dialog_state",SYSTEM_USER_GENERATE_TOKEN_SUBMIT:"system_user_generate_token_submit",SYSTEM_USER_GENERATE_TOKEN_CLICK:"system_user_generate_token_click",SYSTEM_USER_GENERATE_TOKEN_SUCCESS:"system_user_generate_token_success",SYSTEM_USER_GENERATE_TOKEN_FAILURE:"system_user_generate_token_failure",SYSTEM_USER_UPDATE_CLICK:"system_user_update_click",SYSTEM_USER_UPDATE_CANCEL:"system_user_update_cancel",SYSTEM_USER_ADD_ASSETS_CLICK:"system_user_add_assets_click",SYSTEM_USER_ADD_ASSETS_SUBMIT:"system_user_add_assets_submit",SYSTEM_USER_ADD_ASSETS_CANCEL:"system_user_add_assets_cancel",APPS_INVALID_DIALOG_STATE:"apps_invalid_dialog_state",APPS_LINK_CLICK:"apps_link_click",APPS_LIST_CLICK:"apps_list_click",APPS_ADD_CLICK:"apps_add_click",APPS_ADD_CANCEL:"apps_add_cancel",APPS_CHOOSE_CREATE:"apps_choose_create",APPS_CREATE_SUBMIT:"apps_create_submit",APPS_CREATE_SUCCESS:"apps_create_success",APPS_CREATE_FAILURE:"apps_create_failure",APPS_CHOOSE_CLAIM:"apps_choose_existing",APPS_CLAIM_SUBMIT:"apps_claim_submit",APPS_CLAIM_SUCCESS:"apps_claim_success",APPS_CLAIM_FAILURE:"apps_claim_failure",APPS_DELETE_CLICK:"apps_delete_click",APPS_DELETE_CANCEL:"apps_delete_cancel",APPS_DELETE_SUBMIT:"apps_delete_submit",APPS_DELETE_SUCCESS:"apps_delete_success",APPS_DELETE_FAILURE:"apps_delete_failure",APPS_CHOOSE_REQUEST:"apps_choose_request",PROJECT_LIST_CLICK:"project_list_click",PROJECT_CREATE_CLICK:"project_create_click",PROJECT_CREATE_CANCEL:"project_create_cancel",PROJECT_CREATE_SUBMIT:"project_create_submit",PROJECT_CREATE_SUCCESS:"project_create_success",PROJECT_CREATE_FAILURE:"project_create_failure",PROJECT_DELETE_CLICK:"project_delete_click",PROJECT_DELETE_CANCEL:"project_delete_cancel",PROJECT_DELETE_SUBMIT:"project_delete_submit",PROJECT_DELETE_SUCCESS:"project_delete_success",PROJECT_DELETE_FAILURE:"project_delete_failure",PROJECT_DELETE_ASSET_CLICK:"project_delete_asset_click",PROJECT_DELETE_ASSET_CANCEL:"project_delete_asset_cancel",PROJECT_DELETE_ASSET_SUBMIT:"project_delete_asset_submit",PROJECT_DELETE_ASSET_SUCCESS:"project_delete_asset_success",PROJECT_DELETE_ASSET_FAILURE:"project_delete_asset_failure",PROJECT_ADD_ASSET_CLICK:"project_add_asset_click",PROJECT_ADD_ASSET_CANCEL:"project_add_asset_cancel",PROJECT_ADD_ASSET_SUBMIT:"project_add_asset_submit",PROJECT_ADD_ASSET_SUCCESS:"project_add_asset_success",PROJECT_ADD_ASSET_FAILURE:"project_add_asset_failure",PROJECT_UPDATE_CLICK:"project_update_click",PROJECT_UPDATE_CANCEL:"project_update_cancel",PROJECT_UPDATE_SUBMIT:"project_update_submit",PROJECT_UPDATE_SUCCESS:"project_update_success",PROJECT_UPDATE_FAILURE:"project_update_failure",FUNDING_SOURCE_LIST_CLICK:"funding_source_list_click",FUNDING_SOURCE_ADD_CLICK:"funding_source_add_click",FUNDING_SOURCE_ADD_CANCEL:"funding_source_add_cancel",FUNDING_SOURCE_CREATE_SUCCESS:"funding_source_create_success",FUNDING_SOURCE_CREATE_FAILURE:"funding_source_create_failure",SYSTEM_USER_CREATE_SUBMIT:"system_user_create_submit",SYSTEM_USER_CREATE_SUCCESS:"system_user_create_success",SYSTEM_USER_CREATE_FAILURE:"system_user_create_failure",SYSTEM_USER_UPDATE_SUBMIT:"system_user_update_submit",SYSTEM_USER_UPDATE_SUCCESS:"system_user_update_success",SYSTEM_USER_UPDATE_FAILURE:"system_user_update_failure",SYSTEM_USER_DELETE_SUBMIT:"system_user_delete_submit",SYSTEM_USER_DELETE_SUCCESS:"system_user_delete_success",SYSTEM_USER_DELETE_FAILURE:"system_user_delete_failure",SYSTEM_USER_DELETE_CLICK:"system_user_delete_click",SYSTEM_USER_DELETE_CANCEL:"system_user_delete_cancel",SYSTEM_USER_LINK_CLICK:"system_user_link_click",SYSTEM_USER_LIST_CLICK:"system_user_list_click",SYSTEM_USERS_INVALID_DIALOG_STATE:"system_user_invalid_dialog_state",NUX_CONTROLLER_STEP:"nux_controller_step",BIZ_GENERAL_TYPE:"general",BIZ_UNMAPPED_EVENT_TYPE:"unmapped_event",PROJECT_SELECTOR_CHANGE:"project_selector_change",REPORTING_LINK_CLICK:"reporting_link_click",HOMEPAGE_LOADED:"homepage_loaded",SET_FILTER_TEXT:"set_filter_text",SORT_SELECTOR_CHANGE:"sort_selector_change",TAB_CLICK:"tab_click",DATE_SELECTOR_CHANGE:"date_selector_change",EXPORT_STATS:"export_stats",TABLE_SORT:"table_sort",AGENCY_ASSIGN_CLICK:"agency_assign_click",AGENCY_ASSIGN_CANCEL:"agency_assign_cancel",AGENCY_ASSIGN_AGENCY_SELECTED:"agency_assign_agency_selected",AGENCY_ASSIGN_CONFIRM_ROLES:"agency_assign_confirm_roles",AGENCY_ASSIGN_INVALID_AGENCY_ID:"agency_assign_invalid_agency_id",AGENCY_ASSIGN_INVALID_DIALOG_STATE:"agency_assign_invalid_dialog_state",AGENCY_DELETE_CLICK:"agency_delete_click",AGENCY_DELETE_CANCEL:"agency_delete_cancel",AGENCY_DELETE_SUBMIT:"agency_delete_submit",AGENCY_DELETE_SUCCESS:"agency_delete_success",AGENCY_DELETE_FAILURE:"agency_delete_failure",AGENCY_GRANT_ACCESS_TO_ASSET_SUCCESS:"agency_grant_access_to_asset_success",AGENCY_GRANT_ACCESS_TO_ASSET_FAILURE:"agency_grant_access_to_asset_failure",AGENCY_REJECT_REQUEST_FROM_AGENCY_SUCCESS:"agency_reject_request_from_agency_success",AGENCY_REJECT_REQUEST_FROM_AGENCY_FAILURE:"agency_reject_request_from_agency_failure",AGENCY_ACCEPT_REQUEST_FROM_AGENCY_SUCCESS:"agency_accept_request_from_agency_success",AGENCY_ACCEPT_REQUEST_FROM_AGENCY_FAILURE:"agency_accept_request_from_agency_failure",AGENCY_DELETE_PERMISSION_SUCCESS:"agency_delete_permission_success",AGENCY_DELETE_PERMISSION_FAILURE:"agency_delete_permission_failure",HOMEPAGE_DASHBOARD_INVALID_CHART_TYPE:"homepage_dashboard_invalid_chart_type",HOMEPAGE_DASHBOARD_LOAD_AD_ACCOUNT_STATS:"homepage_dashboard_load_ad_account_stats",HOMEPAGE_DASHBOARD_CONTROLLER_LOAD_STATS:"homepage_dashboard_controller_load_stats",HOMEPAGE_LIST_ASSET_LINK_CLICK:"homepage_list_asset_link_click",HOMEPAGE_LIST_ACTIONS_CLICK:"homepage_list_actions_click",EMAIL_SEND_SUCCESS:"email_send_success",EMAIL_SEND_ERROR:"email_send_error",EMAIL_SEND_ERROR__NO_EMAIL_BODY:"email_send_error__no_email_body",BUSINESS_USER_CREATION_FAILURE:"business_user_creation_failure",BUSINESS_USER_CREATION_SUCCESS:"business_user_creation_success",BUSINESS_USER_UPDATION_FAILURE:"business_user_updation_failure",BUSINESS_USER_UPDATION_SUCCESS:"business_user_updation_success"};},null);
__d("BusinessPersonaSetupGuideState",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={OPEN:"open",CLOSED:"closed"};},null);
__d("AdsDaoErrorLogger",["AdsLoggerConstants","AdsDaoEvents"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=b('AdsDaoEvents').Arbiter,i=b('AdsDaoEvents').ArbiterEvents;'use strict';f.initAdsDaoLogging=function(j){h.subscribe(i.ERROR,function(k,l){var m={ads_dao_error_parameters:JSON.stringify(l.parameters),ads_dao_error_raw_data:JSON.stringify(l.rawData),ads_dao_error_command_name:l.commandName};if(l.rawData&&l.rawData.error){var n=l.rawData.error;m.error_type=n.type;m.error_message=n.message;m.error_code=n.code;m.error_sub_code=n.error_subcode;}j.errorAddAppContext(g.DAO_ERROR_EVENT_NAME,m);});};},null);
__d("AdsLogger",["AdsLoggerConstants","Banzai","BanzaiLogger","BanzaiODS","ErrorUtils","emptyFunction","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';function n(o,p,q,r){m(o.length>0);this.$AdsLogger0=o;this.$AdsLogger1=i.create(h.VITAL);this.$AdsLogger2=p;this.$AdsLogger3=k.guard(q||l.thatReturnsNull);this.$AdsLogger4=r||l.thatReturnsNull;k.addListener(function(s){var t={error_message:s.message,error_type:s.name,stack_trace:s.stack,error_data:JSON.stringify(s)};this.errorAddAppContext(g.UNHANDLED_JS_EXCEPTION_EVENT_NAME,t);}.bind(this));}n.prototype.logForAnalytics=function(o,p,q){q=q||{};var r=q.vital===(void 0)?true:q.vital;delete q.vital;var s=Object.assign({},this.$AdsLogger3(),{event_category:o,event:p},q);if(r){this.$AdsLogger1.log(this.$AdsLogger2,s);}else i.log(this.$AdsLogger2,s);};n.prototype.errorAddAppContext=function(o,p){var q=this.$AdsLogger5();this.logForAnalytics(g.ERROR_EVENT_CATEGORY,o,Object.assign({},p,q));};n.prototype.bumpKey=function(o,p){j.bumpEntityKey(this.$AdsLogger0,o,p);};n.prototype.$AdsLogger5=function(){var o={};try{o=this.$AdsLogger4();}catch(p){o={reason:'Error while invoking app error callback!',rawError:p};}return o;};e.exports=n;},null);
__d("ReactAnalyticsLogger",["ImmutableObject"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h='_sessions',i={};'use strict';f.getReactAnalyticsCallback=function(j){return function(k){for(var l in k){if(!k.hasOwnProperty(l))continue;var m=i[l],n=k[l];if(!m)j.bumpKey(l+h);for(var o in n){if(!n.hasOwnProperty(o))continue;var p=m?m[o]||0:0,q=n[o]-p;if(q)j.bumpKey(l+'_'+o,q);}i[l]=new g(n);}};};},null);
__d("AdsGenericFilterOperatorConfigUtil",["AdsGenericFilterOperatorConfig","ex"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(k){for(var l in g){var m=g[l];if(k===m.operator)return m;}throw new Error(h('Invalid operator "%s"',k));}var j={getConfigByOperator:i};e.exports=j;},null);
__d("AdsCMSaveFilterSetDialog.react",["LayerHideOnEscape","LayerFadeOnHide","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUITextInput.react","cx","fbt","trim"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=i,t=s.PropTypes,u=i.createClass({displayName:"AdsCMSaveFilterSetDialog",propTypes:{onSave:t.func.isRequired},getInitialState:function(){return {name:''};},componentDidMount:function(){this.refs.filterSetName.focusInput();},render:function(){return (i.createElement(j,{shown:true,behaviors:{LayerHideOnEscape:g,LayerFadeOnHide:h},width:450,ref:"dialog"},i.createElement(n,null,q._("Save Filter")),i.createElement(k,null,i.createElement("div",{className:"_24ec"},q._("You can save this filter to use again later.")),i.createElement(o,{className:"_5mjr",maxLength:128,onChange:function(event){this.setState({name:r(event.target.value,' ')});}.bind(this),onEnter:function(){if(this.state.name)this._saveCurrentFilterSet();}.bind(this),onEsc:function(){this.refs.dialog.layer.hide();}.bind(this),placeholder:q._("Enter a name for your saved filter..."),ref:"filterSetName"})),i.createElement(m,null,i.createElement(l,{action:"cancel",use:"default",label:q._("Cancel")}),i.createElement(l,{use:"confirm",label:q._("Save"),onClick:this._saveCurrentFilterSet,disabled:!this.state.name}))));},_saveCurrentFilterSet:function(){this.props.onSave(this.state.name);this.refs.dialog.layer.hide();}});e.exports=u;},null);
__d("AdsGenericFilterValueConfigUtil",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';function g(i,j){if(j)for(var k in i){var l=i[k];if(l.value===j)return l;}return null;}var h={getConfigByValue:g};e.exports=h;},null);
__d("AdsTourGuideConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={ACTION:{START_HIGHLIGHT:"AdsTourGuide-start-highlight",STOP_HIGHLIGHT:"AdsTourGuide-stop-highlight",PAUSE_HIGHLIGHTS:"AdsTourGuide-pause-highlights",RESUME_HIGHLIGHTS:"AdsTourGuide-resume-highlights",NEW_EVENT:"AdsTourGuide-new-event",CLEAR_EVENT:"AdsTourGuide-clear-event",PING_ARROW:"AdsTourGuide-ping-arrow"}};e.exports=g;},null);
__d("AdsTourGuidePlan",["ClientIDs","React"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=["title","illustration"],j=["advanceEvent","body","footer","highlight","illustration","isCoverSlide","title"];function k(l){this.sectionsByKey={};this.chaptersByKey={};this.slidesByKey={};this.$AdsTourGuidePlan0=null;if(!l)return;this.$AdsTourGuidePlan1=l.title;this.$AdsTourGuidePlan2=l.titleOnFinish;this.$AdsTourGuidePlan3=this.$AdsTourGuidePlan4(l.body);this.$AdsTourGuidePlan5=this.$AdsTourGuidePlan4(l.bodyOnFinish);this.$AdsTourGuidePlan6=this.$AdsTourGuidePlan4(l.illustration);for(var m=0;m<(l.sections||[]).length;m++)this.addSection(l.sections[m]);}k.prototype.getTitle=function(){return this.$AdsTourGuidePlan1;};k.prototype.getTitleOnFinish=function(){return this.$AdsTourGuidePlan2;};k.prototype.getBody=function(){return this.$AdsTourGuidePlan3;};k.prototype.getBodyOnFinish=function(){return this.$AdsTourGuidePlan5;};k.prototype.getDefaultIllustration=function(){return this.$AdsTourGuidePlan6;};k.prototype.addSection=function(l){var m={key:"section-"+g.getNewClientID(),title:l.title};if(Object.keys(this.sectionsByKey).length===0)this.$AdsTourGuidePlan0=m.key;this.sectionsByKey[m.key]=m;for(var n=0;n<l.chapters.length;n++)this.addChapter(l.chapters[n],m.key);};k.prototype.addChapter=function(l,m){var n=this.sectionsByKey[m];if(!n)return;var o={key:"chapter-"+g.getNewClientID(),sectionKey:m};i.forEach(function(q){o[q]=this.$AdsTourGuidePlan4(l[q]);}.bind(this));this.chaptersByKey[o.key]=o;n.chapterKeys=n.chapterKeys||[];n.chapterKeys.push(o.key);for(var p=0;p<(l.slides||[]).length;p++)this.addSlide(l.slides[p],o.key,m);};k.prototype.addSlide=function(l,m,n){var o=this.chaptersByKey[m];if(!o)return;var p={key:"slide-"+g.getNewClientID(),sectionKey:n,chapterKey:m};j.forEach(function(q){p[q]=this.$AdsTourGuidePlan4(l[q]);}.bind(this));this.slidesByKey[p.key]=p;o.slideKeys=o.slideKeys||[];o.slideKeys.push(p.key);};k.prototype.getSections=function(){return this.sectionsByKey;};k.prototype.getSection=function(l){return this.sectionsByKey[l]||null;};k.prototype.getChapter=function(l){return this.chaptersByKey[l]||null;};k.prototype.getSlide=function(l){return this.slidesByKey[l]||null;};k.prototype.getChapterKeysFromSection=function(l){var m=this.sectionsByKey[l];if(!m)return;return m.chapterKeys;};k.prototype.getChapterKeyFromSlide=function(l){var m=this.slidesByKey[l];if(!m)return;return m.chapterKey;};k.prototype.getSectionKeyFromSlide=function(l){var m=this.slidesByKey[l];if(!m)return;return m.sectionKey;};k.prototype.getSlideChapter=function(l){if(!this.isSlideKey(l))return;var m=this.getChapterKeyFromSlide(l),n=this.getChapter(m);return n;};k.prototype.getSectionKeyFromChapter=function(l){var m=this.chaptersByKey[l];if(!m)return;return m.sectionKey;};k.prototype.getSlideKeysFromChapter=function(l){var m=this.chaptersByKey[l];if(!(m&&m.slideKeys))return;return m.slideKeys;};k.prototype.isSlideKey=function(l){return !!(this.slidesByKey[l]);};k.prototype.isChapterKey=function(l){return !!(this.getChapter(l));};k.prototype.getNextChapterKey=function(l){var m=this.getChapter(l);if(!m)return "";var n=this.sectionsByKey[m.sectionKey],o=n.chapterKeys.indexOf(l);if(o<n.chapterKeys.length-1)return n.chapterKeys[o+1];return "";};k.prototype.getAllChapterKeys=function(){return Object.keys(this.chaptersByKey);};k.prototype.getSlideNumberInChapter=function(l){var m=this.getChapterKeyFromSlide(l),n=this.getSlideKeysFromChapter(m),o=0;for(var p=0;p<n.length;p++)if(n[p]===l)o=p+1;return o;};k.prototype.getTotalSlidesInChapter=function(l){return this.getSlideKeysFromChapter(l).length;};k.prototype.getFirstSectionKey=function(){return this.$AdsTourGuidePlan0;};k.prototype.$AdsTourGuidePlan4=function(l){return l&&l.hasOwnProperty('__html')?(h.createElement("span",{dangerouslySetInnerHTML:{__html:l.__html}})):l;};e.exports=k;},null);
__d("AdsTourGuideDispatcher",["Dispatcher","copyProperties"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=h(new g(),{handleUpdate:function(j){if(Object.keys(j).length)this.dispatch(j);}});e.exports=i;},null);
__d("AdsTourGuideStore",["AdsTourGuideConstants","AdsTourGuideDispatcher","Arbiter","copyProperties"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=g.ACTION,l={},m=false,n=null,o=j(new i(),{getHighlightKeys:function(){return Object.keys(l).concat();},isHighlighted:function(p){return !!(!m&&l[p]);},getCurrentEvent:function(){return n;},dispatchToken:h.register(function(p){var q=false;if(p.actions&&p.actions.length)p.actions.forEach(function(r){switch(r.actionType){case k.START_HIGHLIGHT:q=true;l[r.highlightKey]=true;break;case k.STOP_HIGHLIGHT:q=true;delete l[r.highlightKey];break;case k.PAUSE_HIGHLIGHTS:q=true;m=true;break;case k.RESUME_HIGHLIGHTS:q=true;m=false;break;case k.NEW_EVENT:q=true;n=r.eventName;break;case k.CLEAR_EVENT:q=true;n=null;break;case k.PING_ARROW:q=false;o.inform('pingArrow');}});if(q)o.inform('change');})});e.exports=o;},null);
__d("AdsTourGuideHighlighterMixin",["AdsTourGuideStore","AdsTourGuideDispatcher","AdsTourGuideConstants"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=i.ACTION,k={highlight:function(l){if(!l||this.isHighlighted(l))return;h.handleUpdate({actions:[{actionType:j.START_HIGHLIGHT,highlightKey:l}]});},unhighlight:function(l){if(!l||!this.isHighlighted(l))return;h.handleUpdate({actions:[{actionType:j.STOP_HIGHLIGHT,highlightKey:l}]});},isHighlighted:function(l){var m=g.getHighlightKeys();return m.indexOf(l)!==-1;}};e.exports=k;},null);
__d("AdsTourGuideSlideContainer.react",["AdsTourGuideHighlighterMixin","React","XUIGrayText.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.PropTypes,n=h.createClass({displayName:"AdsTourGuideSlideContainer",mixins:[g],_prevHighlight:undefined,propTypes:{title:m.node.isRequired,highlightOnMount:m.string},componentDidMount:function(){if(this.props.highlightOnMount){this.highlight(this.props.highlightOnMount);this._prevHighlight=this.props.highlightOnMount;}},componentDidUpdate:function(){if(this.props.highlightOnMount!==this._prevHighlight){this.unhighlight(this._prevHighlight);this.highlight(this.props.highlightOnMount);this._prevHighlight=this.props.highlightOnMount;}},componentWillUnmount:function(){if(this._prevHighlight)setTimeout(function(){this.unhighlight(this._prevHighlight);}.bind(this),0);},render:function(){return (h.createElement("div",h.__spread({},this.props,{className:k(this.props.className,"_4qnn")}),h.createElement("div",{className:"_4qno"},this.props.title),h.createElement(i,{size:"small",shade:"light",display:"block",className:"_4qnp"},this.props.children)));}});e.exports=n;},null);
__d("AdsTourGuideStepIndicator",["Circle.art","React","ReactART","cssVar"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h,l=k.PropTypes,m=i.Surface,n=4,o="#4e5665",p='#ccc',q=h.createClass({displayName:"AdsTourGuideStepIndicator",propTypes:{currentStep:l.number.isRequired,totalSteps:l.number.isRequired,hidden:l.bool},render:function(){if(this.props.hidden)return h.createElement("div",null);var r=4*this.props.totalSteps*n,s=4*n;return (h.createElement(m,{height:s,width:r},this._renderBullets()));},_renderBullets:function(){var r=[],s,t=2*n;for(s=0;s<this.props.totalSteps;s++){var u=2*n+(4*s*n),v=s<this.props.currentStep?o:p;r.push(h.createElement(g,{key:s,radius:n,fill:v,x:u,y:t}));}return r;}});e.exports=q;},null);
__d("AdsTourGuide.react",["AdsTourGuideConstants","AdsTourGuidePlan","AdsTourGuideSlideContainer.react","AdsTourGuideStepIndicator","AdsTourGuideStore","AdsTourGuideDispatcher","Image.react","LeftRight.react","Link.react","React","XUIButton.react","XUIScrubber.react","cx","fbt","glyph","ix","xuiglyph"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=g.ACTION,y=p,z=y.PropTypes,aa=r.Item,ba=r.SubItem,ca=p.createClass({displayName:"AdsTourGuide",propTypes:{plan:z.instanceOf(h).isRequired,onNextButtonClick:z.func,onBackButtonClick:z.func,onChapterSelect:z.func,onChapterComplete:z.func,initialCompletedChapters:z.arrayOf(z.string),deprecatedAlwaysAllowToAdvance:z.bool,showHighlights:z.bool},getDefaultProps:function(){return {deprecatedAlwaysAllowToAdvance:false,showHighlights:true};},getInitialState:function(){var ea={};(this.props.initialCompletedChapters||[]).forEach(function(fa){ea[fa]=true;});return {currentStep:this.props.plan.getFirstSectionKey()||"",isChapterDoneByKey:ea,showChapterCompleteImg:false};},componentWillMount:function(){var ea=k.subscribe('change',this._onUpdateFromStore);this._storeSubscriptionToken=ea;},componentWillReceiveProps:function(ea){if(this.props.showHighlights===ea.showHighlights)return;if(ea.showHighlights){l.handleUpdate({actions:[{actionType:x.RESUME_HIGHLIGHTS}]});}else l.handleUpdate({actions:[{actionType:x.PAUSE_HIGHLIGHTS}]});},componentWillUnmount:function(){this._storeSubscriptionToken.unsubscribe();},_onUpdateFromStore:function(){var ea=this.props.plan.getSlide(this.state.currentStep);if(ea&&ea.advanceEvent&&ea.advanceEvent===k.getCurrentEvent())this._advanceSlide();},render:function(){return (p.createElement(da,{plan:this.props.plan,illustration:this._renderIllustration(),step:this.state.currentStep,onNextButtonClick:this._onNextButtonClick,onBackButtonClick:this._onBackButtonClick,onMainMenuClick:this._onMainMenuClick,shouldHideNextButton:this._shouldHideNextButton,isChapterDoneByKey:this.state.isChapterDoneByKey,isNextChapter:this._isNextChapter,onSelectChapter:this._onSelectChapter}));},_onNextButtonClick:function(){if(this.props.onNextButtonClick&&this.props.onNextButtonClick(this.state.currentStep)===false)return;this._advanceSlide();},_onBackButtonClick:function(){if(this.props.onBackButtonClick&&this.props.onBackButtonClick(this.state.currentStep)===false)return;this._clearEvent();var ea=this.props.plan,fa=ea.getSlide(this.state.currentStep),ga=fa.chapterKey;if(fa.isCoverSlide){this._setChapterDone(ga);return;}var ha=ea.getSlideKeysFromChapter(ga),ia=ha.indexOf(this.state.currentStep);if(ia===-1)return;var ja;if(ia===0){ja=this._getCurrentSlide().sectionKey;}else ja=ha[ia-1];this.setState({currentStep:ja});},_getCurrentSlide:function(){return this.props.plan.getSlide(this.state.currentStep);},_onMainMenuClick:function(){this.setState({currentStep:this._getCurrentSlide().sectionKey},this._clearEvent);},_clearEvent:function(){l.handleUpdate({actions:[{actionType:x.CLEAR_EVENT}]});},_shouldHideNextButton:function(ea){if(this.props.deprecatedAlwaysAllowToAdvance)return false;var fa=this.props.plan.getSlide(ea);return !!fa.advanceEvent;},_isChapterDone:function(ea){return !!this.state.isChapterDoneByKey[ea];},_onSelectChapter:function(ea){var fa=this.props.plan.getSlideKeysFromChapter(ea);if(fa)this.setState({currentStep:fa[0],showChapterCompleteImg:false});this.props.onChapterSelect&&this.props.onChapterSelect(ea);},_advanceSlide:function(){var ea=this.props.plan,fa=null;if(ea.isSlideKey(this.state.currentStep)){fa=ea.getChapterKeyFromSlide(this.state.currentStep);}else fa=(ea.getChapterKeysFromSection(this.state.currentStep)||[])[0];var ga=ea.getSlideKeysFromChapter(fa),ha=ga.indexOf(this.state.currentStep);if(ha<ga.length-1){this.setState({currentStep:ga[ha+1]});}else this._setChapterDone(fa);},_setChapterDone:function(ea){var fa=this.state.isChapterDoneByKey;fa[ea]=true;this.setState({currentStep:this.props.plan.getSectionKeyFromSlide(this.state.currentStep),isChapterDoneByKey:fa,showChapterCompleteImg:true},function(){l.handleUpdate({actions:[{actionType:x.NEW_EVENT,eventName:null}]});this.props.onChapterComplete&&this.props.onChapterComplete(ea,Object.keys(this.state.isChapterDoneByKey));});},_getNextChapterKey:function(){var ea=this.state.currentStep,fa=this.props.plan;if(fa.isSlideKey(ea)){return fa.getNextChapterKey(fa.getChapterKeyFromSlide(ea));}else{var ga=(fa.getChapterKeysFromSection(ea)||[]);for(var ha=0;ha<ga.length;ha++)if(!this._isChapterDone(ga[ha]))return ga[ha];}},_isNextChapter:function(ea){return false;},_renderIllustration:function(){var ea=null;if(!this.props.plan.isSlideKey(this.state.currentStep)){ea=this.props.plan.getDefaultIllustration();}else{var fa=this._getCurrentSlide();if(!fa.illustration){var ga=this.props.plan.getChapter(fa.chapterKey);ea=ga.illustration;}else ea=fa.illustration;}ea=ea||(p.createElement(m,{src:v('images/brands/setup_guide/setup_default.png')}));var ha=this.state.showChapterCompleteImg?(p.createElement(m,{src:v('images/ads/components/tourguide/circle_check.png')})):null;return (p.createElement("div",{className:"_3ua8"},p.createElement("div",{className:(("_11ve")+(!!ha?' '+"visible":''))},ha),ea));}}),da=p.createClass({displayName:"AdsTourGuideDisplayRenderer",propTypes:{step:z.string.isRequired,isChapterDoneByKey:z.object.isRequired,isNextChapter:z.func.isRequired,plan:z.instanceOf(h).isRequired,onSelectChapter:z.func.isRequired,illustration:z.node.isRequired,onBackButtonClick:z.func.isRequired,onNextButtonClick:z.func.isRequired,onMainMenuClick:z.func.isRequired,shouldHideNextButton:z.func.isRequired},render:function(){var ea;if(this.props.plan.isSlideKey(this.props.step)){ea=this._renderSlide(this.props.step);}else if(this.props.plan.isChapterKey(this.props.step)){ea=this._renderSlide((this.props.plan.getSlideKeysFromChapter(this.props.step)||[])[0]);}else ea=this._renderMainMenu();return (p.createElement("div",{className:"_3ua7"},this.props.illustration,ea));},_renderSlide:function(ea){var fa=this.props.plan.getSlide(ea);if(!fa)return null;var ga=fa.title||this.props.plan.getChapter(fa.chapterKey).title,ha=(p.createElement(q,{onClick:this.props.onBackButtonClick,use:"default",label:fa.isCoverSlide?t._("No"):t._("Back"),size:"large"})),ia=this.props.shouldHideNextButton(ea)?p.createElement(q,{onClick:this._pingArrow,use:"confirm",size:"large"}):p.createElement(q,{onClick:this.props.onNextButtonClick,use:"confirm",label:t._("Next"),size:"large"});if(fa.isCoverSlide){ia.props.label=t._("Yes");}else ia.props.label=t._("Next");var ja=this._renderFooter(ea);return (p.createElement("div",null,p.createElement("div",{className:"_4-vd"},p.createElement("div",{className:"_36m8"},p.createElement(m,{className:"_2rxj _2pih",src:v('images/ads/components/tourguide/menuarrow.png')}),p.createElement(o,{onClick:this.props.onMainMenuClick},t._("Return"))),p.createElement(i,{title:ga,highlightOnMount:fa.highlight},fa.body)),p.createElement("div",{className:"_2ps-"},this._renderStepIndicator()),p.createElement("div",{className:"_l9f"},p.createElement(n,null,ha,ia)),p.createElement("div",{className:"_l9g"},t._("Not the right time? {=Skip for now}.",[t.param("=Skip for now",p.createElement(o,{onClick:this.props.onMainMenuClick},t._("Skip for now")))])),ja?(p.createElement("div",{className:"_l9h"},p.createElement(m,{className:"_36m9 _2pih",src:w({name:'book',shade:'dark',size:'medium'})}),this._renderFooter(ea))):null));},_renderFooter:function(ea){var fa=this.props.plan.getSlide(ea);if(!fa)return;return fa.footer;},_renderMainMenu:function(){var ea=this.props.plan.getTitle(),fa=this.props.plan.getBody(),ga=this.props.plan.getAllChapterKeys().length;if(Object.keys(this.props.isChapterDoneByKey).length===ga&&ga!==0){var ha=this.props.plan.getTitleOnFinish();if(ha)ea=ha;var ia=this.props.plan.getBodyOnFinish();if(ia){fa=ia;}else fa=null;}return (p.createElement("div",null,p.createElement("div",{className:"_4-vf"},p.createElement(i,{title:ea},fa)),ga===0?null:(p.createElement("div",{className:"_l9i"},p.createElement(r,{defaultSelected:this.props.step},this._renderMenuItems())))));},_renderMenuItems:function(){var ea=this.props.plan.getSections(),fa=Object.keys(ea).map(function(ga){var ha=ea[ga];return (p.createElement(aa,{key:ga},ha.title,this.props.plan.getChapterKeysFromSection(ga).map(this._renderChapter)));},this);return fa;},_renderChapter:function(ea){var fa=this.props.plan.getChapter(ea),ga=this.props.isNextChapter(ea),ha=!!this.props.isChapterDoneByKey[ea];return (p.createElement(ba,{key:fa.key,onSelect:this.props.onSelectChapter.bind(null,ea)},p.createElement("span",{className:((ha?"_3uaa":''))},p.createElement(m,{className:(("_3-90")+(!(ga&&!ha)?' '+"hidden_elem":'')),src:u('forward')}),fa.title,p.createElement(m,{className:(("_3-9a")+(' '+"_36m9")+(!ha?' '+"hidden_elem":'')),src:v('images/ads/components/tourguide/check-green.png')}))));},_renderStepIndicator:function(){var ea=this.props.plan.getSlideNumberInChapter(this.props.step),fa=this.props.plan.getTotalSlidesInChapter(this.props.plan.getChapterKeyFromSlide(this.props.step));return (p.createElement(j,{currentStep:ea,totalSteps:fa}));},_pingArrow:function(){l.handleUpdate({actions:[{actionType:x.PING_ARROW}]});}});e.exports=ca;},null);
__d("AdsTourGuideArrow.react",["AdsTourGuideStore","ContextualDialog","ContextualDialogArrow","LayerAutoFocus","React","ReactLayer","cx","LEGACY_getSiblingByRef"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=k,p=o.PropTypes,q={wrapperClassName:"_1a9y"},r=72,s=3000,t=l.createClass({displayName:'AdsTourGuideArrow',immutableProps:{modal:null},getDefaultProps:function(){return {offsetX:0,offsetY:-14};},createLayer:function(v){var w=this.getContextNode(),x={alignment:"center",arrowBehavior:i,context:w,offsetX:this.props.offsetX,offsetY:this.props.offsetY,position:this.props.position,theme:q,width:r},y=new h(x,v);y.disableBehavior(j);y.conditionShow(this.props.shown);return y;},receiveProps:function(v){var w=this.getContextNode();this.layer.setContext(w);this.layer.setPosition(v.position).setAlignment(v.alignment).setOffsetX(v.offsetX).setOffsetY(v.offsetY).setWidth(v.width).conditionShow(v.shown);},getContextNode:function(){var v=n(this.props.owner,this.props.contextRef);return v&&k.findDOMNode(v);}}),u=k.createClass({displayName:"AdsTourGuideArrow",propTypes:{contextRef:p.string.isRequired,position:p.oneOf(['left','right']).isRequired,shown:p.bool,offsetX:p.number,offsetY:p.number},getInitialState:function(){return {showRipple:false};},componentWillMount:function(){var v=g.subscribe('pingArrow',this._pingArrow);this._storeSubscriptionToken=v;},componentWillUnmount:function(){this._storeSubscriptionToken.unsubscribe();},render:function(){return (k.createElement(t,k.__spread({},this.props,{owner:this}),k.createElement("div",{className:(("_3u_2")+(this.props.position==='left'?' '+"_3ywk":'')+(this.props.position==='right'?' '+"_3ywl":''))},k.createElement("div",{className:(("_3rjq")+(!this.state.showRipple?' '+"hidden_elem":''))},k.createElement("div",{className:"_3rjr _3rjs"}),k.createElement("div",{className:"_3rjr _3rjt"}),k.createElement("div",{className:"_3rjr _3rju"})),this.props.children)));},_pingArrow:function(){if(this.state.showRipple)return;this.setState({showRipple:true},function(){setTimeout(this._stopPing,s);});},_stopPing:function(){this.setState({showRipple:false});}});e.exports=u;},null);
__d("AdsTourGuideHighlightable.react",["AdsTourGuideArrow.react","AdsTourGuideConstants","AdsTourGuideStore","AdsTourGuideDispatcher","React","ReactLayeredComponentMixin","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=h.ACTION,o=k,p=o.PropTypes,q=k.createClass({displayName:"AdsTourGuideHighlightable",mixins:[l],statics:{invokeEvent:function(r){if(!r)return;j.handleUpdate({actions:[{actionType:n.NEW_EVENT,eventName:r}]});}},propTypes:{highlightableID:p.string.isRequired,arrowPosition:p.oneOf(['left','right']),customClickHandler:p.bool,display:p.oneOf(['inline','inline-block','block'])},getDefaultProps:function(){return {arrowPosition:'left',customClickHandler:false,display:'inline-block'};},render:function(){return (k.createElement("div",{ref:"arrowContextRef",onClick:this._onClick,className:(("_x2_")+(this.props.display==='inline'?' '+"_5ghe":'')+(this.props.display==='inline-block'?' '+"_5ghf":''))},this.props.children));},componentWillMount:function(){var r=i.subscribe('change',this._doHighlight);this._storeSubscriptionToken=r;},componentWillUnmount:function(){this._storeSubscriptionToken.unsubscribe();},renderLayers:function(){var r=i.isHighlighted(this.props.highlightableID);if(!r)return {};return {arrow:(k.createElement(g,{contextRef:"arrowContextRef",position:this.props.arrowPosition,shown:r}))};},_onClick:function(){if(this.props.customClickHandler)return;this.constructor.invokeEvent(this.props.highlightableID);},_doHighlight:function(){this.forceUpdate();}});e.exports=q;},null);
__d("AdsFilterChangeTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={ADD_INPUT:'ADD_INPUT',ADD_PRESET:'ADD_PRESET',CLEAR:'CLEAR',CREATE_NEW:'CREATE_NEW',EDIT:'EDIT',REMOVE:'REMOVE',REMOVE_PRESET:'REMOVE_PRESET',SEARCH:'SEARCH'};e.exports=g;},null);
__d("adsAsyncUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=30;function h(j,k,l){"use strict";this.$ParallelForEach0=j;this.$ParallelForEach1=1;this.$ParallelForEach2=k;this.$ParallelForEach3=l;this.$ParallelForEach4=0;this.$ParallelForEach5=0;this.$ParallelForEach6=0;this.$ParallelForEach7=60000;this.$ParallelForEach8=null;}h.prototype.setTimeoutLimit=function(j){"use strict";this.$ParallelForEach7=j;return this;};h.prototype.setTimeoutHandler=function(j){"use strict";this.$ParallelForEach8=j;return this;};h.prototype.setContext=function(j){"use strict";this.$ParallelForEach9=j;return this;};h.prototype.setExceptionHandler=function(j){"use strict";this.$ParallelForEacha=j;return this;};h.prototype.setConcurrency=function(j){"use strict";this.$ParallelForEach1=j;return this;};h.prototype.run=function(){"use strict";var j=this;if(j.$ParallelForEach4<j.$ParallelForEach1)j.hasNext(function(k){if(k){j.$ParallelForEachb(0);j.run();}else if(j.$ParallelForEach4===0)j.$ParallelForEach3.call(j.$ParallelForEach9||null);});};h.prototype.hasNext=function(j){"use strict";j(this.$ParallelForEach4<this.$ParallelForEach0.length);};h.prototype.numRunning=function(){"use strict";return this.$ParallelForEach4-this.$ParallelForEach5;};h.prototype.next=function(){"use strict";return this.$ParallelForEach0[this.$ParallelForEach4++];};h.prototype.$ParallelForEachb=function(j){"use strict";var k=this.$ParallelForEach4,l=this.next();if(j&&j%g===0){setTimeout(this.$ParallelForEachc.bind(this,l,k,0),1);}else this.$ParallelForEachc(l,k,j);};h.prototype.$ParallelForEachc=function(j,k,l){"use strict";var m=null;if(this.$ParallelForEach8)setTimeout(this.$ParallelForEach8,this.$ParallelForEach7);try{this.$ParallelForEach2.call(this.$ParallelForEach9||null,j,k,this.$ParallelForEachd.bind(this,l,m));}catch(n){if(this.$ParallelForEacha){this.$ParallelForEacha(n);this.$ParallelForEachd(l,m);}else throw n;}};h.prototype.$ParallelForEachd=function(j,k){"use strict";if(k)clearTimeout(k);var l=this;++l.$ParallelForEach5;++l.$ParallelForEach6;l.hasNext(function(m){--l.$ParallelForEach6;if(m){l.$ParallelForEachb(j+1);}else if(l.$ParallelForEach6===0&&l.numRunning()===0)l.$ParallelForEach3.call(l.$ParallelForEach9||null);});};var i=function(j,k,l,m){var n=new h(j,k,l);n.setConcurrency(1).setContext(m).run();};e.exports={forEach:i};},null);
__d("chunkArray",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';function g(h,i){var j=[],k=0;while(h.length>k){j.push(h.slice(k,k+i));k+=i;}return j;}e.exports=g;},null);
__d("AdsFBBatch_DEPRECATED",["ads-lib-connect_DEPRECATED","adsAsyncUtils","QueryString","AdsUtils","chunkArray","flattenObject"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=b('ads-lib-connect_DEPRECATED').FB,n={error:{message:'Error parsing graph response'}};function o(r){try{return r&&JSON.parse(r);}catch(s){return n;}}function p(r){return r.map(function(s){var t={method:s.method},u=i.encode(l(s.params));if((s.method==='GET'||s.method==='DELETE')&&s.params){t.relative_url=s.path+"?"+u;}else{t.relative_url=s.path;t.body=u;}if(s.name){t.name=s.name;t.omit_response_on_success=false;}return t;});}function q(){"use strict";this._requests=[];}q.prototype.add=function(r,s,t,u,v){"use strict";this._requests.push({method:r,path:s,params:t,callback:u,name:v});};q.prototype.run=function(r,s){"use strict";return q.run(this._requests,r,s);};q.run=function(r,s,t){"use strict";var u=[],v=function(){s&&s(u);};switch(r.length){case 0:v();break;case 1:var w=r[0],x=Date.now();m.api(w.path,w.method,w.params||{},function(aa){if(g.isError(aa))u.push(aa);w.callback(aa,v);if(t){var ba=Math.floor((Date.now()-x)/1000);t([w],[aa],ba,1,1);}});break;default:var y=k(r,q.MAX_NUM_REQUESTS_BATCH),z=0;h.forEach(y,function(aa,ba,ca){var da=p(aa),ea=Date.now();m.api('/','post',{batch:da},function(fa){h.forEach(fa,function(ha,ia,ja){var ka=ha&&o(ha.body);if(ka===n){var la=j.clone(n);la.response=ha;u.push(la);}else if(g.isError(ka))u.push(ka);aa[ia].callback(ka,ja);},ca);if(t){var ga=Date.now()-ea;z+=da.length;t(da,fa,ga,z,r.length);}});},v);break;}};q.MAX_NUM_REQUESTS_BATCH=50;e.exports=q;},null);
__d("ads-lib-dateRange",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=24*60*60*1000;function h(ga,ha){if(!ga||!ha)return '0-0';return k(ga)+'-'+k(ha);}function i(ga,ha){if(!ga||!ha){return '0-0';}else if(ga.getTime()===o().getTime()&&ha.getTime()===ba().getTime())return '0-1';return k(ga,p)+'-'+k(ha,p);}function j(ga,ha){if(!ga||!ha)return '0-0';return m(ga,p)+'-'+m(ha,p);}function k(ga,ha){if(ha===(void 0))ha=function(ia){return ia;};return [ga.getMonth()+1,ga.getDate()].map(ha).concat(ga.getFullYear()).join('/');}function l(ga,ha){if(ha===(void 0))ha=function(ia){return ia;};return [ga.getHours(),ga.getMinutes()].map(ha).join(':');}function m(ga,ha){if(ha===(void 0))ha=function(ia){return ia;};return k(ga,ha)+' '+l(ga,ha);}function n(ga){if(!ga)return '';var ha=ga.split('-');if(ha[0]=='0'||ha[1]=='0')return '';return {from:q(ha[0]),to:q(ha[1])};}function o(ga){ga=ga?aa(ga):new Date();ga.setHours(0,0,0,0);return ga;}function p(ga){return (ga+100+'').substr(1);}function q(ga,ha){return ga&&(u(ga,ha)||s(ga,ha));}var r=/(\d+)-(\d+)-(\d+)(?:[\sa-zA-Z]+(\d+):(\d+)(?::(\d+))?\s*(\w*))?/;function s(ga,ha){var ia=ga.match(r);if(!ia)return null;var ja=o();x(ja,ia[1],ia[2],ia[3]);y(ja,ia[4],ia[5],ia[6]||0,ia[7],ha);return ja;}var t=/(\d+)\/(\d+)\/(\d+)(?:\s+(\d+):(\d+)(?::(\d+))?\s*(\w*))?/;function u(ga,ha){var ia=ga.match(t);if(!ia)return null;var ja=o();x(ja,ia[3],ia[1],ia[2]);y(ja,ia[4],ia[5],ia[6]||0,ia[7],ha);return ja;}var v=/(?:\s*(\d+):(\d+)(?::(\d+))?\s*(\w*))?/;function w(ga,ha,ia){var ja=ha.match(v);if(!ja)return ga;y(ga,ja[1],ja[2],ja[3]||0,ja[4],ia);return ga;}function x(ga,ha,ia,ja){ha*=1;if(ha<1000)ha+=2000;ga.setFullYear(ha,ia*1-1,ja*1);}function y(ga,ha,ia,ja,ka,la){if(ha){ga.setHours(z(ha*1,ka));ga.setMinutes(ia*1);ga.setSeconds(ja*1);}else if(la){ga.setHours(23,59);}else ga.setHours(0);}function z(ga,ha){ha=ha.toLowerCase();if(ha=='am'&&ga==12)return 0;if(ha=='pm'&&ga!=12)return ga+12;return ga;}function aa(ga){var ha=new Date();ha.setTime(ga&&ga.getTime&&ga.getTime()||0);return ha;}function ba(){var ga=o();ga.setDate(ga.getDate()+1);return ga;}function ca(){var ga=o();ga.setDate(ga.getDate()-1);return ga;}function da(){return o();}function ea(ga,ha){return ga.getTime()===ha.getTime();}function fa(ga,ha){return Math.floor(((ha-ga)+60*1000)/g);}e.exports={areEqual:ea,encode:h,encodeShowTwoDigits:i,encodeShowTime:j,decode:n,date:o,generateFullDate:k,getPeriodDays:fa,getToday:da,getTomorrow:ba,getYesterday:ca,decodeDateAndTime:q,decodeTime:w,cloneDate:aa};},null);
__d("KeplerProgressBar.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"KeplerProgressBar",propTypes:{className:k.string,status:k.string},render:function(){var m=i((("_55_n")+(this.props.status==l.LOADING?' '+"_5602":'')+(this.props.status==l.COMPLETE?' '+"_55_y":'')),this.props.className);return (g.createElement("div",{className:m},g.createElement("div",{className:"_55_w"})));}});l.COMPLETE='complete';l.LOADING='loading';e.exports=l;},null);
__d("AdsValidator",["underscore.ads","emptyFunction","invariant"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(k){this.propertySpecs=k;this.validators={};this.transforms={};this.nullables={};this.defaultErrorMessages={};this._initialize();}j.prototype.isDeclaredProperty=function(k){return this.propertySpecs[k]!==(void 0);};j.prototype.validateProperty=function(k,l,m,n){return this._validate(k,l,false,m,n);};j.prototype.validateProperties=function(k,l,m){return this._validateProperties(k,k,m,l,false);};j.prototype.transformAndValidateProperties=function(k,l,m){return this._validateProperties(k,k,m,l,true);};j.prototype.transformAndValidateEditedProperties=function(k,l){return this._validateProperties(k,l,k,false,true);};j.prototype._validateProperties=function(k,l,m,n,o){var p={},q=n?Object.keys(this.propertySpecs):Object.keys(k);q.forEach(function(r){if(!this.isDeclaredProperty(r))return;var s=k[r],t=this._validate(r,s,o,l||k,m);if(o||!t.isValid||t.hasWarning)p[r]=t;},this);return (Object.keys(p).length)?p:null;};j.prototype.transformAndValidateProperty=function(k,l,m,n){return this._validate(k,l,true,m,n);};j.prototype._initialize=function(){function k(l){if(!g.isArray(l)){i(g.isFunction(l));return [l];}return l;}g.forEach(this.propertySpecs,function(l,m){if(l.validators)this.validators[m]=k(l.validators);if(l.transforms)this.transforms[m]=k(l.transforms);if(l.isNullable)this.nullables[m]=g.isFunction(l.isNullable)?l.isNullable:h.thatReturns(l.isNullable);if(l.defaultErrorMessage)this.defaultErrorMessages[m]=g.isFunction(l.defaultErrorMessage)?l.defaultErrorMessage:h.thatReturns(l.defaultErrorMessage);},this);};j.prototype._validate=function(k,l,m,n,o){i(this.propertySpecs[k]);if(l===(void 0))return {isValid:false,text:k+' can never be undefined',value:l};if(l===null){var p=this.defaultErrorMessages[k]?this.defaultErrorMessages[k](n):null;p=p||(k+' cannot be null');var q=this.nullables[k];return (q&&q(n))?this._validResult(l):{isValid:false,text:p,value:l};}var r=this.validators[k]||[],s=this.transforms[k];if(m&&s)r=s.concat(r);return this._applyValidators(k,l,r,n,o);};j.prototype._applyValidators=function(k,l,m,n,o){var p=g.reduce(m,function(r,s){if(!r.isValid||r.hasWarning)return r;var t=s(r.value,n,o);if(!(t.hasOwnProperty('value')))t.value=r.value;return t;},this._validResult(l)),q=this.defaultErrorMessages[k];if(!p.isValid&&!p.text&&q&&q(n))p.text=q(n);return p;};j.prototype._validResult=function(k){return {isValid:true,value:k,hasWarning:false};};e.exports=j;},null);
__d("AppConstants.brands",["AdmanagerAccountStatuses"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={PEOPLE:'people',PAGES:'pages',AD_ACCOUNTS:'ad-accounts',APPS:'apps',PIXELS:'pixels',PRODUCT_CATALOGS:'product-catalogs',FUNDING_SOURCES:'payment-methods',PROJECTS:'projects',AGENCIES:'agencies',INFO:'info',SHARED_LOGINS:'shared-logins',SYSTEM_USERS:'system-users',REQUESTS:'requests'},i={APP_NOTICE_ERROR_ADD:'app-notice-error-add',APP_ERROR_REMOVE:'app-error-remove',SET_CONTEXT:'app-set-context',SET_CONTEXT_FROM_URI:'app-set-context-from-uri',UPDATE_CONTEXT:'app-update-context',CHANGE_BRAND:'app-change-brand',FLUSH:'flush'},j={UPDATE_START:'brand-update-start',UPDATE_SUCCESS:'brand-update-success',UPDATE_ERROR:'brand-update-error'},k={LAZY_LOAD_USER_DATA:'asset-permission-lazy-load-user-data'},l={UPDATE_START:'user-persona-update-start',UPDATE_SUCCESS:'user-persona-update-success',UPDATE_ERROR:'user-persona-update-error'},m={CREATE_START:'user-request-create-start',CREATE_SUCCESS:'user-request-create-success',CREATE_ERROR:'user-request-create-error',UPDATE_START:'user-request-update-start',UPDATE_SUCCESS:'user-request-update-success',UPDATE_ERROR:'user-request-update-error',UPDATE_DISMISS_MESSAGE:'user-request-update-dismiss-message',UPDATE_STATUS:'user-request-update-status',DELETE_START:'user-request-delete-start',DELETE_ERROR:'user-request-delete-error',DELETE_SUCCESS:'user-request-delete-success',LEAVE_BUSINESS_START:'user-request-leave-business-start',LEAVE_BUSINESS_ERROR:'user-request-leave-business-error',LEAVE_BUSINESS_SUCCESS:'user-request-leave-business-success'},n={NAME_CHANGE:'project-name-change',CREATE_START:'project-create-start',CREATE_SUCCESS:'project-create-success',CREATE_ERROR:'project-create-error',DELETE_START:'project-delete-start',DELETE_SUCCESS:'project-delete-success',DELETE_ERROR:'project-delete-error',UPDATE_START:'project-update-start',UPDATE_SUCCESS:'project-update-success',UPDATE_ERROR:'project-update-error',ADD_ASSETS_START:'project-add-assets-start',ADD_ASSETS_SUCCESS:'project-add-assets-success',ADD_ASSETS_ERROR:'project-add-assets-error',DELETE_ASSET_START:'project-delete-asset-start',DELETE_ASSET_SUCCESS:'project-delete-asset-success',DELETE_ASSET_ERROR:'project-delete-asset-error',CLEAR_STATUS:'project-clear-status'},o={FETCH_SUCCESS:'page-fetch-success',CLEAR_STATUS:'page-create-clear-status',CREATE_START:'page-create-start',CREATE_SUCCESS:'page-create-success',CREATE_ERROR:'page-create-error',DELETE_START:'page-delete-start',DELETE_SUCCESS:'page-delete-success',DELETE_ERROR:'page-delete-error',MIGRATE_START:'page-migrate-start',MIGRATE_SUCCESS:'page-migrate-success',MIGRATE_ERROR:'page-migrate-error'},p={CREATE_START:'product-catalog-create-start',CREATE_SUCCESS:'product-catalog-create-success',CREATE_ERROR:'product-catalog-create-error',DELETE_START:'product-catalog-delete-start',DELETE_SUCCESS:'product-catalog-delete-success',DELETE_ERROR:'product-catalog-delete-error'},q={DELETE_START:'asset-permission-delete-start',DELETE_SUCCESS:'asset-permission-delete-success',DELETE_ERROR:'asset-permission-delete-error',UPDATE_START:'asset-permission-update-start',UPDATE_SUCCESS:'asset-permission-update-success',UPDATE_ERROR:'asset-permission-update-error',CLEAR_STATUS:'asset-permission-clear-status',CLEAR_USER_STATUS:'asset-permission-clear-user-status'},r={DELETE_START:'agency-delete-start',DELETE_SUCCESS:'agency-delete-success',DELETE_ERROR:'agency-delete-error',UPDATE_START:'agency-update-start',UPDATE_SUCCESS:'agency-update-success',UPDATE_ERROR:'agency-update-error'},s={DELETE_START:'agency-permission-delete-start',DELETE_SUCCESS:'agency-permission-delete-success',DELETE_ERROR:'agency-permission-delete-error',UPDATE_START:'agency-permission-update-start',UPDATE_SUCCESS:'agency-permission-update-success',UPDATE_ERROR:'agency-permission-update-error'},t={BUSINESS_ACCOUNT:'Business Manager',AD_ACCOUNT:'ad account',PAGE:'Page',PRODUCT_CATALOG:'product catalog',USER:'user'},u={ACCEPT_START:'agency-request-request-start',ACCEPT_SUCCESS:'agency-request-delete-success',ACCEPT_ERROR:'agency-request-delete-error',REJECT_START:'agency-request-update-start',REJECT_SUCCESS:'agency-request-update-success',REJECT_ERROR:'agency-request-update-error'},v={DELETE_START:'client-delete-start',DELETE_SUCCESS:'client-delete-success',DELETE_ERROR:'client-delete-error',UPDATE_START:'client-update-start',UPDATE_SUCCESS:'client-update-success',UPDATE_ERROR:'client-update-error'},w={DELETE_START:'client-permission-delete-start',DELETE_SUCCESS:'client-permission-delete-success',DELETE_ERROR:'client-permission-delete-error',UPDATE_START:'client-permission-update-start',UPDATE_SUCCESS:'client-permission-update-success',UPDATE_ERROR:'client-permission-update-error'},x={ROLES:'roles',OWNERSHIP:'ownership'},y={CREATE_ERROR:'funding-source-create-error',CREATE_START:'funding-source-create-start',CREATE_SUCCESS:'funding-source-create-success',DELETE_START:'funding-source-delete-start',DELETE_SUCCESS:'funding-source-delete-success',DELETE_ERROR:'funding-source-delete-error',FETCH_ERROR:'funding-source-fetch-error'},z={CLAIM_START:'ad-account-claim-start',CLAIM_SUCCESS:'ad-account-claim-success',CLAIM_ERROR:'ad-account-claim-error',CREATE_START:'ad-account-create-start',CREATE_SUCCESS:'ad-account-create-success',CREATE_ERROR:'ad-account-create-error',UPDATE_START:'ad-account-update-start',UPDATE_SUCCESS:'ad-account-update-success',UPDATE_ERROR:'ad-account-update-error',MIGRATE_START:'ad-account-migrate-start',MIGRATE_SUCCESS:'ad-account-migrate-success',MIGRATE_ERROR:'ad-account-migrate-error',DELETE_REQUEST_START:'ad-account-delete-request-start',DELETE_REQUEST_SUCCESS:'ad-account-delete-request-success',DELETE_REQUEST_ERROR:'ad-account-delete-request-error',DELETE_START:'ad-account-delete-start',DELETE_ERROR:'ad-account-delete-error',DELETE_SUCCESS:'ad-account-delete-success',REMOVE_FROM_GROUP_START:'ad-account-remove-from-group-start',REMOVE_FROM_GROUP_ERROR:'ad-account-remove-from-group-error',REMOVE_FROM_GROUP_SUCCESS:'ad-account-remove-from-group-success',FETCH_ERROR:'ad-account-fetch-error'},aa={CLEAR_STATUS:'app-create-clear-status',UPDATE_START:'app-update-start',UPDATE_SUCCESS:'app-update-success',UPDATE_ERROR:'app-update-error',MIGRATE_START:'app-migrate-start',MIGRATE_SUCCESS:'app-migrate-success',MIGRATE_ERROR:'app-migrate-error',DELETE_START:'app-delete-start',DELETE_SUCCESS:'app-delete-success',DELETE_ERROR:'app-delete-error'},ba={CREATE_START:'system-user-create-start',CREATE_SUCCESS:'system-user-create-success',CREATE_ERROR:'system-user-create-error',UPDATE_START:'system-user-update-start',UPDATE_SUCCESS:'system-user-update-success',UPDATE_ERROR:'system-user-update-error',UPDATE_DISMISS_MESSAGE:'system-user-update-dismiss-message',DELETE_REQUEST_START:'system-user-delete-request-start',DELETE_REQUEST_SUCCESS:'system-user-delete-request-success',DELETE_REQUEST_ERROR:'system-user-delete-request-error',DELETE_START:'system-user-delete-start',DELETE_ERROR:'system-user-delete-error',DELETE_SUCCESS:'system-user-delete-success',FETCH_ERROR:'system-user-fetch-error'},ca={CREATE_START:'shared-login-create-start',CREATE_SUCCESS:'shared-login-create-success',CREATE_ERROR:'shared-login-create-error'},da={SYNCED:'synced',CREATING:'creating',CREATE_SUCCESS:'create-success',CREATE_ERROR:'create-error',UPDATING:'updating',UPDATE_SUCCESS:'update-success',UPDATE_ERROR:'update-error',DELETING:'deleting',DELETED:'deleted'},ea={PAGE:'page',AD_ACCOUNT:'ad-account',PRODUCT_CATALOG:'product-catalog',APP:'app',PIXEL:'pixel',SYSTEM_USER:'system-user',BRAND:'brand',USER:'user',PROJECT:'project',FUNDING_SOURCE:'funding-source',LEGACY_LOGIN:'legacy-login'},fa={OWNER:'OWNER',AGENCY:'AGENCY'},ga={CONFIRMED:'CONFIRMED',PENDING:'PENDING',ERROR:'ERROR'},ha={ACTIVE:'ACTIVE',SUSPENDED:'SUSPENDED',INVITED:'INVITED',NOT_EMPLOYEE:'not-employee'},ia={ADMIN:'ADMIN',MANAGER:'MANAGER',EMPLOYEE:'EMPLOYEE',NO_PERMISSION:'NO_PERMISSION'},ja={ADMIN_SYSTEM_USER:'ADMIN_SYSTEM_USER',SYSTEM_USER:'SYSTEM_USER'},ka={NONE:'NONE',UNFOUND:'UNFOUND'},la={CREDIT_CARD:'credit-card',DIRECT_DEBIT:'direct-debit',EXTENDED_CREDIT:'extended-credit',FACEBOOK_AD_COUPON:'facebook-ad-coupon',PAYPAL:'paypal'},ma={DISPATCHER:'Dispatch events',SET_STATE_NULL:'Nullified setState()',STORE_INFORM:'Store inform events',STORE_DUMP:'Store dumps',VIEW_RENDER:'View render',VIEW_MOUNT:'View mounting',VIEW_UNMOUNT:'View unmounting',VIEW_RECEIVE_PROPS:'View receiving props'},na={CLIENT_RESPONSE_PENDING:'CLIENT_RESPONSE_PENDING',AGENCY_RESPONSE_PENDING:'AGENCY_RESPONSE_PENDING',CONFIRMED:'CONFIRMED',SUSPENDED:'SUSPENDED'},oa={OPEN_ADD_USER_DIALOG:'_oaud'},pa={NONE:'none',ADMIN_REQUIRED:'admin_required',ALL_REQUIRED:'all_required'};e.exports={ACCESS_TYPE:fa,ACTION:i,ACCOUNT_STATUS:g,AD_ACCOUNT_ACTION:z,AGENCY_ACTION:r,AGENCY_PERMISSION_ACTION:s,AGENCY_REQUEST:u,APP_ACTION:aa,APP_REQUEST_TYPE:x,API_VERSION:'v2.2',ASSET_PERMISSION_ACTION:q,ASSET_TYPE:ea,ATTRIBUTION_TYPE:ka,BRAND_ACTION:j,BUSINESS_SETTING_LOG_OBJECT_TYPE:t,CATEGORIES:h,CLIENT_ACTION:v,CLIENT_AGENCY_STATUS:na,CLIENT_PERMISSION_ACTION:w,CONSOLE_MESSAGE_TYPE:ma,DEFAULT_API_LIMIT:3000,DEFAULT_API_ACCUMULATE_LIMIT:750,FUNDING_SOURCE_ACTION:y,FUNDING_TYPE:la,PROJECT_ACTION:n,OBJECT_STATUS:da,PAGE_ACTION:o,PRODUCT_CATALOG_ACTION:p,REQUESTED_ASSET_STATUS:ga,SHARED_LOGIN_ACTION:ca,SYSTEM_USER_ACTION:ba,SYSTEM_USER_ROLE:ja,USER_ACTION:k,USER_PERSONA_ACTION:l,USER_REQUEST_ACTION:m,USER_ROLE:ia,USER_STATUS:ha,URL_PARAMS:oa,TWO_FACTOR_TYPES:pa};},null);
__d("AdsValidatorTests",["AppConstants.brands","ClientIDs","getObjectValues"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.ACCOUNT_STATUS,k='CONFIRMED',l='PENDING',m=/^-?\d+$/,n=/[\f\n\r\t\v]/,o=/^[1-9]\d*$/,p=Date.parse('Jan 1, 1970'),q=Date.parse('March 21, 2100'),r=142,s=i(j);function t(ta){return {isValid:!!ta,text:'must have non-zero length'};}function u(ta){return {isValid:typeof(ta)==="boolean",text:'must represent a boolean value'};}function v(ta){return {isValid:ta instanceof Array,text:'must represent a array value'};}function w(ta,ua){return {isValid:ua.length>=ta,text:'should contain at least '+ta+' items'};}function x(ta){return {isValid:ta instanceof Object,text:'must represent a object value'};}function y(ta,ua){return {isValid:ua.length===ta,text:'string should be exactly '+ta+' characters'};}function z(ta,ua){return {isValid:ua.length>=ta,text:'must be at least '+ta+' characters'};}function aa(ta,ua){return {isValid:ua.length<=ta,text:'must be at most '+ta+' characters'};}function ba(ta,ua){return {isValid:ta.test(ua),text:'must not contain invalid characters'};}function ca(ta){return {isValid:!n.test(ta),text:'must not contain invalid whitespace characters like tab or return'};}function da(ta){var ua=parseFloat(ta,10);return {isValid:!isNaN(ua)&&ua==ta,text:'must represent a floating point number'};}function ea(ta){var ua=ba(m,ta);ua.text='must represent an integer';return ua;}function fa(ta){return {isValid:ta%1===0&&ta>0,text:'must be a positive integer'};}function ga(ta){return {isValid:ta>p&&ta<q,text:'must be in the valid timestamp range,'};}function ha(ta){return {isValid:ga(ta).isValid||ta===0,text:'must be either in the valid timestamp range or is zero'};}function ia(ta){return {isValid:Object.prototype.toString.call(ta)==='[object Date]',text:'must be a valid date'};}function ja(ta,ua){var va=ua&&ua.endTime;return {isValid:ga(ta).isValid&&va&&ta<=va,text:'need valid end time and start time cannot be later than end time'};}function ka(ta,ua){var va=ua.startTime;return {isValid:ga(ta).isValid&&va&&va<=ta,text:'need valid start time and end time cannot be earlier than start time'};}function la(ta){return {isValid:o.test(ta),text:'must be a valid FBID'};}function ma(ta){return {isValid:ta>0&&ta<r,text:'must be a valid timezone id'};}function na(ta,ua){return {isValid:!ta.validateProperties(ua),text:'must be a valid object'};}function oa(ta,ua){var va=ta.every(ua.hasOwnProperty,ua);return {isValid:va,text:'object must contain all given props'};}function pa(ta){return {isValid:la(ta).isValid||!!h.isExistingClientID(ta),text:'must be a valid FBID or ClientID'};}function qa(ta,ua){var va=true,wa='';for(var xa=0;xa<ua.length;xa++){var ya=ua[xa];wa='each item '+ta(ya).text;if(!ta(ya).isValid){va=false;break;}}return {isValid:va,text:wa};}function ra(ta){return {isValid:!!(ta===k||ta===l),text:'must be a CONFIRMED or PENDING status'};}function sa(ta){return {isValid:s.indexOf(ta)>=0,text:'must be a valid ad account status'};}e.exports={isLengthyString:t,isExactLengthString:y,isAllValidCharacters:ba,hasNoInvalidWhitespace:ca,isFloatString:da,isIntegerString:ea,isPositiveInteger:fa,isMinLengthString:z,isMaxLengthString:aa,isUnixTimestamp:ga,isUnixTimestampOrZero:ha,isDate:ia,isValidStartTime:ja,isValidEndTime:ka,isBoolean:u,isValidJson:x,isValidArray:v,isMinLengthArray:w,isFBIDString:la,isValidTimeZoneID:ma,isValidObject:na,hasProperties:oa,isFBIDOrClientIDString:pa,isValidCollection:qa,isValidAssetStatus:ra,isValidAccountStatus:sa};},null);
__d("AdsValidatorTransforms",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';function g(l){var m=(typeof l==='string')?parseFloat(l,10):l;return {isValid:m==l,text:'is not a floating point number',value:m};}function h(l){var m=(typeof l==='string')?parseInt(l,10):l;return {isValid:m==l,text:'is not a number',value:m};}function i(l){var m=''+l;return {isValid:true,value:m};}function j(l){return {isValid:true,value:l.trim()};}function k(l,m){m=Math.floor(Math.abs(m));if(l&&m>l)m=l;return {isValid:true,value:m};}e.exports={toFloat:g,toInteger:h,toPositiveInteger:k,toString:i,trim:j};},null);
__d("ClientServerIDMap",["Map"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=new g(),i={addIDMapping:function(j,k){h.set(j,k);},resolveID:function(j){return h.get(j)||j;},getKeys:function(){return Array.from(h.keys());}};e.exports=i;},null);
__d("StoreList.brands",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={getList:function(){try{var i=b,j=i('ActiveContextStore.brands'),k=i('AssetPermissionStore.brands'),l=i('AdAccountStore.brands'),m=i('AppAuthorizedAdAccountsStore.brands'),n=i('BrandAgencyStore.brands'),o=i('BrandAppStore.brands'),p=i('BrandPageStore.brands'),q=i('BrandStore.brands'),r=i('BrandSystemUserStore.brands'),s=i('XPageStore.brands'),t=i('ProjectStore.brands'),u=i('PageStore.brands'),v=i('PaymentMethodStore.brands'),w=i('SystemUserStore.brands'),x=i('UserAdAccountStore.brands'),y=i('UserStore.brands');return [['ActiveContextStore',j],['AppAuthorizedAdAccountsStore',m],['AssetPermissionStore',k],['AdAccountStore',l],['BrandAgencyStore',n],['BrandAppStore',o],['BrandPageStore',p],['BrandSystemUserStore',r],['BrandStore',q],['PaymentMethodStore',v],['ProjectStore',t],['SystemUserStore',w],['XPageStore',s],['PageStore',u],['UserAdAccountStore',x],['UserStore',y]];}catch(h){return [];}}};e.exports=g;},null);
__d("Console.brands",["AppConstants.brands","StoreList.brands","underscore.ads","merge"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=g.CONSOLE_MESSAGE_TYPE,l='brands:console:config',m={_settings:{shownTypes:[],shouldShowExtra:false,viewWhitelist:""},_subscriptions:[],_storeEvents:['change'],_loadSettings:function(){var n=window.localStorage;if(!n)return;var o=JSON.parse(n.getItem(l));if(o)this._settings=j(this._settings,o);},_saveSettings:function(){var n=window.localStorage;if(!n)return;n.setItem(l,JSON.stringify(this._settings));},getShouldShowType:function(n){return i.contains(this._settings.shownTypes,n);},toggleShouldShowType:function(n,o){if(o){this._settings.shownTypes.push(n);}else this._settings.shownTypes=i.without(this._settings.shownTypes,n);this._saveSettings();},getShouldShowExtra:function(){return this._settings.shouldShowExtra;},toggleShouldShowExtra:function(n){this._settings.shouldShowExtra=n;this._saveSettings();},getViewWhitelist:function(){return this._settings.viewWhitelist;},setViewWhitelist:function(n){this._settings.viewWhitelist=n;this._saveSettings();},log:function(n,o,p,q){},_shouldWriteToLog:function(n,o){if(!i.contains(this._settings.shownTypes,n))return false;switch(n){case k.VIEW_MOUNT:case k.VIEW_RENDER:case k.VIEW_UNMOUNT:case k.VIEW_RECEIVE_PROPS:var p=this.getViewWhitelist(),q=p.split(",").map(function(r){return r.trim();});if(p&&!i.contains(q,o))return false;break;}return true;},attach:function(){},_attach:function(){h.getList().forEach(function(n){this._storeEvents.forEach(function(o){this._subscriptions.push(n[1].subscribe(o,this._onStoreInform.bind(this,n)));},this);},this);},detatch:function(){},_onStoreInform:function(n,o){var p=n[0],q=n[1];this.log(k.STORE_INFORM,p+' ['+o+']');if(q._debugDump)this.log(k.STORE_DUMP,p,this.deepClone(q._debugDump()));},dumpStoreData:function(){h.getList().forEach(function(n){var o=n[0],p=n[1];if(p._debugDump)this.log(k.STORE_DUMP,o,this.deepClone(p._debugDump()),true);},this);},deepClone:function(n){return JSON.parse(JSON.stringify(n));}};m._loadSettings();e.exports=m;},null);
__d("Debug.brands",["AppConstants.brands","Console.brands"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g.CONSOLE_MESSAGE_TYPE;function j(l){return {props:l.props,state:l.state};}var k={componentWillMount:function(){h.log(i.VIEW_MOUNT,this.constructor.displayName,j(this));},componentWillUnmount:function(){h.log(i.VIEW_UNMOUNT,this.constructor.displayName,j(this));this.setState=function(){h.log(i.SET_STATE_NULL,this.constructor.displayName,j(this));};},componentWillReceiveProps:function(l){var m=j(this);m.nextProps=l;h.log(i.VIEW_RECEIVE_PROPS,this.constructor.displayName,m);},componentDidUpdate:function(){this._render();},componentDidMount:function(){this._render();},_render:function(){h.log(i.VIEW_RENDER,this.constructor.displayName,j(this));}};e.exports=k;},null);
__d("businessGlyph",["ix","xuiglyph"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i="pages_dark-grey_16",j={"acquaintances_dark-grey_16":h({name:'acquaintances',shade:'dark',size:'medium'}),"add-friend_dark-grey_16":h({name:'add-friend',shade:'dark',size:'medium'}),"app_dark-grey_16":h({name:'app',shade:'dark',size:'medium'}),"chevron-right_dark-grey_16":h({name:'chevron-right',shade:'dark',size:'medium'}),"pixel_dark-grey_16":g("images/bizsite/glyph/pixel_dark-grey_16.png"),"block-diag_dark-grey_25":g("images/bizsite/glyph/block-diag_dark-grey_25.png"),"block-diag_dark-grey_16":g("images/bizsite/glyph/block-diag_dark-grey_16.png"),"credit_dark-grey_16":g("images/bizsite/glyph/credit_dark-grey_16.png"),"information_dark-grey_16":h({name:'information',shade:'dark',size:'medium'}),"megaphone_dark-grey_14":g("images/bizsite/glyph/megaphone_dark-grey_14.png"),"megaphone_dark-grey_16":g("images/bizsite/glyph/megaphone_dark-grey_16.png"),"megaphone_dark-grey_24":g("images/bizsite/glyph/megaphone_dark-grey_24.png"),megaphone_white_20:g("images/bizsite/glyph/megaphone_white_20.png"),"pages_dark-grey_16":h({name:'pages',shade:'dark',size:'medium'}),"pages_dark-grey_24":g("images/bizsite/glyph/pages_dark-grey_24.png"),pages_white_20:h({name:'pages',shade:'white',size:'large'}),"person_dark-grey_16":h({name:'male',shade:'dark',size:'medium'}),"system-user_dark-grey_16":g("images/bizsite/glyph/system-user_dark-grey_16.png"),"system-user_dark-grey_32":g("images/bizsite/glyph/system-user_dark-grey_32.png"),"system-user_dark-grey_72":g("images/bizsite/glyph/system-user_dark-grey_72.png"),"access-token_dark-grey_72":g("images/bizsite/glyph/access-token_dark-grey_72.png"),"folder_dark-grey_16":g("images/bizsite/glyph/folder_dark-grey_16.png"),"work_dark-grey_16":h({name:'work',shade:'dark',size:'medium'}),work_white_16:h({name:'work',shade:'white',size:'medium'}),"setup-guide-open_dark-grey_16":g("images/bizsite/glyph/setup-guide-open_dark-grey_16.png"),"setup-guide-closed_dark-grey_16":g("images/bizsite/glyph/setup-guide-closed_dark-grey_16.png"),"double_graph_dark-grey_24":g("images/bizsite/glyph/double_graph_dark-grey_24.png"),double_graph_white_24:g("images/bizsite/glyph/double_graph_white_24.png"),"product-catalog_dark-grey_16":g("images/bizsite/glyph/product-catalog_dark-grey_16.png"),"product-catalog_dark-grey_24":g("images/bizsite/glyph/product-catalog_dark-grey_24.png"),"business-admin_dark-grey_32":g("images/bizsite/glyph/business-admin_dark-grey_32.png"),"business-admin_dark-grey_54":g("images/bizsite/glyph/business-admin_dark-grey_54.png"),"business-employee_dark-grey_32":g("images/bizsite/glyph/business-employee_dark-grey_32.png"),"business-employee_dark-grey_54":g("images/bizsite/glyph/business-employee_dark-grey_54.png")},k=["dark-grey","white"],l=[14,16,20,24,25,32,54,72];function m(n,o){o=o||{};var p=o.shade||"dark-grey",q=o.size||16;k.indexOf(p)===-1;l.indexOf(q)===-1;var r=[n,p,q].join("_"),s=j[r];if(s){return s;}else return j[i];}e.exports=m;},null);
__d("AssetImage.brands",["AppConstants.brands","Debug.brands","React","Image.react","businessGlyph","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=i,n=m.PropTypes,o=g.ASSET_TYPE,p=i.createClass({displayName:"AssetImage",mixins:[h],propTypes:{asset:n.object.isRequired,size:n.oneOf(['xlarge','xxlarge'])},getDefaultProps:function(){return {size:'xlarge'};},render:function(){var q;switch(this.props.asset.assetType){case o.AD_ACCOUNT:if(this.props.size==='xxlarge'){q=l('/images/brands/adaccount_xxl.png');}else q=l('/images/brands/adaccount_xl.png');break;case o.PRODUCT_CATALOG:if(this.props.size==='xxlarge'){q=l('/images/brands/productcatalog_xxl.png');}else q=l('/images/brands/productcatalog_xl.png');break;case o.PIXEL:if(this.props.size==='xxlarge'){q=l('/images/brands/pixel_xxl.png');}else q=l('/images/brands/pixel_xl.png');break;case o.PAGE:q=this.props.asset.picture||l('/pics/pages/q_default.png');break;case o.PROJECT:q=k('folder',{size:16});break;case o.APP:q=this.props.asset.picture||l('/images/icons/missing_app_icon.gif');break;case o.SYSTEM_USER:var r;if(this.props.size==='xxlarge'){r={size:72};}else r={size:32};q=k('system-user',r);break;default:return i.createElement("div",null);}return i.createElement(j,i.__spread({},this.props,{src:q}));}});e.exports=p;},null);
__d("BusinessMegaphone.brands",["BusinessMegaphoneConfig","DOMContainer.react","React","XUINotice.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=i,m=l.PropTypes,n=i.createClass({displayName:"BusinessMegaphone",propTypes:{use:m.oneOf(['home','settings'])},render:function(){var o=g.errors.map(function(p,q){return (i.createElement(j,{use:"warn",key:q},i.createElement(h,null,p)));});return (i.createElement("div",{className:"_3-8n"},o));}});e.exports=n;},null);
__d("AppLogger.brands",["AdsDaoErrorLogger","BrandsAppConfig","AdsLogger","ReactAnalyticsLogger"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=b,l='ads_brands',m='BusinessIdentityLoggerConfig',n=new i(l,m,null,o);function o(){var p;try{var r=k('ActiveContextStore.brands').get();p=r.pane;}catch(q){p="Unknown";}return {selected_pane:p,tier_id:h.tierID};}g.initAdsDaoLogging(n);n.ReactAnalyticsCallback=j.getReactAnalyticsCallback(n);e.exports=n;},null);
__d("LargeSpinner.brands",["BusinessIdentityEventCategory","BusinessIdentityEventName","AppLogger.brands","React","XUISpinner.react","cx","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=j,o=n.PropTypes,p=j.createClass({displayName:"LargeSpinner",propTypes:{position:o.oneOf(['absoluteCenter','alignCenter'])},getDefaultProps:function(){return {position:'alignCenter'};},getInitialState:function(){return {startTime:null};},statics:{instanceCounter:0,claimInstance:function(){++p.instanceCounter;},freeInstance:function(){--p.instanceCounter;},hasNoneActive:function(){return p.instanceCounter===0;}},componentWillMount:function(){this.setState({startTime:new Date()});p.claimInstance();},componentWillUnmount:function(){this.setState=m;var q=new Date(),r=q-this.state.startTime;i.logForAnalytics(g.APP,h.LARGE_SPINNER_SHOWN,{time:r});p.freeInstance();},render:function(){var q=this.props.position;return (j.createElement("div",{className:(("_5bv-")+(q==='alignCenter'?' '+"_5yox":'')+(q==='absoluteCenter'?' '+"_5yoy":''))},j.createElement(k,{size:"large",background:"light"})));}});e.exports=p;},null);
__d("DialogContent.brands",["Debug.brands","DOMQuery","Event","LargeSpinner.brands","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","XUIGrayText.react","XUINotice.react","XUINoticeGroup.react","underscore.ads","cx","emptyFunction","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();'use strict';var y=k,z=y.PropTypes,aa=k.createClass({displayName:"DialogContent",mixins:[g],propTypes:{className:z.string,titleText:z.string.isRequired,confirmButtonText:z.string,rejectButtonText:z.string,hasConfirmButton:z.bool,hasRejectButton:z.bool,hideTitleCloseButton:z.bool,hideFooter:z.bool,onConfirmButtonClick:z.func,onRejectButtonClick:z.func,isConfirmButtonDisabled:z.bool,isRejectButtonDisabled:z.bool,isLoading:z.bool,errorMessages:z.array,informMessages:z.array,successMessages:z.array,policyText:z.node,currentStep:z.number,totalSteps:z.number},getDefaultProps:function(){return {hasConfirmButton:true,hideTitleCloseButton:false};},render:function(){return (k.createElement("div",{className:"_5yos"},k.createElement("div",{className:(("_5yot")+(!this.props.isLoading?' '+"hidden_elem":''))},k.createElement(j,{position:"absoluteCenter"})),k.createElement("div",{className:(("_5yov")+(this.props.isLoading?' '+"_5yow":''))},k.createElement(o,{showCloseButton:!this.props.hideTitleCloseButton},k.createElement("span",null,this.props.titleText)),k.createElement(l,null,this._renderErrorMessages(),this.props.children),this._renderFooter(),this._renderPolicyText())));},_renderPolicyText:function(){if(!this.props.policyText)return null;return (k.createElement(p,{className:"_-qe",display:"block",size:"small"},this.props.policyText));},_renderErrorMessages:function(){var ba=(this.props.errorMessages||[]).filter(function(ea){return !!ea;}).map(function(ea,fa){return (k.createElement(r,{use:"warn",key:fa},ea));}),ca=(this.props.informMessages||[]).filter(function(ea){return !!ea;}).map(function(ea,fa){return (k.createElement(r,{use:"notify",key:fa},ea));}),da=(this.props.successMessages||[]).filter(function(ea){return !!ea;}).map(function(ea,fa){return (k.createElement(r,{key:fa},ea));});if(t.isEmpty(ba)&&t.isEmpty(da)&&t.isEmpty(ca))return null;return (k.createElement(s,null,ba,ca,da));},_renderStepProgress:function(){var ba=this.props;if(!ba.currentStep||ba.totalSteps<=1)return null;x(!(ba.currentStep===undefined^ba.totalSteps===undefined));return (k.createElement(q,{size:"small"},w._("Step {current step} of {total steps}",[w.param("current step",ba.currentStep),w.param("total steps",ba.totalSteps)])));},_keyEventRef:null,componentDidMount:function(){var ba=k.findDOMNode(this),ca=h.scry(ba,'input[autofocus="autofocus"]');if(ca.length){var da=ca.shift();if(da&&da.focus)setTimeout(function(){da.focus();},150);}var ea={27:this.props.onRejectButtonClick||this.props.onConfirmButtonClick};this._keyEventRef=i.listen(ba,'keydown',function(event){var fa=ea[event.which];fa&&fa();});},componentWillUnmount:function(){this.setState=v;this._keyEventRef.remove();},_renderFooter:function(){return this.props.hideFooter?null:(k.createElement(n,{leftContent:this._renderStepProgress()},this._renderConfirmAndRejectButtons()));},_renderConfirmAndRejectButtons:function(){return (k.createElement("span",null,this._renderRejectButton(),this._renderConfirmButton()));},_renderConfirmButton:function(){if(!this.props.hasConfirmButton)return null;return (k.createElement(m,{action:"button",use:"confirm",onClick:this._onConfirmButtonClick,disabled:this.props.isConfirmButtonDisabled,label:this.props.confirmButtonText}));},_onConfirmButtonClick:function(ba){if(this.props.isConfirmButtonDisabled)return;this.props.onConfirmButtonClick(ba);},_renderRejectButton:function(){if(!this.props.hasRejectButton)return null;return (k.createElement(m,{action:"button",onClick:this._onRejectButtonClick,disabled:this.props.isRejectButtonDisabled,label:this.props.rejectButtonText}));},_onRejectButtonClick:function(ba){if(this.props.isRejectButtonDisabled)return;this.props.onRejectButtonClick(ba);}});e.exports=aa;},null);
__d("Link.brands",["Link.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h.createClass({displayName:"Link",render:function(){return (h.createElement(g,h.__spread({},this.props,{className:j(this.props.className,"_3p5e")}),this.props.children));}});e.exports=k;},null);
__d("Text.brands",["React","XUIGrayText.react","underscore.ads","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"Text",propTypes:{size:m.oneOf(['xsmall','small','medium','large','xlarge','inherit'])},render:function(){var o=((this.props.size==='xsmall'?"_5fzm":'')),p=i.clone(this.props);delete p.size;return (g.createElement(h,g.__spread({},p,{className:k(this.props.className,o)}),this.props.children));}});e.exports=n;},null);
__d("TextInputFilter.brands",["AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterOperator","Keys","React"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=k,m=l.PropTypes,n=200,o=k.createClass({displayName:"TextInputFilter",propTypes:{onChange:m.func.isRequired,value:m.string,placeholder:m.string,filterField:m.instanceOf(h).isRequired,hasCustomValue:m.bool,changeDebounceMS:m.number},getDefaultProps:function(){return {hasCustomValue:false,changeDebounceMS:n};},getInitialState:function(){return {filter:null,value:this.props.value||""};},componentWillReceiveProps:function(p){if(this.props.hasCustomValue&&p.value!==this.state.value)this.setState({value:p.value});},render:function(){return (k.createElement("input",{className:this.props.className,value:this.state.value,onChange:this._onKeywordInputChange,onKeyPress:this._onKeywordInputEnter,placeholder:this.props.placeholder}));},_changeDebounceTimer:null,_onKeywordInputChange:function(p){var q=p.target.value;this.setState({value:q});if(!q){this.setState({filter:null},this._announceFilterChange);}else{var r=new g(this.props.filterField,i.CONTAIN,q);this.setState({filter:r},this._announceFilterChange);}},_onKeywordInputEnter:function(p){if(p.charCode===j.RETURN)this._announceFilterChangeImmediately();},_announceFilterChangeImmediately:function(){clearInterval(this._changeDebounceTimer);this.props.onChange(this.state.filter);},_announceFilterChange:function(){if(this._changeDebounceTimer)clearInterval(this._changeDebounceTimer);this._changeDebounceTimer=setTimeout(this._announceFilterChangeImmediately,this.props.changeDebounceMS);}});e.exports=o;},null);
__d("LoggingConstants.brands",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={GET_OBJECT_API_ENDPOINT:'get_object',GET_OBJECT_BY_NEGATIVE_ID_API_ENDPOINT:'get_object_by_negative_id'};},null);
__d("AnalyticsLogger.brands",["ads-lib-connect_DEPRECATED","BrandsAppConfig","DOMDimensions","BusinessIdentityEventCategory","BusinessIdentityEventName","GraphAPI","AppLogger.brands","LoggingConstants.brands"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=false,p={logHomePageInteractive:function(){p.logInteractive(j.HOMEPAGE);},logSettingsPageInteractive:function(){p.logInteractive(j.APP);},logInteractive:function(q){if(o)return;o=true;var r=i.getViewportWithoutScrollbarDimensions(),s=new Date(h.initTime*1000);m.logForAnalytics(q,k.APP_INIT,{window_width:r.width,window_height:r.height,current_action_time:Date.now()-s});},logPaneChange:function(q,r){if(q===r)return;m.logForAnalytics(j.APP,k.CHANGE_PANE,{previously_selected_pane:q,selected_pane:r});},logJSError:function(q){m.logForAnalytics(j.ERROR,k.JAVASCRIPT_ERROR,{error_message:q.message,error_type:q.name,stack_trace:q.stack,error_data:JSON.stringify(q)});},logApiCall:function(q,r){if(!g.isError(q))return;var s=q.error;if(!s)return;m.logForAnalytics(j.API_CALL,k.API_CALL_FAILED,{api_fields:r.fields&&JSON.stringify(r.fields),api_endpoint:this._getAPIEndPoint(r.endpoint),raw_endpoint:r.endpoint,error_code:s.code,error_sub_code:s.subcode,error_message:s.message,error_type:s.type});},_getAPIEndPoint:function(q){if(!q||q.length===0||q==='/')return q;if(q[0]==='/')q=q.slice(1);if(q[q.length-1]==='/')q=q.slice(0,-1);var r,s;r=/^[a-z\/\_]+$/;s=q.match(r);if(s)return s[0];r=/^[0-9\_]+$/;s=q.match(r);if(s)return n.GET_OBJECT_API_ENDPOINT;r=/^[0-9\-]+$/;s=q.match(r);if(s)return n.GET_OBJECT_BY_NEGATIVE_ID_API_ENDPOINT;r=/^act\_[0-9]+\/(.+)+$/;s=q.match(r);if(s)return s[1];r=/^[0-9]+\/(.+)+$/;s=q.match(r);if(s)return s[1];r=/.*facebook.com\/[0-9]*\/*(.+)\?/;s=q.match(r);if(s)return s[1];return q;}};l.setErrorHandler(p.logJSError);e.exports=p;},null);
__d("AssetName.brands",["AppConstants.brands","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g.ASSET_TYPE,j={getName:function(k,l,m){var n="";n+=(l===1)?"":"P";n+=m?"C":"";switch(k){case i.AD_ACCOUNT:return (h._({"":"ad account","P":"ad accounts","C":"Ad Account","PC":"Ad Accounts"},[h['enum'](n,{"":"ad account",P:"ad accounts",C:"Ad Account",PC:"Ad Accounts"})]));case i.PAGE:return (h._({"":"Page","P":"Pages","C":"Page","PC":"Pages"},[h['enum'](n,{"":"Page",P:"Pages",C:"Page",PC:"Pages"})]));case i.APP:return (h._({"":"app","P":"apps","C":"App","PC":"Apps"},[h['enum'](n,{"":"app",P:"apps",C:"App",PC:"Apps"})]));case i.PIXEL:return (h._({"":"pixel","P":"pixels","C":"Pixel","PC":"Pixels"},[h['enum'](n,{"":"pixel",P:"pixels",C:"Pixel",PC:"Pixels"})]));case i.USER:return (h._({"":"person","P":"people","C":"Person","PC":"People"},[h['enum'](n,{"":"person",P:"people",C:"Person",PC:"People"})]));case i.SYSTEM_USER:return (h._({"":"system user","P":"system users","C":"System User","PC":"System Users"},[h['enum'](n,{"":"system user",P:"system users",C:"System User",PC:"System Users"})]));case i.PRODUCT_CATALOG:return (h._({"":"product catalog","P":"product catalogs","C":"Product Catalog","PC":"Product Catalogs"},[h['enum'](n,{"":"product catalog",P:"product catalogs",C:"Product Catalog",PC:"Product Catalogs"})]));case i.FUNDING_SOURCE:return (h._({"":"payment method","P":"payment methods","C":"Payment method","PC":"Payment Methods"},[h['enum'](n,{"":"payment method",P:"payment methods",C:"Payment method",PC:"Payment Methods"})]));case i.PROJECT:return (h._({"":"project","P":"projects","C":"Project","PC":"Projects"},[h['enum'](n,{"":"project",P:"projects",C:"Project",PC:"Projects"})]));case i.LEGACY_LOGIN:return (h._({"":"shared login","P":"shared logins","C":"Shared Login","PC":"Shared Logins"},[h['enum'](n,{"":"shared login",P:"shared logins",C:"Shared Login",PC:"Shared Logins"})]));default:return (h._({"":"asset","P":"assets","C":"Asset","PC":"Assets"},[h['enum'](n,{"":"asset",P:"assets",C:"Asset",PC:"Assets"})]));}}};e.exports=j;},null);
__d("AppDispatcher.brands",["AppConstants.brands","BusinessIdentityEventCategory","BusinessIdentityEventName","AppLogger.brands","Console.brands","Dispatcher","underscore.ads","copyProperties","invariant","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q=p({actions:null,notificationsPaneHTML:null,selectedBrandID:null,setupGuideCompletedChapters:null,setupGuideState:null,configuredForInvoicing:null,adAccountCreationLimit:null}),r=g.CONSOLE_MESSAGE_TYPE,s=n(new l(),{handleUpdate:function(v){k.log(r.DISPATCHER,m.pluck(v.actions,'actionType').join(', '),{payload:v});u(v);t(v);if(Object.keys(v).length){j.logForAnalytics(h.APP,i.DISPATCHER_UPDATE,v);this.dispatch(v);}}});function t(v){}function u(v){if(v.actions)v.actions.forEach(function(w){if(w.hasOwnProperty('actionType'))o(w.actionType!==(void 0));});}e.exports=s;},null);
__d("GraphDAO.brands",["AdsDaoGraph","BrandsAppConfig"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i={},j={forBrand:function(k){if(i.hasOwnProperty(k))return i[k];var l=g.primedForBrand(k,h.locale);i[k]=l;return l;},dao:g};e.exports=j;},null);
__d("ProjectAPIConverter.brands",["AppConstants.brands"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g.ASSET_TYPE;function i(l){return {id:l.id+"",name:l.name,creationTime:new Date(l.created_time*1000),creatorName:(l.creator&&l.creator.name)||'Unknown',brandID:l.business?l.business.id:null,assetType:h.PROJECT};}function j(l,m){return {name:l.name,handleError:m};}function k(l,m,n){return {projectID:l.id,name:m,handleError:n};}e.exports={fromAPI:i,getDAOParamsForCreate:j,getDAOParamsForUpdate:k};},null);
__d("ProjectAssetAPIConverter.brands",["AdAccountIDConverter","AppConstants.brands"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=h.ASSET_TYPE,j=h.OBJECT_STATUS;function k(t,u){return {projectID:t,assetID:u.id,assetType:i.PAGE,objectStatus:j.SYNCED};}function l(t,u){return {projectID:t,assetID:u.account_id,assetType:i.AD_ACCOUNT,objectStatus:j.SYNCED};}function m(t,u){return {projectID:t,assetID:u.id,assetType:i.PRODUCT_CATALOG,objectStatus:j.SYNCED};}function n(t,u,v){return {project_id:t,page_id:u,handleError:v};}function o(t,u,v){return {project_id:t,adaccount_id:g.toActID(u),handleError:v};}function p(t,u,v){return {project_id:t,product_catalog_id:u,handleError:v};}function q(t,u){return {project_id:t,page_id:u};}function r(t,u){return {project_id:t,adaccount_id:g.toActID(u)};}function s(t,u){return {project_id:t,product_catalog_id:u};}e.exports={fromAPIForPage:k,fromAPIForAdAccount:l,fromAPIForProductCatalog:m,getDAOParamsForPageAdd:q,getDAOParamsForPageDelete:n,getDAOParamsForAdAccountAdd:r,getDAOParamsForAdAccountDelete:o,getDAOParamsForProductCatalogAdd:s,getDAOParamsForProductCatalogDelete:p};},null);
__d("ProjectAssetValidator.brands",["AdsValidator","AdsValidatorTests","AdsValidatorTransforms"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=new g({projectID:{validators:h.isFBIDString,transforms:i.toString,isNullable:false},assetID:{validators:h.isFBIDString,transforms:i.toString,isNullable:false}});e.exports=j;},null);
__d("ProjectValidator.brands",["AdsValidator","AdsValidatorTests","AdsValidatorTransforms"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=new g({id:{validators:h.isFBIDOrClientIDString,transforms:i.toString,isNullable:false},name:{validators:h.isLengthyString,transforms:i.trim,isNullable:false},creationTime:{validators:h.isDate,transforms:i.toInteger,isNullable:false},creatorName:{validators:h.isLengthyString,isNullable:false},serverID:{validators:h.isFBID,transforms:i.toString,isNullable:true}});e.exports=j;},null);
__d("ProjectResourceRequests.brands",["AdAccountIDConverter","AnalyticsLogger.brands","AppConstants.brands","BusinessIdentityEventCategory","BusinessIdentityEventName","AppLogger.brands","AdsFBBatch_DEPRECATED","GraphDAO.brands","ImmutableObject","ProjectAPIConverter.brands","ProjectAssetAPIConverter.brands","ProjectAssetValidator.brands","ProjectValidator.brands","underscore.ads","AdsAPISpec"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();'use strict';var v=i.ASSET_TYPE,w=i.DEFAULT_API_LIMIT,x=u.BRAND_PROJECT_FIELDS,y={fetchAllProjectsForBrand:function(fa,ga){var ha=n.forBrand(fa);ha.fetch.projectsForBrand.one(function(ia){z(ga,ia);ha.fetch.projectsForBrand.clearCache();},{fields:x.join(),limit:w,handleError:function(ia,ja,ka){h.logApiCall(ja,ka);z(ga,[]);}});},fetchAllAssetsForProjects:function(fa,ga,ha,ia){var ja,ka;switch(ha){case v.PAGE:ja='/pages';ka=aa;break;case v.AD_ACCOUNT:ja='/adaccounts';ka=ba;break;case v.PRODUCT_CATALOG:ja='/product_catalogs';ka=ca;break;}var la=new m(),ma={};ga.forEach(function(na){la.add('GET','/'+i.API_VERSION+'/'+na+ja,{limit:w},function(oa,pa){ka(function(qa){ma[na]=qa;pa();},na,oa.data||[]);});});la.run(ia.bind(null,ma));},fetchProjectsForAsset:function(fa,ga,ha){if(ga===v.AD_ACCOUNT)fa=g.toActID(fa);var ia=n.dao;ia.fetch.projectsForAsset.one(function(ja){z(ha,ja,true);ia.fetch.projectsForAsset.clearCache();},{assetID:fa,fields:'id,name,business.fields(id)',limit:w,handleError:function(ja,ka,la){h.logApiCall(ka,la);z(ha,[]);}});}};function z(fa,ga,ha){var ia={};ga.forEach(function(ja){var ka=p.fromAPI(ja);if(!ha)da(ka);ia[ka.id]=new o(ka);});fa(ia);}function aa(fa,ga,ha){var ia={};ha.forEach(function(ja){var ka=q.fromAPIForPage(ga,ja);ea(ga,ka);ia[ka.assetID]=new o(ka);});fa(ia);}function ba(fa,ga,ha){var ia={};ha.forEach(function(ja){var ka=q.fromAPIForAdAccount(ga,ja);ea(ga,ka);ia[ka.assetID]=new o(ka);});fa(ia);}function ca(fa,ga,ha){var ia={};ha.forEach(function(ja){var ka=q.fromAPIForProductCatalog(ga,ja);ea(ga,ka);ia[ka.assetID]=new o(ka);});fa(ia);}function da(fa){var ga=s.validateProperties(fa);if(ga)t.forEach(ga,function(ha,ia){l.logForAnalytics(j.ERROR,k.PROJECT_RES_REQ_FAILURE,{project_id:fa.id,prop_name:ia,error:ha});});}function ea(fa,ga){var ha=r.validateProperties(ga);if(ha)t.forEach(ha,function(ia,ja){l.logForAnalytics(j.ERROR,k.PROJECT_RES_REQ_FAILURE,{project_id:fa,asset_id:ga.id,prop_name:ja,error:ia});});}e.exports=y;},null);
__d("ProjectStore.brands",["AppConstants.brands","AppDispatcher.brands","Arbiter","ClientServerIDMap","ImmutableObject","ProjectResourceRequests.brands","underscore.ads","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=g.ACTION,p=g.ASSET_TYPE,q=g.CATEGORIES,r=g.OBJECT_STATUS,s=g.PROJECT_ACTION,t={},u={},v={},w={},x={},y=false,z=n(new i(),{_debugDump:function(){return {_projectsByBrandID:t,_requestedProjects:u,_projectPagesByID:v,_projectAdAccountsByID:w,_projectProductCatalogsByID:x,_isDirty:y};},_flush:function(){y=true;return this;},get:function(wa){return m(t).chain().values().map(function(xa){return m.values(xa);}).flatten().find(function(xa){return xa.id===wa;}).value();},getAllProjectsByBrandID:function(wa,xa){if(t.hasOwnProperty(wa)&&!y){var ya=va(t[wa]);xa(ya);return;}l.fetchAllProjectsForBrand(wa,function(za){y=false;t[wa]=za;xa(za);});},getAllAssetsByProjectID:function(wa,xa,ya,za){this.getAllAssetsByProjectIDs(wa,[xa],ya,function(ab){za(ab[xa]);});},getAllAssetsByProjectIDs:function(wa,xa,ya,za){var ab;switch(ya){case p.PAGE:ab=v;break;case p.AD_ACCOUNT:ab=w;break;case p.PRODUCT_CATALOG:ab=x;break;}var bb=m(xa).filter(function(cb){return !ab.hasOwnProperty(cb);});l.fetchAllAssetsForProjects(wa,bb,ya,function(cb){m(cb).each(function(eb,fb){ab[fb]=eb;});var db={};xa.forEach(function(eb){db[eb]=va(ab[eb]);});za(db);});},getRequestedProject:function(wa,xa){var ya=j.resolveID(xa),za=(u[wa]&&u[wa][ya])||null;return za;},dispatchToken:h.register(function(wa){var xa=false;if(wa.actions&&wa.actions.length)wa.actions.forEach(function(ya){switch(ya.actionType){case g.ACTION.FLUSH:z._flush();break;case s.CREATE_START:aa(ya);xa=true;break;case s.CREATE_SUCCESS:ba(ya);xa=true;break;case s.CREATE_ERROR:ca(ya);xa=true;break;case s.DELETE_START:da(ya);xa=true;break;case s.DELETE_SUCCESS:ea(ya);xa=true;break;case s.DELETE_ERROR:fa(ya);xa=true;break;case s.UPDATE_START:ga(ya);xa=true;break;case s.UPDATE_SUCCESS:ha(ya);xa=true;break;case s.UPDATE_ERROR:ia(ya,r.UPDATE_ERROR);xa=true;break;case s.ADD_ASSETS_START:ja(ya);xa=true;break;case s.ADD_ASSETS_SUCCESS:ka(ya);xa=true;break;case s.ADD_ASSETS_ERROR:la(ya);xa=true;break;case s.DELETE_ASSET_START:ma(ya);xa=true;break;case s.DELETE_ASSET_SUCCESS:na(ya);xa=true;break;case s.DELETE_ASSET_ERROR:oa(ya);xa=true;break;case s.CLEAR_STATUS:pa(ya);break;case o.UPDATE_CONTEXT:ra(ya);break;}});if(xa)z.inform('change');})});function aa(wa){var xa=wa.project,ya=j.resolveID(xa.id),za=wa.brandID;xa.objectStatus=r.CREATING;if(!u.hasOwnProperty(za))u[za]={};u[za][ya]=xa;}function ba(wa){var xa=wa.project;j.addIDMapping(wa.clientID,xa.id);xa.objectStatus=r.CREATE_SUCCESS;var ya=wa.brandID;u[ya][xa.id]=xa;var za=new k(xa);t[ya][xa.id]=za;}function ca(wa){u[wa.brandID][wa.project.id]=n(wa.project,{objectStatus:r.CREATE_ERROR,errorMessage:wa.errorMessage});}function da(wa){ta(wa.brandID,wa.projectID,{objectStatus:r.DELETING});}function ea(wa){ta(wa.brandID,wa.projectID,{objectStatus:r.DELETED});}function fa(wa){ta(wa.brandID,wa.projectID,{objectStatus:r.SYNCED});}function ga(wa){var xa=n({},wa.project);xa.objectStatus=r.UPDATING;var ya=wa.brandID;if(!u.hasOwnProperty(ya))u[ya]={};u[ya][xa.id]=xa;}function ha(wa){var xa=wa.brandID,ya=wa.project.id,za=u[xa][ya];za.objectStatus=r.UPDATE_SUCCESS;u[xa][ya]=za;ta(xa,ya,{name:wa.newName});}function ia(wa){var xa=u[wa.brandID][wa.project.id];xa.objectStatus=r.UPDATE_ERROR;xa.errorMessage=wa.errorMessage;u[wa.brandID][wa.project.id]=xa;}function ja(wa){var xa=wa.projectID,ya=wa.assetIDs,za=wa.assetType;switch(za){case p.PAGE:if(!v[xa])v[xa]={};ya.forEach(function(ab){v[xa][ab]=new k({projectID:xa,assetID:ab,assetType:za,objectStatus:r.CREATING});});break;case p.AD_ACCOUNT:if(!w[xa])w[xa]={};ya.forEach(function(ab){w[xa][ab]=new k({projectID:xa,assetID:ab,assetType:za,objectStatus:r.CREATING});});break;case p.PRODUCT_CATALOG:if(!x[xa])x[xa]={};ya.forEach(function(ab){x[xa][ab]=new k({projectID:xa,assetID:ab,assetType:za,objectStatus:r.CREATING});});break;}}function ka(wa){wa.assetIDs.forEach(function(xa){var ya=wa.oldProjectsByAssetID[xa];if(ya&&ya.id===wa.projectID){ua(wa.assetType,wa.projectID,xa,{objectStatus:r.SYNCED});return;}ua(wa.assetType,wa.projectID,xa,{oldProjectName:ya&&ya.name,objectStatus:r.CREATE_SUCCESS});if(ya)switch(wa.assetType){case p.PAGE:if(v[ya.id])delete v[ya.id][xa];break;case p.AD_ACCOUNT:if(w[ya.id])delete w[ya.id][xa];break;case p.PRODUCT_CATALOG:if(x[ya.id])delete x[ya.id][xa];break;default:}});}function la(wa){m.each(wa.errorMessagesByAssetID,function(xa,ya){ua(wa.assetType,wa.projectID,ya,{objectStatus:r.CREATE_ERROR,errorMessage:xa});});}function ma(wa){ua(wa.assetType,wa.projectID,wa.assetID,{objectStatus:r.DELETING});}function na(wa){ua(wa.assetType,wa.projectID,wa.assetID,{objectStatus:r.DELETED});}function oa(wa){ua(wa.assetType,wa.projectID,wa.assetID,{objectStatus:r.SYNCED});}function pa(wa){qa(wa.brandID,wa.projectID);}function qa(wa,xa){if(u[wa]&&u[wa][xa]){var ya=u[wa][xa];ya.objectStatus=r.SYNCED;u[wa][xa]=ya;}if(!t[wa][xa])return;switch(t[wa][xa].objectStatus){case r.UPDATE_SUCCESS:case r.CREATE_SUCCESS:ta(wa,xa,{objectStatus:r.SYNCED});break;}if(v[xa])m(v[xa]).each(sa.bind(null,p.PAGE));if(w[xa])m(w[xa]).each(sa.bind(null,p.AD_ACCOUNT));if(x[xa])m(x[xa]).each(sa.bind(null,p.PRODUCT_CATALOG));}function ra(wa){if(wa.partialContext.pane!==q.PROJECTS)Object.keys(t).forEach(function(xa){Object.keys(t[xa]).forEach(function(ya){qa(xa,ya);});});}function sa(wa,xa,ya){var za=xa.projectID;switch(xa.objectStatus){case r.CREATE_SUCCESS:ua(wa,za,ya,{objectStatus:r.SYNCED,oldProjectName:(void 0)});break;case r.CREATE_ERROR:if(wa===p.PAGE){delete v[za][ya];}else if(wa===p.AD_ACCOUNT){delete w[za][ya];}else if(wa===p.PRODUCT_CATALOG)delete x[za][ya];break;}}function ta(wa,xa,ya){var za=t[wa][xa];t[wa][xa]=k.set(za,ya);}function ua(wa,xa,ya,za){switch(wa){case p.PAGE:var ab=v[xa][ya];v[xa][ya]=k.set(ab,za);break;case p.AD_ACCOUNT:var bb=w[xa][ya];w[xa][ya]=k.set(bb,za);break;case p.PRODUCT_CATALOG:var cb=x[xa][ya];x[xa][ya]=k.set(cb,za);break;}}function va(wa){var xa={};m.each(wa,function(ya,za){if(ya.objectStatus===r.DELETED||ya.objectStatus===r.DELETING)return;xa[za]=ya;});return xa;}e.exports=z;},null);
__d("BizHomeFilterFieldConfigStore",["AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperatorConfig","AppConstants.brands","Arbiter","AssetName.brands","BrandsAppConfig","ProjectStore.brands","copyProperties","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=j.ASSET_TYPE,s=[{value:r.PAGE},{value:r.AD_ACCOUNT},{value:r.PRODUCT_CATALOG}],t={ID:{text:p._("ID"),field:new g('id',h.STRING),operators:[i.EQUAL],iconURI:q('/images/deprecated/glyphs/dark/bookmarks_s.png')},NAME:{text:p._("Name"),field:new g('name',h.STRING),operators:[i.CONTAIN],iconURI:q('/images/deprecated/glyphs/dark/bookmarks_s.png')},ASSET_TYPE:{text:p._("Type"),field:new g('asset_type',h.STRING_SET),operators:[i.IN],values:s,valueRenderer:w,iconURI:q('/images/deprecated/glyphs/dark/notes_s.png')},PROJECT:{text:p._("Project"),field:new g(m.BUSINESS_PROJECT_ID_FILTER,h.STRING_SET),operators:[i.EQUAL],values:(void 0),isDynamic:true,valueRenderer:v,iconURI:q('/images/deprecated/glyphs/dark/tag_s.png')},NAME_OR_ID:{text:p._("Name Or ID"),field:new g(m.NAME_OR_ID_FILTER,h.STRING),operators:[i.CONTAIN],iconURI:q('/images/deprecated/glyphs/dark/bookmarks_s.png')},IDs:{text:p._("ID"),field:new g('id',h.STRING_SET),operators:[i.IN,i.NOT_IN],iconURI:q('/images/deprecated/glyphs/dark/bookmarks_s.png')}},u=o(new k(),{getField:function(x){return t[x];},getUIFields:function(){var x={NAME:t.NAME,ASSET_TYPE:t.ASSET_TYPE,NAME_OR_ID:t.NAME_OR_ID};if(t.PROJECT.values&&t.PROJECT.values.length>0)x.PROJECT=t.PROJECT;return x;},getAPIFields:function(){return [t.ID,t.NAME,t.PROJECT,t.NAME_OR_ID,t.IDs];},setProjects:function(x){var y=x.map(function(z){return {value:z};});t.PROJECT.values=y;this.inform('change');}});function v(x){var y=n.get(x);if(!y)return x;return y.name;}function w(x){return l.getName(x,1,true);}e.exports=u;},null);
__d("ResourceRequestCache.brands",["AdsGenericFilterSetUtil","BizHomeFilterFieldConfigStore","RangedCallbackManager","merge","underscore.ads"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l={LOADING:'loading',DONE:'done'};function m(n){this.$ResourceRequestCache0=n.dataTypes;this.$ResourceRequestCache1=n.dataTypeFilterFieldName;this.$ResourceRequestCache2={};this.$ResourceRequestCache3={};this.$ResourceRequestCache4={};this.$ResourceRequestCache5={};this.$ResourceRequestCache6={};this.$ResourceRequestCache7={};this.$ResourceRequestCache8={};this.$ResourceRequestCache9={};}m.prototype.initializeRequest=function(n,o){var p=this.$ResourceRequestCachea(n,o);if(!this.$ResourceRequestCache2[p])this.$ResourceRequestCache2[p]=[];if(!this.$ResourceRequestCache4[p])this.$ResourceRequestCache4[p]=new i();if(!this.$ResourceRequestCache3[p])this.$ResourceRequestCache3[p]=this.$ResourceRequestCacheb();if(!this.$ResourceRequestCache8[p])this.$ResourceRequestCache8[p]=this.$ResourceRequestCacheb();if(!this.$ResourceRequestCache9[p])this.$ResourceRequestCache9[p]=this.$ResourceRequestCacheb(0);};m.prototype.getRequiredDataTypes=function(n){var o;if(n&&this.$ResourceRequestCache1)o=g.getFilterValueByField(n,h.getField(this.$ResourceRequestCache1).field);if(!o)o=Object.keys(this.$ResourceRequestCache0);return o;};m.prototype.addItemsAndExecute=function(n,o,p){var q=this.$ResourceRequestCachea(n,o),r=this.$ResourceRequestCache4[q];if(p.length===0){r.setReachedEndOfArray();return;}p.forEach(function(u){this.$ResourceRequestCachec(q,u);}.bind(this),this);var s=this.$ResourceRequestCached(n,o);if(s.length===0)return;var t=k.size(r.getAllResources());r.addResourcesWithoutSorting(s,t);};m.prototype.executeOrEnqueue=function(n,o,p,q){var r=this.$ResourceRequestCachea(n,o),s=this.$ResourceRequestCache4[r];return s.executeOrEnqueue(p,1,q);};m.prototype.isFulfilled=function(n,o,p){var q=this.$ResourceRequestCachea(n,o),r=this.$ResourceRequestCache4[q],s=r.getUnavailableResources(p);return s.length===0;};m.prototype.popNextDAO=function(n,o,p,q,r,s,t){var u=this.$ResourceRequestCachea(o,p),v=this.$ResourceRequestCache3[u][q];if(k.isFunction(v)){this.$ResourceRequestCache3[u][q]=l.LOADING;return function(w){v(function(x,y){x=this.$ResourceRequestCachee(q,x);x=this.$ResourceRequestCachef(x,o,u,q);this.$ResourceRequestCache9[u][q]+=x.length;if(o)this.$ResourceRequestCache7[u]+=x.length||0;this.$ResourceRequestCache3[u][q]=y||l.DONE;w(x);}.bind(this));}.bind(this);}if(v!==(void 0))return null;this.$ResourceRequestCache3[u][q]=l.LOADING;this.$ResourceRequestCache7[u]=0;return function(w){var x=this.$ResourceRequestCacheg(q);x.clearCache();var y;if(o)y=g.includeFiltersByFields(o,h.getAPIFields().map(function(z){return z.field;}));x.paged(function(z,aa,ba){this.$ResourceRequestCache8[u][q]=ba.summary;z=this.$ResourceRequestCachee(q,z);z=this.$ResourceRequestCachef(z,o,u,q);this.$ResourceRequestCache9[u][q]+=z.length;this.$ResourceRequestCache7[u]+=z.length;this.$ResourceRequestCache3[u][q]=aa||l.DONE;w(z);}.bind(this),j({brandID:n,limit:s,fields:this.$ResourceRequestCacheh(q,o),filtering:y?y.toAPI():null,sort:p+'_ascending',summary:1,handleError:function(z,aa){this.$ResourceRequestCache3[u][q]=l.DONE;w(aa);}.bind(this)},t));}.bind(this);};m.prototype.getResourceCount=function(n,o){var p=this.$ResourceRequestCachea(n,o),q=this.getRequiredDataTypes(n,o),r=k(q).chain().map(function(u){return this.$ResourceRequestCachei(u,p);}.bind(this)).any().value();if(!r)return k.reduce(this.$ResourceRequestCache9[p],function(u,v){return v+u;},0,this);var s=this.$ResourceRequestCache8[p];if(!n)return this.$ResourceRequestCachej(s,'total_count');var t=k(q).chain().map(function(u){return s[u];}).every().value();if(t)return this.$ResourceRequestCachej(s,'filtered_total_count');return null;};m.prototype.$ResourceRequestCachej=function(n,o){return k.reduce(n,function(p,q){return (q?q[o]:0)+p;},0,this);};m.prototype.setErrors=function(n,o,p){var q=this.$ResourceRequestCachea(n,o);this.$ResourceRequestCache6[q]=p;};m.prototype.getErrors=function(n,o){var p=this.$ResourceRequestCachea(n,o);return this.$ResourceRequestCache6[p];};m.prototype.$ResourceRequestCachek=function(n){return this.$ResourceRequestCache5[n];};m.prototype.$ResourceRequestCachec=function(n,o){this.$ResourceRequestCache2[n].push(o.id);this.$ResourceRequestCache5[o.id]=o;};m.prototype.$ResourceRequestCached=function(n,o){var p=this.$ResourceRequestCachea(n,o),q={},r=this.getRequiredDataTypes(n,o);r.forEach(function(x){var y=this.$ResourceRequestCachel(x,p);q[x]=y;}.bind(this));var s=k(this.$ResourceRequestCache2[p]).chain().map(this.$ResourceRequestCachek,this).sortBy(function(x){return x[o];}).value(),t=[];for(var u=0;u<s.length;u++){var v=s[u];if(!this.$ResourceRequestCachem(p,q))break;t.push(v);q[v.__RR__dataType]--;}var w=s.slice(t.length,s.length);this.$ResourceRequestCache2[p]=k.pluck(w,'id');return t;};m.prototype.$ResourceRequestCachem=function(n,o){return k.filter(o,function(p,q){return p===0&&this.$ResourceRequestCachei(q,n);}.bind(this)).length===0;};m.prototype.$ResourceRequestCacheh=function(n,o){var p=this.$ResourceRequestCache0[n],q=p.fields;if(p.getDynamicFields)q=q.concat(p.getDynamicFields(o));return q;};m.prototype.$ResourceRequestCacheg=function(n){return this.$ResourceRequestCache0[n].daoPath;};m.prototype.$ResourceRequestCachen=function(n){return this.$ResourceRequestCache0[n].clientSideFilter;};m.prototype.$ResourceRequestCachef=function(n,o,p,q){if(!o)return n;var r=this.$ResourceRequestCachen(q),s=n.length,t=r?n.filter(function(v){return r(v,o);}):n,u=t.length;this.$ResourceRequestCache8[p][q].filtered_total_count-=(s-u);return t;};m.prototype.$ResourceRequestCachee=function(n,o){var p=this.$ResourceRequestCache0[n].apiConverter;if(!p||o.error)return o;return o.map(p,this);};m.prototype.$ResourceRequestCachei=function(n,o){return this.$ResourceRequestCache3[o][n]!==l.DONE;};m.prototype.$ResourceRequestCachel=function(n,o){var p=this.$ResourceRequestCache2[o].map(this.$ResourceRequestCachek,this);return p.filter(function(q){return q.__RR__dataType===n;}).length;};m.prototype.$ResourceRequestCacheb=function(n){var o={};Object.keys(this.$ResourceRequestCache0).forEach(function(p){return o[p]=n;});return o;};m.prototype.$ResourceRequestCachea=function(n,o){var p;if(!n){p='(no-filter)';}else p=n.toString();return p+' sort='+o;};m.prototype.$ResourceRequestCacheo=function(n){return !!n.match('(no-filter)');};e.exports=m;},null);
__d("CallbackManager.brands",["KeyedCallbackManager"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(){"use strict";this.$CallbackManager0={};this.$CallbackManager1=new g();}h.prototype.executeOrEnqueue=function(i,j){"use strict";return this.$CallbackManager1.executeOrEnqueue(i,j);};h.prototype.addResourceAndExecute=function(i,j){"use strict";var k={};k[i]=j;return this.addResourcesAndExecute(k);};h.prototype.reset=function(){"use strict";this.$CallbackManager0={};this.$CallbackManager1=new g();};h.prototype.addResourcesAndExecute=function(i){"use strict";Object.keys(i).forEach(this.$CallbackManager2,this);return this.$CallbackManager1.addResourcesAndExecute(i);};h.prototype.addResourcesArrayAndExecute=function(i,j){"use strict";var k={};i.forEach(function(l){var m=j.call(this,l);m=m+"";k[m]=l;},this);return this.$CallbackManager1.addResourcesAndExecute(k);};h.prototype.setResource=function(i,j){"use strict";this.$CallbackManager2(i);return this.$CallbackManager1.setResource(i,j);};h.prototype.getProcessingKeys=function(){"use strict";return Object.keys(this.$CallbackManager0);};h.prototype.setIsProcessing=function(i){"use strict";this.$CallbackManager0[i]=true;};h.prototype.$CallbackManager2=function(i){"use strict";delete this.$CallbackManager0[i];};h.prototype.getWaitingKeys=function(i){"use strict";return this.$CallbackManager1.getUnavailableResourcesFromRequest(i).filter(function(j){return !this.$CallbackManager0[j];},this);};e.exports=h;},null);
__d("BaseResourceRequest.brands",["ResourceRequestCache.brands","CallbackManager.brands","underscore.ads"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=25;function k(l,m){this.businessID=l;this.requestCache=new g(m);}k.prototype.fetch=function(l,m,n,o,p){this.requestCache.initializeRequest(l,m);var q=this.requestCache.executeOrEnqueue(l,m,n,function(r){var s=this.requestCache.getErrors(l,m),t,u=r[0];if(u&&s&&s[u.__RR__dataType]){t=s[u.__RR__dataType];}else t=u;setTimeout(function(){return o(t);},0);}.bind(this));this.$BaseResourceRequest0(l,m,n,j,q,p);};k.prototype.getResourceCount=function(l,m){this.requestCache.initializeRequest(l,m);return this.requestCache.getResourceCount(l,m);};k.prototype.$BaseResourceRequest0=function(l,m,n,o,p,q){var r=this.requestCache.isFulfilled(l,m,p);if(r)return;var s=this.requestCache.getRequiredDataTypes(l,this.$BaseResourceRequest1),t=new h();t.executeOrEnqueue(s,this.$BaseResourceRequest2.bind(this,l,m,n,o,p,q));var u={},v=false;s.forEach(function(w){var x=this.requestCache.popNextDAO(this.businessID,l,m,w,n,o,q);if(x)v=true;u[w]=x;}.bind(this));if(!v)return;i.forEach(u,function(w,x){if(w){w(function(y){t.addResourceAndExecute(x,y);});}else t.addResourceAndExecute(x,null);},this);};k.prototype.$BaseResourceRequest2=function(l,m,n,o,p,q,r){var s=[],t={};i.forEach(r,function(u,v){if(!u)return;if(!u.error){u.forEach(function(w){return w.__RR__dataType=v;});}else t[v]=u;s=s.concat(u);},this);this.requestCache.setErrors(l,m,t);this.requestCache.addItemsAndExecute(l,m,s);if(s.length===0)return;this.$BaseResourceRequest0(l,m,n,o,p,q);};e.exports=k;},null);
__d("ResourceRequests.brands",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={},h={get:function(j,k,l){var m=i(k,l);if(!g[m])g[m]=new j(k);return g[m];},clear:function(j,k){var l=i(j,k);delete g[l];}};function i(j,k){return j+k;}e.exports=h;},null);
__d("BaseStore.brands",["AppDispatcher.brands","Arbiter","ClientIDs"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(){this.$BaseStore0='store-id-'+i.getNewClientID();if(this.onDispatchToken){var k=this.onDispatchToken.bind(this);this.dispatchToken=g.register(function(l){k(l);});}this.$BaseStore1={};}j.prototype.subscribe=function(k,l){this.$BaseStore2=h.subscribe(this.$BaseStore3(k),l);return this.$BaseStore2;};j.prototype.unsubscribe=function(){this.$BaseStore2.unsubscribe();};j.prototype.informNow=function(k){h.inform(this.$BaseStore3(k),null);};j.prototype.inform=function(k){if(this.$BaseStore1[k])clearTimeout(this.$BaseStore1[k]);this.$BaseStore1[k]=setTimeout(function(){this.informNow(k);this.$BaseStore1[k]=null;}.bind(this),0);};j.prototype.$BaseStore3=function(k){return this.$BaseStore0+"-"+k;};e.exports=j;},null);
__d("ListStore.brands",["AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterSet","BaseStore.brands","ClientIDs","ImmutableObject","ResourceRequests.brands","underscore.ads"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q='name',r=new n({isLoading:true}),s=new n({isLoading:false});for(var t in l)if(l.hasOwnProperty(t))v[t]=l[t];var u=l===null?null:l.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=l;function v(w){this.$ListStore0=w.resourceRequestType;this.$ListStore1=m.getNewClientID();this.$ListStore2={};this.$ListStore3={};this.$ListStore4={};l.call(this);}v.prototype.getAPIID=function(w){return w;};v.prototype.getLocalID=function(w){return w.id;};v.prototype.getByID=function(w){return this.$ListStore2[w];};v.prototype.getOrQueryByID=function(w,x,y){if(this.$ListStore2[x]){y&&y(this.$ListStore2[x]);}else{var z=new k([new g(new h('id',i.STRING),j.EQUAL,this.getAPIID(x))]);o.get(this.$ListStore0,w,this.$ListStore1).fetch(z,q,0,function(aa){var ba=this.$ListStore5(aa);if(aa)this.$ListStore2[this.getLocalID(aa)]=ba;y(ba);}.bind(this));}};v.prototype.getFirstID=function(){return Object.keys(this.$ListStore2)[0];};v.prototype.hasError=function(w){var x=this.$ListStore6(w);return !!this.$ListStore4[x];};v.prototype.getItemAtIndex=function(w,x,y,z){var aa=this.$ListStore6(x,y);if(this.$ListStore3[aa]&&this.$ListStore3[aa].hasOwnProperty(z)){var ba=this.$ListStore3[aa][z];return ba?this.$ListStore2[ba]:s;}o.get(this.$ListStore0,w,this.$ListStore1).fetch(x,y||q,z,function(ca){this.$ListStore7(aa,z,ca);}.bind(this));return r;};v.prototype.getRowCount=function(w,x,y){return o.get(this.$ListStore0,w,this.$ListStore1).getResourceCount(x,y||q);};v.prototype.clear=function(w){this.$ListStore2={};this.$ListStore3={};o.clear(w,this.$ListStore1);};v.prototype.$ListStore6=function(w,x){var y="";if(w)y=w.toString();if(x){y+=x;}else y+=q;return y;};v.prototype.$ListStore7=function(w,x,y){if(!this.$ListStore3[w])this.$ListStore3[w]=[];if(!y){this.$ListStore3[w][x]=null;this.inform('change');return;}if(y.error)this.$ListStore4[w]=y.error;var z=p.size(this.$ListStore3[w]);this.$ListStore3[w][x]=this.getLocalID(y);this.$ListStore2[this.getLocalID(y)]=this.$ListStore5(y);var aa=p.size(this.$ListStore3[w]);if(z!==aa)this.inform('change');};v.prototype.$ListStore5=function(w){return new n({asset:w,isLoading:false});};e.exports=v;},null);
__d("BizAssetsFilterValueConfig",["AppConstants.brands","AssetName.brands","underscore.ads"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=g.ASSET_TYPE,k={};i.values(j).forEach(function(l){k["ASSET_TYPE_"+l]={value:l,text:h.getName(l,1,true)};});e.exports=k;},null);
__d("BizHomeTableCellMixin.brands",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={shouldComponentUpdate:function(h,i){if(this.props.asset&&h.asset&&this.props.asset.id!==h.asset.id)return true;if(this.props.asset!==h.asset)return true;return false;}};e.exports=g;},null);
__d("AssetRole.brands",["AdsConstants","AppConstants.brands","BusinessIdentityEventCategory","BusinessIdentityEventName","AppLogger.brands","ix","businessGlyph"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=h.ASSET_TYPE,o={getRoleLabel:function(q,r){switch(r){case n.AD_ACCOUNT:return g.adaccount_roles[q];case n.PAGE:return g.page_roles[q];case n.BRAND:return g.brand_roles[q];case n.APP:return g.app_roles[q];case n.PRODUCT_CATALOG:return g.productcatalog_roles[q];case n.SYSTEM_USER:return g.system_user_roles[q];default:k.logForAnalytics(i.UTILS,j.UTILS_ASSET_ROLE_GET_ROLE_PROJECT_UNKNOWN_ROLE,{name:q,assetType:r});}},getRoleDescription:function(q,r){switch(r){case n.AD_ACCOUNT:return g.adaccount_roles_desc[q];case n.PAGE:return g.page_roles_desc[q];case n.BRAND:return g.brand_roles_desc[q];case n.APP:return g.app_roles_desc[q];case n.PRODUCT_CATALOG:return g.productcatalog_roles_desc[q];case n.SYSTEM_USER:return g.system_user_roles_desc[q];default:k.logForAnalytics(i.UTILS,j.UTILS_ASSET_ROLE_GET_ROLE_DESCRIPTION_UNKNOWN_ROLE,{name:q,assetType:r});}},getRoleKeys:function(q){return Object.keys(this.getRoles(q));},getRoles:function(q){switch(q){case n.AD_ACCOUNT:return g.adaccount_roles;case n.PAGE:return g.page_roles;case n.BRAND:return g.brand_roles;case n.APP:return g.app_roles;case n.PRODUCT_CATALOG:return g.productcatalog_roles;case n.SYSTEM_USER:return g.system_user_roles[name];default:k.logForAnalytics(i.UTILS,j.UTILS_ASSET_ROLE_GET_ROLES_UNKNOWN_ROLE,{assetType:q});}},getDefaultRole:function(q){switch(q){case n.AD_ACCOUNT:return 'GENERAL_USER';case n.PAGE:return 'ADVERTISER';case n.PRODUCT_CATALOG:return 'ADMIN';case n.SYSTEM_USER:return 'SYSTEM_USER';default:k.logForAnalytics(i.UTILS,j.UTILS_ASSET_ROLE_GET_DEFAULT_ROLE_UNKNOWN_ROLE,{assetType:q});}},getRoleData:function(q){var r=Object.keys(this.getRoles(q));return r.map(function(s){return {roleName:s,title:o.getRoleLabel(s,q),desc:o.getRoleDescription(s,q)};});},getIcon:function(q,r){var s=p[r];if(!s)return m('megaphone',{size:14});return s[q];},sortRoleKeys:function(q,r){return this.getRoleKeys(q).filter(function(s){return r.indexOf(s)!==-1;});}},p={};p[n.AD_ACCOUNT]={ADMIN:l('/images/deprecated/glyphs/dark/close-friends_s.png'),GENERAL_USER:m('megaphone',{size:14}),REPORTS_ONLY:l('/images/deprecated/glyphs/dark/bar-chart_s.png')};p[n.PAGE]={MANAGER:l('/images/deprecated/glyphs/dark/close-friends_s.png'),CONTENT_CREATOR:l('/images/deprecated/glyphs/dark/pages_s.png'),MODERATOR:l('/images/deprecated/glyphs/dark/male_s.png'),ADVERTISER:m('megaphone',{size:14}),INSIGHTS_ANALYST:l('/images/deprecated/glyphs/dark/bar-chart_s.png')};p[n.PRODUCT_CATALOG]={ADMIN:l('/images/deprecated/glyphs/dark/close-friends_s.png')};e.exports=o;},null);
__d("BizHomeBaseAPIConverter.brands",["AdAccountIDConverter","BusinessIdentityEventCategory","BusinessIdentityEventName","AppLogger.brands","AssetRole.brands","BrandsAppConfig"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=b('BrandsAppConfig').businessID;function m(n,o,p){var q={id:n.id,name:n.name||g.toID(n.id),assetType:o};if(n.userpermissions){q.role=n.userpermissions.data[0].role;}else{q.role=k.getDefaultRole(o);j.logForAnalytics(h.HOMEPAGE,i.OBJECT_VALIDATION_ERROR,{id:n.id});}if(n.business)q.business={id:typeof n.business==="string"?n.business:n.business.id,name:n.business.name};if(n.businessprojects){var r=(n.businessprojects.data).filter(function(s){return s.business.id===l;})[0];q.project=r||null;}if(p)Object.assign(q,p);return q;}e.exports={fromAPI:m};},null);
__d("BizHomeAdAccountAPIConverter.brands",["AppConstants.brands","BizHomeBaseAPIConverter.brands"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g.ASSET_TYPE;function j(k){return h.fromAPI(k,i.AD_ACCOUNT,{currency:k.currency||null,endAdvertiser:k.end_advertiser||null,timezoneName:k.timezone_name?k.timezone_name.replace('_',' '):null});}e.exports={fromAPI:j};},null);
__d("BizHomePageAPIConverter.brands",["AppConstants.brands","BizHomeBaseAPIConverter.brands"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g.ASSET_TYPE;function j(k){return h.fromAPI(k,i.PAGE,{link:k.link,isPublished:k.is_published,isVerified:k.is_verified,picture:k.picture&&k.picture.data.url,name:k.global_brand_page_name||k.name});}e.exports={fromAPI:j};},null);
__d("BizHomeProductCatalogAPIConverter.brands",["AppConstants.brands","BizHomeBaseAPIConverter.brands"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g.ASSET_TYPE;function j(k){return h.fromAPI(k,i.PRODUCT_CATALOG);}e.exports={fromAPI:j};},null);
__d("BizHomeAssetResourceRequest.brands",["BaseResourceRequest.brands","BizHomeAdAccountAPIConverter.brands","BizHomePageAPIConverter.brands","BrandsAppConfig","GraphDAO.brands","BizHomeProductCatalogAPIConverter.brands"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=['id','name','businessprojects.fields(id,name,business)','business','userpermissions.user('+j.userID+').business('+j.businessID+')'],n=m.concat(['account_id','account_status','currency','timezone_name','end_advertiser']),o=m.concat(['link','is_published','is_verified','picture.type(square)','global_brand_page_name']),p=m;for(var q in g)if(g.hasOwnProperty(q))s[q]=g[q];var r=g===null?null:g.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=g;function s(t){var u=k.forBrand(t),v={};v.dataTypes={page:{fields:o,daoPath:u.fetch.assignedPagesForBrand,apiConverter:i.fromAPI},'ad-account':{fields:n,daoPath:u.fetch.assignedAdAccountsForBrand,apiConverter:h.fromAPI},'product-catalog':{fields:p,daoPath:u.fetch.assignedProductCatalogsForBrand,apiConverter:l.fromAPI}};v.dataTypeFilterFieldName='ASSET_TYPE';g.call(this,t,v);}e.exports=s;},null);
__d("BizHomeAssetsStore.brands",["ListStore.brands","BizHomeAssetResourceRequest.brands"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in g)if(g.hasOwnProperty(i))k[i]=g[i];var j=g===null?null:g.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=g;function k(){g.call(this,{resourceRequestType:h});}var l=new k();e.exports=l;},null);
__d("XBusinessAdAccountStatsAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/business\/async\/ad_account_stats\/",{adaccount_id:{type:"String",required:true}});},null);
__d("BizHomeStatsStore.brands",["AdAccountIDConverter","AppConstants.brands","Arbiter","AsyncRequest","XBusinessAdAccountStatsAsyncController","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=h.ASSET_TYPE,n={},o={},p=l(new i(),{get:function(q,r,s){if(r!==m.AD_ACCOUNT)return;if(o[q]){s(o[q]);return;}this._fetchStatsForAdAccount(q,function(t){if(!t){s(null);return;}o[q]=t;s(o[q]);});},cancelRequest:function(q){if(n[q]){n[q].abort();n[q]=null;}},_fetchStatsForAdAccount:function(q,r){var s=k.getURIBuilder().setString('adaccount_id',g.toID(q)).getURI(),t=new j().setURI(s).setMethod('GET').setReadOnly(true).setHandler(function(u,v){u(v.payload);}.bind(this,r)).setErrorHandler(function(u,v){u(null);}.bind(this,r));n[q]=t;t.send();}});e.exports=p;},null);
__d("BUIFilterTokenInputHelper",["AdsGenericFilter","AdsGenericFilterFieldConfigUtil","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterOperatorConfigUtil","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=function(v){return v;},n={},o=[[j.GREATER_THAN,j.LESS_THAN,j.NOT_GREATER_THAN,j.NOT_LESS_THAN,j.EQUAL,j.NOT_EQUAL],[j.CONTAIN,j.NOT_CONTAIN],[j.IN_RANGE,j.NOT_IN_RANGE],[j.IN,j.NOT_IN]];function p(v,w){if(v.name===w.name)return true;return v.type!==i.NUMBER_SET&&v.type!==i.STRING_SET&&v.type===w.type;}function q(v,w){if(v===w)return true;var x;if(v<w){x=v+','+w;}else x=w+','+v;if(x in n)return n[x];var y,z=false,aa=o.length;for(y=0;y<aa;y++){var ba=o[y];if(ba.indexOf(v)>-1&&ba.indexOf(w)>-1){z=true;break;}}n[x]=z;return z;}function r(v,w){var x=w.fieldConfig,y=x?x.field.name:null,z={},aa=[],ba;if(!x&&v.defaultFilter){var ca=v.defaultFilter.field;x=h.getConfigByField(v.fieldsConfig,ca);y=x.field.name;}if(v.filterBlacklist)v.filterBlacklist.forEach(function(da){l(da instanceof g);z[da.field.name]=true;});v.validFieldConfigs.forEach(function(da){var ea=da.field.name;if(!z[ea]){if(ea===y)ba=true;aa.push(da);}});if(!ba){x=aa[0];w.operatorConfig=(void 0);}l(x);w.fieldConfig=x;w.fieldConfigOptions=aa;w.fieldValueRenderer=x.valueRenderer||m;w.fieldValueParser=x.valueParser||m;}function s(v,w){var x=w.fieldConfig;l(x);var y=w.operatorConfig,z=y&&y.operator,aa=[],ba;if(!y&&v.defaultFilter){z=v.defaultFilter.operator;y=k.getConfigByOperator(z);}if(x)x.operators.forEach(function(ca){if(ca.operator===z)ba=true;aa.push(ca);});if(!ba)y=aa[0];w.operatorConfig=y;w.operatorConfigOptions=aa;}function t(v,w){var x=w.fieldConfig,y=w.value,z=w.valueField,aa=w.valueOperator;if(y===(void 0)&&v.defaultFilter){y=v.defaultFilter.value;z=v.defaultFilter.field;aa=v.defaultFilter.operator;}else if(x){var ba=w.operatorConfig.operator,ca=x.field;if(!aa||!ba||!q(aa,ba)||!p(z,ca)){aa=ba;z=ca;switch(ba){case j.EQUAL:case j.NOT_EQUAL:var da=x.values;if(Array.isArray(da)&&da.length){y=da[0].value;}else y='';break;case j.IN_RANGE:case j.NOT_IN_RANGE:y=['',''];break;case j.IN:case j.NOT_IN:y=[];break;default:y='';}}}else y='';w.value=y;w.valueField=z;w.valueOperator=aa;}var u={calibrateFieldState:r,calibrateOperatorState:s,calibrateValueState:t};e.exports=u;},null);
__d("BUIFilterTokenTextInput.react",["Keys","React","ContextualDialog.react","ReactLayeredComponentMixin","cx","fbt","focusNode"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=h,o=n.PropTypes,p=/^-?\d+\.?\d*$/,q=h.createClass({displayName:"BUIFilterTokenTextInput",mixins:[j],propTypes:{format:o.oneOf(['string','number','currency']),label:o.string,shouldFocus:o.bool,value:o.string.isRequired,onChange:o.func.isRequired,onEnter:o.func,onEscape:o.func},getInitialState:function(){return {focused:false,tempValue:null,tooltip:null};},componentDidMount:function(){if(this.props.shouldFocus)this._focusNode();},componentWillReceiveProps:function(r){if(r.shouldFocus&&!this.state.focused)this._focusNode();},_focusNode:function(){setTimeout(function(){if(this.isMounted())m(h.findDOMNode(this.refs.input));}.bind(this),400);},renderLayers:function(){if(this.state.tooltip){return {layer:h.createElement(i,{contextRef:"main",shown:true,position:"above"},h.createElement("div",{className:"_48f_"},this.state.tooltip))};}else return null;},render:function(){var r=this._normalizeValue(this.props.value),s=this.props.placeholder||'',t=(("_48g0")+(this.state.focused?' '+"_48g1":'')),u=(("_48g2")+(!!r?' '+"_48g3":''));return (h.createElement("div",{className:t,ref:"main"},h.createElement("div",{"aria-hidden":"true",className:"_48g4"},(r||'-').replace(/\s/g,'-')),h.createElement("div",{"aria-hidden":"true",className:"_48g5"},s.replace(/\s/g,'-')),h.createElement("div",{className:"_48g6"},h.createElement("input",{title:s,placeholder:s,onKeyDown:this._onKeyDown,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,className:u,type:"text",value:this.state.tempValue!==null?this.state.tempValue:r,ref:"input"}))));},_normalizeValue:function(r){if(this.props.format==='number'&&r)r=p.test(r)?r:'';return r;},_onKeyDown:function(event){if(event.keyCode===g.RETURN&&this.props.onEnter){this.props.onEnter(event);}else if(event.keyCode===g.ESC&&this.props.onEscape)this.props.onEscape(event);},_onChange:function(event){var r=event.target.value,s=this._normalizeValue(r);if(r!==s){event.preventDefault();if(this.props.format==='number'&&this.state.tooltip===null)this.setState({tooltip:(l._("Please enter numbers only"))});return;}if(this.state.tooltip)this.setState({tooltip:null});if(this.props.format==='currency')this.setState({tempValue:s});this.props.onChange(s);},_onFocus:function(){this.setState({focused:true});},_onBlur:function(event){var r={focused:false,tooltip:null};if(this.props.format==='currency')r.tempValue=null;this.setState(r);}});e.exports=q;},null);
__d("BUIFilterTokenTextSetSelector.react",["AdsCFCheckbox.react","ContextualLayer.react","LayerHideOnBlur","React","ReactChildren","ReactLayeredComponentMixin","XUIButton.react","cloneWithProps","cx","fbt","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=j,t=s.PropTypes,u=j.createClass({displayName:"BUIFilterTokenTextSetSelector",mixins:[l],propTypes:{onChange:t.func.isRequired},getInitialState:function(){return {showMenu:false};},render:function(){var v=[];k.forEach(this.props.children,function(y){q(y&&y.type===u.Option);if(y.props.checked)v.push(y.props.text);});var w=v.length?v.join(', '):p._("choose from..."),x=r("_25sl",this.props.className);return (j.createElement(m,{use:'default',className:x,ref:"menuOpener",onClick:this._onMenuToggle,label:w,suppressed:true}));},renderLayers:function(){if(this.state.showMenu){var v=k.map(this.props.children,function(w,x){return n(w,{optionName:'option_'+x,onOptionChange:this._onOptionChange});}.bind(this));return {layer:j.createElement(h,{key:"menu",onToggle:this._onMenuToggle,behaviors:{LayerHideOnBlur:i},contextRef:"menuOpener",position:"below",shown:this.state.showMenu},j.createElement("div",{className:"_25sp",role:"menu"},v))};}else return null;},_onMenuToggle:function(){this.setState({showMenu:!this.state.showMenu});},_onOptionChange:function(v,w,x){var y=[];k.forEach(this.props.children,function(z,aa){var ba='option_'+aa;if(ba===w){if(v)y.push(z.props.value);}else if(z.props.checked)y.push(z.props.value);});this.props.onChange(y);}});u.Option=j.createClass({displayName:"BUIFilterTokenTextSetSelector.Option",propTypes:{checked:t.bool.isRequired,text:t.string.isRequired,value:t.oneOfType([t.string,t.number,t.object])},render:function(){return (j.createElement("div",{className:"_25sq","aria-selected":this.props.checked},j.createElement(g,{name:this.props.optionName,onChange:this.props.onOptionChange,checked:this.props.checked,value:this.props.value,label:this.props.text})));}});e.exports=u;},null);
__d("BUIFilterTokenInput.react",["FBDate","AdsGenericFilter","AdsGenericFilterFieldConfigUtil","AdsGenericFilterFieldType","AdsGenericFilterOperator","BUIFilterTokenInputHelper","BUIFilterTokenTextInput.react","BUIFilterTokenTextSetSelector.react","DOM","Event","Image.react","Parent","React","Rect","XUIButton.react","XUICloseButton.react","XUIDateRangePicker.react","XUISelector.react","XUISpinner.react","XUIMenuStaticItem.react","cx","fbt","glyph","invariant","joinClasses","merge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){b.__markCompiled&&b.__markCompiled();'use strict';var ga=x.Option,ha=s,ia=ha.PropTypes,ja=n.Option,ka=0,la=s.createClass({displayName:"BUIFilterTokenInput",propTypes:{defaultFilter:ia.instanceOf(h),filterBlacklist:ia.array,onSubmit:ia.func.isRequired,onCancel:ia.func,validFieldConfigs:ia.array.isRequired,fieldsConfig:ia.object.isRequired,timezoneID:ia.number,applyOnly:ia.bool.isRequired},getDefaultProps:function(){return {applyOnly:false};},componentDidMount:function(){this._setClickHandlerDelay=setTimeout(this._setClickHandler,16);},componentWillUnmount:function(){clearTimeout(this._setClickHandlerDelay);this._unsetClickHandler();},getInitialState:function(){return this._calibrateState(this.props,{shouldFocusInput:!this.props.applyOnly});},componentWillReceiveProps:function(na){if(String(na.defaultFilter)!==String(this.props.defaultFilter)){this.setState(this._calibrateState(na,{}));}else this.setState(this._calibrateState(na,this.state));},render:function(){if(!this.state.fieldConfig)return s.createElement("i",{className:"hidden_elem"});var na=ea("_5b5o",this.props.className);return this.props.applyOnly?this._renderApplyOnlyToken(na):this._renderEditableToken(na);},_renderApplyOnlyToken:function(na){na=ea(na,"_4cld");return (s.createElement("div",{className:na},this._renderApplyOnlyLabel(),this._renderApplyButton(),this._renderCancelButton()));},_renderApplyOnlyLabel:function(){da(!!this.props.defaultFilter);var na=i.getConfigByField(this.props.fieldsConfig,this.props.defaultFilter.field),oa=na,pa=oa.iconURI,qa=oa.text,ra=this.props.defaultFilter.value;return (s.createElement("div",{className:"_5b5t"},s.createElement(q,{className:"_5b5p",src:pa}),s.createElement("div",{className:"_5b5r"},ba._("{field}: ({value})",[ba.param("field",qa),ba.param("value",ra.length)]))));},_renderEditableToken:function(na){return (s.createElement("div",{className:na},this._renderFieldSelector(),this._renderOperatorSelector(),this._renderInput(),this._renderApplyButton(),this._renderCancelButton()));},_renderFieldSelector:function(){var na=this.state.fieldConfigOptions.map(function(oa){var pa=ga,qa;if(oa.iconURI)qa=s.createElement(q,{className:"_5b5p",src:oa.iconURI});if(oa.isDynamic){if(oa.values===undefined){pa=z;qa=s.createElement(y,null);}if(oa.values===null){pa=z;qa=s.createElement(q,{className:"_5b5p",src:ca('remove')});}}return (s.createElement(pa,{value:oa,key:'field_option_'+oa.field.name},s.createElement("div",{className:"_5b5q"},qa,s.createElement("div",{className:"_5b5r"},oa.text))));});return (s.createElement(ma,{className:"_5b5s",defaultValue:this.state.fieldConfig,key:'field_'+this.state.fieldConfig.field.name,onChange:this._onFieldItemChange},na));},_renderOperatorSelector:function(){var na=this.state.operatorConfigOptions.map(function(oa){return (s.createElement(ga,{value:oa,key:'operator_'+oa.operator},s.createElement("div",{className:"_5b5q"},oa.text)));});return (s.createElement(ma,{key:'operator_'+this.state.fieldConfig.field.name,className:"_5b5s",onChange:this._onOperatorItemChange,defaultValue:this.state.operatorConfig},na));},_renderInput:function(){var na=this.state.fieldValueRenderer;switch(this.state.fieldConfig.field.type){case j.CURRENCY:return this._renderNumberInput('currency');case j.NUMBER:return this._renderNumberInput('number');case j.STRING_SET:return this._renderStringSetInput();case j.DATE_RANGE:return this._renderDateRangeInput();default:return (s.createElement(m,{onEnter:this._onEnter,onEscape:this.props.onCancel,value:na(this.state.value),onChange:this._onTextValueChange,format:"string",shouldFocus:this.state.shouldFocusInput}));}},_renderNumberInput:function(na){var oa=this.state.value,pa=this.state.fieldValueRenderer;switch(this.state.valueOperator){case k.IN_RANGE:case k.NOT_IN_RANGE:return (s.createElement("div",{className:"_5b5t"},s.createElement(m,{onEnter:this._onEnter,onEscape:this.props.onCancel,value:pa(oa[0]),onChange:this._onRangeValueStartChange,format:na,shouldFocus:this.state.shouldFocusInput}),' ',"~",' ',s.createElement(m,{onEnter:this._onEnter,onEscape:this.props.onCancel,value:pa(oa[1]),onChange:this._onRangeValueEndChange,format:na})));default:return (s.createElement(m,{onEnter:this._onEnter,onEscape:this.props.onCancel,value:pa(oa),onChange:this._onTextValueChange,format:na,shouldFocus:this.state.shouldFocusInput}));}},_renderDateRangeInput:function(){var na=g.now(this.props.timezoneID||ka);this.props.timezoneID==null;return (s.createElement(w,{defaultStartFocusTime:na.addDays(-7).getUnixTimestamp(),defaultEndFocusTime:na.getUnixTimestamp(),yearRangePast:1,yearRangeFuture:1,onRangeSelected:this._onDateRangeSelected}));},_renderStringSetInput:function(){var na=this.state.fieldConfig,oa=this.state.fieldValueRenderer,pa;switch(this.state.operatorConfig.operator){case k.EQUAL:case k.NOT_EQUAL:pa=na.values.map(function(qa){return (s.createElement(ga,{value:qa.value,key:qa.value},qa.text||oa(qa.value)));});return (s.createElement(ma,{className:"_5b5s",key:'value_set_selector_'+na.field.name,onChange:this._onStringSetSelectorValueChange,defaultValue:this.state.value},pa));default:pa=na.values.map(function(qa){var ra=this.state.value.indexOf(qa.value)>-1;return (s.createElement(ja,{value:qa.value,key:qa.value,text:qa.text||oa(qa.value),checked:ra}));}.bind(this));return (s.createElement(n,{className:"_5b5s",onChange:this._onTextValueSetChange},pa));}},_isValueValid:function(){var na=this.state.value;if(na){var oa=this.state.operatorConfig.operator;switch(oa){case k.IN_RANGE:case k.NOT_IN_RANGE:if(!na[0]||!na[1]||Number(na[1])<=Number(na[0]))return false;break;case k.IN:case k.NOT_IN:if(!na.length)return false;break;}return true;}else return false;},_renderApplyButton:function(){if(this._isValueValid()){var na=this.props.defaultFilter?ba._("Apply"):ba._("Add");return (s.createElement(u,{className:"_5b5u _5b5v",label:na,use:"default",onClick:this._onApplyButtonClick}));}return null;},_renderCancelButton:function(){return (s.createElement(v,{className:"_5b5u _5b5w",size:"small",onClick:this._onCancelButtonClick}));},_onEnter:function(event){if(this._isValueValid())this._onApplyButtonClick(event);},_onApplyButtonClick:function(event){event.preventDefault();this.props.onSubmit(this.state.fieldConfig.field,this.state.operatorConfig.operator,this.state.value);},_onCancelButtonClick:function(event){event.preventDefault();this.props.onCancel&&this.props.onCancel();},_onFieldItemChange:function(na){var oa=fa(this.state,{fieldConfig:na.value,shouldFocusInput:true});this.setState(this._calibrateState(this.props,oa));},_onOperatorItemChange:function(na){var oa=fa(this.state,{operatorConfig:na.value,shouldFocusInput:true});this.setState(this._calibrateState(this.props,oa));},_onTextValueChange:function(na){var oa=this.state.fieldValueParser,pa=fa(this.state,{value:oa(na)});this.setState(this._calibrateState(this.props,pa));},_onDateRangeSelected:function(na,oa){var pa=fa(this.state,{value:[na,oa]});this.setState(this._calibrateState(this.props,pa));},_onRangeValueStartChange:function(na){var oa=this.state.fieldValueParser,pa=fa(this.state,{value:[oa(na),this.state.value[1]],shouldFocusInput:false});this.setState(this._calibrateState(this.props,pa));},_onRangeValueEndChange:function(na){var oa=this.state.fieldValueParser,pa=fa(this.state,{value:[this.state.value[0],oa(na)]});this.setState(this._calibrateState(this.props,pa));},_onStringSetSelectorValueChange:function(na){var oa=this.state.fieldValueParser,pa=fa(this.state,{value:oa(na.value)});this.setState(this._calibrateState(this.props,pa));},_onTextValueSetChange:function(na){var oa=this.state.fieldValueParser,pa=fa(this.state,{value:na.map(oa)});this.setState(this._calibrateState(this.props,pa));},_onDocumentClick:function(event){if(!this.props.onCancel)return;var na=event.target,oa=s.findDOMNode(this);if(o.contains(oa,na)||r.byClass(na,"_1t-2")||r.byClass(na,"_5b5q")||r.byClass(na,"_5hq3"))return;var pa=na;while(pa&&pa.nodeType===1){if(pa.getAttribute('role')==='menu')return;pa=pa.parentNode;}var qa=t.getElementBounds(oa),ra=20;qa=new t(qa.t-ra,qa.r+ra,qa.b+ra,qa.l-ra);var sa=t.getElementBounds(na);if(qa.contains(sa))return;this.props.onCancel();},_calibrateState:function(na,oa){l.calibrateFieldState(na,oa);l.calibrateOperatorState(na,oa);l.calibrateValueState(na,oa);return oa;},_setClickHandler:function(){if(!this._clickHandler)this._clickHandler=p.listen(document,'click',this._onDocumentClick);},_unsetClickHandler:function(){if(this._clickHandler){this._clickHandler.remove();this._clickHandler=null;}}}),ma=s.createClass({displayName:"Selector",render:function(){return (s.createElement(x,{className:this.props.className,onChange:this.props.onChange,defaultValue:this.props.defaultValue,haschevron:false,suppressed:true},this.props.children));}});e.exports=la;},null);
__d("BUIFilterToken.react",["AdsGenericFilter","AdsGenericFilterFieldConfigUtil","AdsGenericFilterOperator","AdsGenericFilterOperatorConfigUtil","BUIFilterTokenInput.react","AdsGenericFilterValueConfigUtil","Image.react","Link.react","React","ReactComponentWithPureRenderMixin","XUICloseButton.react","cx","fbt","intlList","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();'use strict';var v=o,w=v.PropTypes,x=function(z){return z;},y=o.createClass({displayName:"BUIFilterToken",mixins:[p],propTypes:{contentEditable:w.bool.isRequired,index:w.number.isRequired,filter:w.instanceOf(g).isRequired,onChange:w.func.isRequired,onRemove:w.func.isRequired,onEditAttempt:w.func,onEditCancelAttempt:w.func,validFieldConfigs:w.array.isRequired,filterConstructor:w.func,fieldsConfig:w.object.isRequired,valuesConfig:w.object.isRequired,theme:w.oneOf(['regular','dark']).isRequired,timezoneID:w.number},getDefaultProps:function(){return {filterConstructor:g,theme:'regular'};},render:function(){var z=this.props.contentEditable,aa=(("_3yz1")+(z?' '+"_3yz2":'')+(!this._isApplyOnly()?' '+"_4tod":'')+(this._isDarkTheme()?' '+"_2sy-":'')),ba=this._renderEditable();return (o.createElement("div",{className:aa},o.createElement("div",{className:"_3yz4","aria-hidden":!z},this._renderText(),this._renderRemove()),ba));},_renderEditable:function(){if(this.props.contentEditable)return (o.createElement(k,{className:"_3yz3",defaultFilter:this.props.filter,onSubmit:this._onSubmit,onCancel:this._onEditCancelAttempt,validFieldConfigs:this.props.validFieldConfigs,fieldsConfig:this.props.fieldsConfig,timezoneID:this.props.timezoneID,applyOnly:this._isApplyOnly()}));},_renderText:function(){var z=this._getDisplayTextValues(),aa=z.fieldIconURI,ba=z.fieldText,ca=z.operatorText,da=z.valueText,ea=this._renderOperatorAndValueText(ca,da);return (o.createElement(n,{onClick:this._onEditAttempt,className:"_3yz5"},o.createElement(m,{className:"_3yz6",src:aa}),o.createElement("div",{className:"_3yz7"},ba),o.createElement("div",{className:"ellipsis _3yz8","data-hover":"tooltip","data-tooltip-display":"overflow"},ea)));},_renderRemove:function(){return (o.createElement(q,{className:"_3yz9 _1t-2",size:"small",onClick:this._onRemove}));},_onEditCancelAttempt:function(){if(!this._isApplyOnly()&&this.props.onEditCancelAttempt)this.props.onEditCancelAttempt(this.props.filter,this.props.index);},_onEditAttempt:function(event){event.preventDefault();if(!this._isApplyOnly()&&this.props.onEditAttempt)this.props.onEditAttempt(this.props.filter,this.props.index);},_onRemove:function(event){event.preventDefault();this.props.onRemove(this.props.filter,this.props.index);},_onSubmit:function(z,aa,ba){if(this.props.filterConstructor==null)return;var ca=new this.props.filterConstructor(z,aa,ba);this.props.onChange(ca,this.props.index);},_getDisplayTextValues:function(){var z=this._getFieldConfig();return {fieldIconURI:z.iconURI,fieldText:this._getFieldText(z),operatorText:this._getOperatorText(),valueText:this._getValueText(z)};},_getFieldConfig:function(){return h.getConfigByField(this.props.fieldsConfig,this.props.filter.field);},_isApplyOnly:function(){var z=this._getFieldConfig();return !!z.applyOnly;},_isDarkTheme:function(){return this.props.theme==='dark';},_getFieldText:function(z){var aa=z.text;return (s._("{field}:",[s.param("field",aa)]));},_getOperatorText:function(){var z=this.props.filter.operator,aa=j.getConfigByOperator(z);return aa.shortText||'';},_getValueText:function(z){var aa=this.props.filter.value,ba='',ca=z.valueRenderer||x;if(typeof aa==='string'||typeof aa==='number'){ba=this._getSingleValueText(aa,ca);}else if(Array.isArray(aa)){ba=this._getArrayValueText(aa,ca);}else u(false);return ba;},_getSingleValueText:function(z,aa){var ba=l.getConfigByValue(this.props.valuesConfig,z);return aa(ba?ba.value:String(z));},_getArrayValueText:function(z,aa){var ba='';if(this._isApplyOnly()){ba=String(z.length);}else{z=z.map(function(ca){return this._getSingleValueText(ca,aa);}.bind(this));switch(this.props.filter.operator){case i.IN_RANGE:case i.NOT_IN_RANGE:ba=z.join(' ~ ');break;default:ba=t(z,t.CONJUNCTIONS.OR);}}return ba;},_renderOperatorAndValueText:function(z,aa){if(this._isApplyOnly()){return (s._("({value})",[s.param("value",aa)]));}else return (s._("{operator} {value}",[s.param("operator",z),s.param("value",aa)]));}});e.exports=y;},null);
__d("BUIFilterTokenCreateButton.react",["BUIFilterTokenInput.react","Image.react","React","ReactComponentWithPureRenderMixin","XUIButton.react","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=i,o=n.PropTypes,p=i.createClass({displayName:"BUIFilterTokenCreateButton",propTypes:{filterBlacklist:o.array,onSubmit:o.func.isRequired,validFieldConfigs:o.array.isRequired,fieldsConfig:o.object.isRequired},mixins:[j],getInitialState:function(){return {editing:false,field:null,operator:null,value:null};},render:function(){if(this.state.editing){return (i.createElement(g,{className:"_1tb",filterBlacklist:this.props.filterBlacklist,onSubmit:this._onSubmit,onCancel:this._hideInput,validFieldConfigs:this.props.validFieldConfigs,fieldsConfig:this.props.fieldsConfig}));}else{var q=i.createElement(h,{src:m('/images/ui/x/image/plus.png')});return (i.createElement("div",{className:"_1tc"},i.createElement(k,{size:"small",onClick:this._showInput,image:q})));}},_showInput:function(event){event.preventDefault();this.setState({editing:true});},_hideInput:function(){this.setState({editing:false});},_onSubmit:function(q,r,s){this.setState({editing:false,field:q,operator:r,value:s},this._didSubmit);},_didSubmit:function(){this.props.onSubmit(this.state.field,this.state.operator,this.state.value);}});e.exports=p;},null);
__d("BUIFilterTokenizer.react",["AdsCMSaveFilterSetDialog.react","AdsFilterChangeTypes","AdsGenericFilter","AdsGenericFilterFieldConfigUtil","AdsGenericFilterSet","BUIFilterToken.react","BUIFilterTokenCreateButton.react","DOM","React","curry","cx","fbt","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=o,v=u.PropTypes,w=o.createClass({displayName:"BUIFilterTokenizer",getInitialState:function(){var y;if(this.props.filterSet)this.props.filterSet.values.some(function(z){if(z.value===''){y=z;return true;}});return {activeFilter:y};},propTypes:{filterSet:v.instanceOf(k),onChange:v.func.isRequired,onSave:v.func,onClear:v.func,validFieldConfigs:v.array.isRequired,filterSetConstructor:v.func,filterConstructor:v.func,fieldsConfig:v.object.isRequired,valuesConfig:v.object.isRequired,theme:v.oneOf(['regular','dark']).isRequired,timezoneID:v.number,hideLabel:v.bool,hideAddButton:v.bool},getDefaultProps:function(){return {filterSetConstructor:k,filterConstructor:i,hideLabel:false,hideAddButton:false,theme:'regular'};},render:function(){var y=this._renderTokenizerLabel(),z=this._calculateTokens(),aa=z.tokens,ba=z.filterBlacklist,ca=z.incompleteTokenCount,da=this._renderCreateButton(aa,ba),ea=this._renderSaveButton(aa,ca),fa=this._renderClearButton(aa),ga=t(this.props.className,(("_3o1v")+(this._isDarkTheme()?' '+"_1nj0":'')+(this._isDarkTheme()?' '+"_2sy-":'')));return (o.createElement("div",{className:ga},y,aa,da,o.createElement("div",{className:"_49u3"},ea,fa)));},componentDidUpdate:function(){var y=this.state.activeFilter,z=null,aa;if(this.props.filterSet)this.props.filterSet.values.forEach(function(ba){if(y&&y.key===ba.key)aa=true;if(ba.value===''||ba.value.length===0)z=ba;});if(!aa)y=z;if(!x(this.state.activeFilter,y))this.setState({activeFilter:y});},_calculateTokens:function(){var y=[],z={},aa=[],ba=0;if(this.props.filterSet)this.props.filterSet.values.forEach(function(ca,da){var ea=ca.field,fa=j.getConfigByField(this.props.fieldsConfig,ea);if(fa){var ga=ea.name;aa.push(ca);ba+=!ca.isComplete();s(!z[ga]);z[ga]=true;y.push(this._renderToken(ca,da));}}.bind(this));return {tokens:y,filterBlacklist:aa,incompleteTokenCount:ba};},_renderCreateButton:function(y,z){if(!this.props.hideAddButton&&y.length<this.props.validFieldConfigs.length)return (o.createElement(m,{filterBlacklist:z,onSubmit:this._onFilterInputSubmit,validFieldConfigs:this.props.validFieldConfigs,fieldsConfig:this.props.fieldsConfig}));return null;},_renderSaveButton:function(y,z){if(y.length>z&&this.props.onSave)return (o.createElement("div",{className:"_49u2 _3yz4 _3yz8",tabIndex:0,onClick:this._onSaveClick},r._("Save Filter")));return null;},_renderClearButton:function(y){if(y.length>0&&this.props.onClear)return (o.createElement("div",{className:"_49u2 _3yz4 _3yz8",tabIndex:0,onClick:this.props.onClear},r._("Clear")));return null;},_renderTokenizerLabel:function(){if(!this.props.hideLabel)return (o.createElement("span",{className:"_3o1w"},r._("Filter by:")));},_renderToken:function(y,z){var aa=this._getValidFieldConfigs(y);return (o.createElement(l,{key:'token'+z,contentEditable:x(this.state.activeFilter,y),filter:y,index:z,onEditCancelAttempt:this._onEditCancelAttempt,onEditAttempt:this._onEditAttempt,onRemove:this._onFilterRemove,onChange:this._onFilterChange,validFieldConfigs:aa,filterConstructor:this.props.filterConstructor,fieldsConfig:this.props.fieldsConfig,valuesConfig:this.props.valuesConfig,timezoneID:this.props.timezoneID,theme:this.props.theme}));},_getValidFieldConfigs:function(y){return this.props.validFieldConfigs.filter(function(z){if(y.field.key===z.field.key)return true;return !j.isFieldInFilterSet(z.field,this.props.filterSet);}.bind(this));},_onEditAttempt:function(y,z){this.setState({activeFilter:y});},_onEditCancelAttempt:function(y,z){if(y.value===''){this._onFilterRemove(y,z);}else this.setState({activeFilter:null});},_onFilterRemove:function(y,z){var aa=this.props.filterSet.values.slice(0);aa.splice(z,1);var ba=aa.length?new this.props.filterSetConstructor(aa):null;this.props.onChange(ba,h.REMOVE);},_onFilterChange:function(y,z){var aa=this.props.filterSet.values.slice(0);aa[z]=y;var ba=p(this.props.onChange,new this.props.filterSetConstructor(aa),h.EDIT);this.setState({activeFilter:null},ba);},_onFilterInputSubmit:function(y,z,aa){var ba=this.props.filterSet?this.props.filterSet.values.slice(0):[];ba.push(new this.props.filterConstructor(y,z,aa));var ca=new this.props.filterSetConstructor(ba);this.props.onChange(ca,h.ADD_INPUT);},_onSaveClick:function(){o.render(o.createElement(g,{onSave:this.props.onSave}),n.create('div'));},_isDarkTheme:function(){return this.props.theme==='dark';}});function x(y,z){if(y&&z){return y.key===z.key;}else return y===z;}e.exports=w;},null);
__d("FilterTokenizerContainer.brands",["BUIFilterTokenizer.react","BizHomeFilterFieldConfigStore","React"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=i.createClass({displayName:"FilterTokenizerContainer",componentWillMount:function(){this._subToken=h.subscribe('change',function(){this.forceUpdate();}.bind(this));},componentWillUnmount:function(){this._subToken.unsubscribe();},render:function(){return (i.createElement(g,i.__spread({},this.props,{fieldsConfig:h.getUIFields()})));}});e.exports=j;},null);
__d("BizAssetFilter.brands",["AdsGenericFilter","AdsGenericFilterSet","AdsGenericFilterSetUtil","AppConstants.brands","BizHomeFilterFieldConfigStore","BizAssetsFilterValueConfig","BizHomeAssetsStore.brands","Image.react","FilterTokenizerContainer.brands","Layout.react","React","TextInputFilter.brands","XUIButton.react","XUIGrayText.react","XUISelector.react","XUIMenuStaticItem.react","underscore.ads","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){b.__markCompiled&&b.__markCompiled();'use strict';var aa=j.ASSET_TYPE,ba=500,ca=p.Column,da=p.FillColumn,ea=q,fa=ea.PropTypes,ga=u.Option,ha=q.createClass({displayName:"BizAssetFilter",propTypes:{businessID:fa.string.isRequired,onChange:fa.func.isRequired},getInitialState:function(){return {filterSet:null,isFilterShown:false};},componentWillMount:function(){this._subToken=m.subscribe('change',function(){this.forceUpdate();}.bind(this));},componentWillUnmount:function(){this._subToken.unsubscribe();},render:function(){var ia=!!this.state.isFilterShown?z('/images/ads/campaign_manager/filter/filter-blue.png'):z('/images/ads/campaign_manager/filter/filter-gray.png');return (q.createElement("div",null,q.createElement(p,{className:"_2pi0"},q.createElement(ca,{className:"_2gyl"},q.createElement(s,{size:"xlarge",label:y._("Filters"),image:q.createElement(n,{src:ia}),depressed:this.state.isFilterShown,onClick:this._toggleFilter}),q.createElement("div",{className:(("_2gym")+(!this.state.isFilterShown?' '+"_2gyo":''))})),q.createElement(ca,{className:"_1l82"},this._renderAssetCount()),q.createElement(ca,null,this.props.renderButtons()),q.createElement(da,{className:"_1uap"},q.createElement(r,{className:"_1uaq",onChange:this._onKeywordFilterChange,changeDebounceMS:ba,placeholder:y._("Search by name or ID"),filterField:k.getField("NAME_OR_ID").field}))),q.createElement(p,{className:(("_1uar")+(!this.state.isFilterShown?' '+"_1uas":''))},q.createElement(ca,null,q.createElement(u,{name:"presets",onChange:this._onFilterPresetChange,className:"_1uat",value:""},this._getSelectorItems())),q.createElement(da,null,q.createElement(o,{filterSet:this.state.filterSet,onChange:this._onFilterChange,validFieldConfigs:w.values(k.getUIFields()),valuesConfig:l})))));},_renderAssetCount:function(){var ia=m.getRowCount(this.props.businessID,this.state.filterSet,'name')||0;return (q.createElement("div",{style:{visibility:(ia?'visible':'hidden')}},q.createElement(t,{shade:"medium",size:"small",className:"_3-8_"},y._("Showing:")),q.createElement(t,{shade:"dark",size:"small"},y._({"*":"{number of assets shown} Results"},[y.param("number of assets shown",ia,[0])]))));},_getSelectorItems:function(){var ia=([q.createElement(v,{value:"",key:"default"},y._("Filter Presets")),q.createElement(ga,{key:aa.AD_ACCOUNT,value:aa.AD_ACCOUNT},y._("All Ad Accounts")),q.createElement(ga,{key:aa.PAGE,value:aa.PAGE},y._("All Pages")),q.createElement(ga,{key:aa.PRODUCT_CATALOG,value:aa.PRODUCT_CATALOG},y._("All Product Catalogs"))]);return ia;},_toggleFilter:function(){this.setState({isFilterShown:!this.state.isFilterShown});},_onFilterPresetChange:function(ia){var ja=ia.value;if(ja===aa.PAGE||ja===aa.AD_ACCOUNT||ja===aa.PRODUCT_CATALOG){var ka=k.getField("ASSET_TYPE"),la=new g(ka.field,ka.operators[0].operator,[ja]);this.setState({filterSet:null},function(){return this._addFilter(la);}.bind(this));}},_addFilter:function(ia){var ja;if(this.state.filterSet){ja=i.mergeByField(this.state.filterSet,new h([ia]));}else ja=new h([ia]);this._onFilterChange(ja);},_removeFilter:function(ia){if(this.state.filterSet){var ja=i.excludeFiltersByField(this.state.filterSet,ia);this._onFilterChange(ja);}},_onFilterChange:function(ia){this.setState({filterSet:ia},this._announceFilterChange);},_announceFilterChange:function(){this.props.onChange(this.state.filterSet);},_onKeywordFilterChange:function(ia){if(!ia){this._removeFilter(k.getField("NAME_OR_ID").field);}else this._addFilter(ia);},_getKeywordInputText:function(){if(!this.state.filterSet)return "";var ia=i.getFiltersByField(this.state.filterSet,k.getField("NAME_OR_ID").field);if(ia.length===0){return "";}else return ia[0].value;}});e.exports=ha;},null);
__d("BizHomeAssetURI.brands",["AdAccountIDConverter","AppConstants.brands","BizSiteIdentifier.brands","BusinessConf","URI","BrandsAppConfig"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=b('BrandsAppConfig').gk,m=h.ASSET_TYPE,n={getURI:function(o,p,q){switch(p.assetType){case m.PAGE:return this._getPageURI(o,p,q);case m.AD_ACCOUNT:return this._getAdAccountURI(o,p,q);case m.PRODUCT_CATALOG:return this._getProductCatalogURI(o,p,q);}return;},_getProductCatalogURI:function(o,p,q){if(!q)q="/products/catalog";var r=this._bizUriForPath(q);r.addQueryData(j.PRODUCT_CATALOG_ID_PARAM_NAME,p.id);return r;},_getAdAccountURI:function(o,p,q){if(!q)q="/ads/manage";var r=this._bizUriForPath(q);r.addQueryData(j.ACCOUNT_ID_PARAM_NAME,g.toID(p.id));return r;},_getPageURI:function(o,p,q){if(!q)q=p.link;if(!l.business_identity_pageadmin_ui)return new k(q);return this._bizUriForPath(q);},_bizUriForPath:function(o,p){return i.createBusinessURL(o,p);}};e.exports=n;},null);
__d("BizHomeTableActionCell.brands",["AppConstants.brands","BusinessIdentityEventCategory","BusinessIdentityEventName","AppLogger.brands","BizHomeAssetURI.brands","BizHomeTableCellMixin.brands","React","XUIButton.react","XUISelector.react","XUIMenuStaticItem.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=g.ASSET_TYPE,t=m,u=t.PropTypes,v=o.Option,w=m.createClass({displayName:"BizHomeTableActionCell",propTypes:{businessID:u.string.isRequired,asset:u.object},mixins:[l],componentWillReceiveProps:function(x){this.refs&&this.refs.selector&&this.refs.selector.hideMenu();},render:function(){if(!this.props.asset)return m.createElement("div",null);var x;switch(this.props.asset.assetType){case s.PAGE:x=this._renderForPage();break;case s.AD_ACCOUNT:x=this._renderForAdAccount();break;}return (m.createElement("div",{className:"_2pi0 _4_cr"},x));},_renderForAdAccount:function(){var x=k.getURI(this.props.businessID,this.props.asset,"/ads/manage"),y=null,z=r._("You don't have permission to create ads from this ad account."),aa=this._canCreateAds();if(aa)y=k.getURI(this.props.businessID,this.props.asset,"/ads/create");return (m.createElement(o,{ref:"selector",name:"presets",onChange:this._onFilterPresetChange,hasChevron:true,value:""},m.createElement(p,{value:""},r._("Actions")),m.createElement(v,{href:x,value:"manage-ads"},r._("Manage Ads")),m.createElement(v,{href:y,disabled:!aa,"data-hover":!aa&&'tooltip',"data-tooltip-alignh":"center","aria-label":z,value:"create-ad"},r._("Create Ads"))));},_renderForPage:function(){return (m.createElement(n,{label:r._("Use Page"),use:"default",href:k.getURI(this.props.businessID,this.props.asset,this.props.asset.link),disabled:!this.props.asset.role,onClick:this._onUsePageClick}));},_onUsePageClick:function(){j.logForAnalytics(h.HOMEPAGE,i.HOMEPAGE_LIST_ACTIONS_CLICK,{brandID:this.props.brandID,assetType:s.PAGE,action:'Use Page'});},_onFilterPresetChange:function(x){j.logForAnalytics(h.HOMEPAGE,i.HOMEPAGE_LIST_ACTIONS_CLICK,{brandID:this.props.brandID,assetType:s.AD_ACCOUNT,action:x.value});},_canCreateAds:function(){var x=this.props.asset.role;return x!=='INSIGHTS_ANALYST'&&x!=='REPORTS_ONLY';}});e.exports=w;},null);
__d("BizHomeTableAssetTypeCell.brands",["AppConstants.brands","BizHomeTableCellMixin.brands","Image.react","React","cx","businessGlyph"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=g.ASSET_TYPE,n=j,o=n.PropTypes,p=j.createClass({displayName:"BizHomeTableAssetTypeCell",propTypes:{businessID:o.string.isRequired,asset:o.object},mixins:[h],render:function(){if(!this.props.asset)return j.createElement("div",null);var q=l("folder");switch(this.props.asset.assetType){case m.AD_ACCOUNT:q=l("megaphone");break;case m.PAGE:q=l("pages");break;case m.PRODUCT_CATALOG:q=l("product-catalog");break;}return (j.createElement("div",{className:"_4wq1"},j.createElement(i,{className:"_2qti",src:q})));}});e.exports=p;},null);
__d("BizHomeTableCheckboxCell.brands",["AppConstants.brands","React","XUICheckboxInput.react","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=g.ASSET_TYPE,l=h,m=l.PropTypes,n=h.createClass({displayName:"BizHomeTableCheckboxCell",propTypes:{businessID:m.string.isRequired,asset:m.object,checked:m.bool,onChange:m.func.isRequired,shouldRenderForAssetTypes:m.arrayOf(m.oneOf([k.AD_ACCOUNT,k.PAGE])).isRequired},render:function(){if(!this.props.asset)return h.createElement("div",null);var o=this.props.asset.assetType;if(this.props.shouldRenderForAssetTypes.indexOf(o)===-1)return h.createElement("div",null);return (h.createElement("div",{className:"_2pi0"},h.createElement(i,{checked:this.props.checked,onChange:this.props.onChange})));}});e.exports=n;},null);
__d("BizHomeTableNameCell.brands",["AdAccountIDConverter","AppConstants.brands","BusinessIdentityEventCategory","BusinessIdentityEventName","AppLogger.brands","AssetImage.brands","BizHomeAssetURI.brands","BizHomeTableCellMixin.brands","Layout.react","Link.react","React","Text.brands","XUISpinner.react","XUIText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();'use strict';var w=o.Column,x=o.FillColumn,y=h.ASSET_TYPE,z=q,aa=z.PropTypes,ba=q.createClass({displayName:"BizHomeTableNameCell",propTypes:{businessID:aa.string.isRequired,asset:aa.object,width:aa.number.isRequired},mixins:[n],render:function(){var ca=this.props.asset;if(!ca)return (q.createElement("div",{className:"_2pi0"},q.createElement(s,null)));var da=null;if(ca.assetType===y.PAGE)da=q.createElement(l,{asset:this.props.asset,className:"_1b_l"});return (q.createElement(o,{className:"_1rb8",style:{width:this.props.width+"px"}},q.createElement(w,null,da),q.createElement(x,{className:"_1rb9"},q.createElement(p,{onClick:this._onLinkClick,href:m.getURI(this.props.businessID,this.props.asset)},q.createElement(t,{className:"_1rb9",size:"small",weight:"bold"},ca.name)),this._renderID(),this._renderOwner())));},_renderID:function(){var ca=this.props.asset,da;switch(ca.assetType){case y.PAGE:da=(v._("Page: {Page Link}",[v.param("Page Link",q.createElement(p,{onClick:this._onLinkClick,href:m.getURI(this.props.businessID,ca)},ca.link))]));break;case y.AD_ACCOUNT:da=(v._("Ad Account: {ad account ID}",[v.param("ad account ID",g.toID(ca.id))]));break;case y.PRODUCT_CATALOG:da=(v._("Product Catalog: {product catalog ID}",[v.param("product catalog ID",ca.id)]));break;}if(!da)return;return (q.createElement(r,{shade:"light",size:"xsmall",display:"block",className:"_1rb9"},da));},_renderOwner:function(){var ca=this.props.asset,da;if(ca.business&&ca.business.id===this.props.businessID){da=v._("Owned by this Business Manager");}else if(ca.business&&ca.business.name&&ca.business.id!==this.props.businessID){da=v._("{business name} owns this",[v.param("business name",ca.business.name)]);}else da=v._("Individual people own this");return (q.createElement(r,{shade:"light",size:"xsmall",display:"block",className:"_1rb9"},da));},_onLinkClick:function(){k.logForAnalytics(i.HOMEPAGE,j.HOMEPAGE_LIST_ASSET_LINK_CLICK,{brandID:this.props.businessID,assetType:this.props.asset.assetType,assetID:this.props.asset.id});}});e.exports=ba;},null);
__d("BusinessSparkLine.react",["AdsCurrencyFormatter","d3/time/format-utc","React","SpectrumChart","SpectrumLines","SpectrumTooltipMenu","cssVar"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i,o=n.PropTypes,p=54,q=168,r=g.formatCurrency,s=i.createClass({displayName:"BusinessSparkLine",propTypes:{chartStats:o.object.isRequired},_formatTimeStampDisplay:function(t){var u=this.props.chartStats.timezone_offset||0,v=h('%m/%d/%Y');return v(new Date(t+u*1000));},renderCustomTooltip:function(t){var u=Object.keys(this.props.chartStats.daily_spend_stats).sort(),v=u[t.valueX],w=this._formatTimeStampDisplay(parseInt(v*1000,10)),x=r(this.props.chartStats.iso_code,t.valueY);return (i.createElement("div",null,i.createElement("div",null,w),i.createElement("div",null,x)));},render:function(){var t=this.props.chartStats.daily_spend_stats,u=Object.keys(t).sort().map(function(w){return t[w];}),v={lines:{colors:["#666666"]}};return (i.createElement(j,{width:q,height:p,theme:v},i.createElement(k,{data:[u]}),i.createElement(l,{customFormat:this.renderCustomTooltip})));}});e.exports=s;},null);
__d("BizHomeTableStatsCell.brands",["AppConstants.brands","BizHomeStatsStore.brands","BusinessSparkLine.react","React","XUISpinner.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=g.ASSET_TYPE,n=j,o=n.PropTypes,p=j.createClass({displayName:"BizHomeTableStatsCell",propTypes:{businessID:o.string.isRequired,asset:o.object},getInitialState:function(){return {stats:undefined};},componentWillMount:function(){if(this.props.asset)this._getStatsFromStore(this.props.asset);},componentWillReceiveProps:function(q){var r=this.props.asset?this.props.asset.id:null,s=q.asset?q.asset.id:null;if(q.asset&&r!==s)this.setState({stats:undefined},function(){this._getStatsFromStore(q.asset);}.bind(this));},componentWillUnmount:function(){if(this.props.asset)h.cancelRequest(this.props.asset.id);},render:function(){return (j.createElement("div",{className:"_2pi0"},this._renderCell()));},_renderCell:function(){if(!this.props.asset||this.props.asset.assetType!==m.AD_ACCOUNT)return j.createElement("div",null);if(this.state.stats===undefined)return j.createElement(k,null);if(this.state.stats===null)return j.createElement("div",null,"Not Available");return (j.createElement(i,{chartStats:this.state.stats}));},_getStatsFromStore:function(q){h.get(q.id,q.assetType,function(r){this.setState({stats:r||null});}.bind(this));}});e.exports=p;},null);
__d("BizHomeTableProjectCell.brands",["BizHomeTableCellMixin.brands","React","XUIText.react","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h,l=k.PropTypes,m=h.createClass({displayName:"BizHomeTableProjectCell",propTypes:{businessID:l.string.isRequired,asset:l.object,width:l.number.isRequired},mixins:[g],render:function(){if(!this.props.asset)return h.createElement("div",null);return (h.createElement("div",{className:"_3iyj",style:{width:this.props.width+"px"}},h.createElement(i,{size:"small",display:"block",className:"_3iyk"},this.props.asset.project&&this.props.asset.project.name)));}});e.exports=m;},null);
__d("BizHomeTableRoleCell.brands",["AssetRole.brands","BizHomeTableCellMixin.brands","Image.react","React","XUIText.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=j,n=m.PropTypes,o=j.createClass({displayName:"BizHomeTableRoleCell",propTypes:{businessID:n.string.isRequired,asset:n.object},mixins:[h],render:function(){if(!this.props.asset)return j.createElement("div",null);var p=g.getRoleLabel(this.props.asset.role,this.props.asset.assetType),q=g.getIcon(this.props.asset.role,this.props.asset.assetType);return (j.createElement("div",{className:"_52y1 _2pi0"},j.createElement(i,{className:"_52y2",src:q}),j.createElement(k,{className:"_52yq",size:"small",display:"block"},p)));}});e.exports=o;},null);
__d("NoFilterResultView.brands",["Debug.brands","Image.react","React","XUIGrayText.react","cx","ix","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=i,o=n.PropTypes,p=i.createClass({displayName:"NoFilterResultView",mixins:[g],propTypes:{containerClassName:o.string},render:function(){return (i.createElement("div",{className:this.props.containerClassName},i.createElement(h,{width:100,height:100,src:l('/images/ads/campaign_manager/datatable/empty/campaign_level.png')}),i.createElement(j,{className:"_3-8n",display:"block",shade:"light",size:"large",weight:"bold"},m._("No Results Found")),i.createElement(j,{display:"block",shade:"light",size:"medium"},m._("Try searching again or using different filters."))));}});e.exports=p;},null);
__d("BizHomeAssetsTable.brands",["AdsGenericFilterSet","BizSiteIdentifier.brands","BizHomeAssetsStore.brands","BizHomeTableActionCell.brands","BizHomeTableAssetTypeCell.brands","BizHomeTableCheckboxCell.brands","BizHomeTableNameCell.brands","BizHomeTableStatsCell.brands","BizHomeTableProjectCell.brands","BizHomeTableRoleCell.brands","LargeSpinner.brands","LeftRight.react","Link.react","NoFilterResultView.brands","React","XUICheckboxInput.react","FixedDataTable.react","FixedDataTableColumn.react","XUIGrayText.react","cx","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){b.__markCompiled&&b.__markCompiled();'use strict';var ca=u,da=ca.PropTypes,ea={isSelected:null,assetType:aa._("Type"),name:aa._("Name"),stats:aa._("Amount Spent This Week"),project:aa._("Project"),role:aa._("Your Role"),actions:aa._("Actions")},fa=u.createClass({displayName:"BizHomeAssetsTable",propTypes:{businessID:da.string.isRequired,filterSet:da.instanceOf(g),onSelectedRowsChange:da.func.isRequired,shouldRenderCheckboxForAssetTypes:da.arrayOf(da.string).isRequired,selectedRows:da.object,selectAll:da.bool},componentWillMount:function(){this._subToken=i.subscribe('change',function(){this.forceUpdate();}.bind(this));},componentWillUnmount:function(){this._subToken.unsubscribe();},getInitialState:function(){return {sort:'name',columnWidth:{isSelected:50,assetType:60,name:250,stats:200,project:150,role:150,actions:135},selectedRows:this.props.selectedRows||{},checkAll:this.props.selectAll!==null&&this.props.selectAll!==undefined?this.props.selectAll:false};},componentWillReceiveProps:function(ga){var ha={selectedRows:ga.selectedRows||this.state.selectedRows,checkAll:ga.selectAll!==null&&ga.selectAll!==undefined?ga.selectAll:this.state.checkAll};if(this.state.selectedRows!==ha.selectedRows||this.state.checkAll!==ha.selectAll)this.setState(ha);},_onColumnResizeEndCallback:function(ga,ha){ba(ha==='name');var ia=this.state.columnWidth,ja=ia[ha];ia[ha]=ga;ia.project=ja-ga+ia.project;this.setState({columnWidth:ia});},render:function(){var ga=null,ha=null;if(this._isLoading()){ga=u.createElement(q,null);}else if(!this._getRowData(0).asset){ga=u.createElement(t,null);}else ha=this._renderFooterMenu();return (u.createElement("div",{className:"_5es6"},u.createElement(w,{rowHeight:100,headerHeight:46,rowsCount:this._getRowCount(),width:995,rowGetter:this._getRowData,headerDataGetter:this._getHeaderData,isColumnResizing:false,scrollTop:this.state.scrolltop,onColumnResizeEndCallback:this._onColumnResizeEndCallback,maxHeight:700},u.createElement(x,{label:"",width:this.state.columnWidth.isSelected,dataKey:"isSelected",headerRenderer:this._checkboxCellHeaderRenderer,cellRenderer:this._checkboxCellRenderer}),u.createElement(x,{width:this.state.columnWidth.assetType,dataKey:"assetType",headerRenderer:this._tableHeaderRenderer,cellRenderer:this._assetTypeCellRenderer}),u.createElement(x,{width:this.state.columnWidth.name,dataKey:"name",isResizable:true,headerRenderer:this._tableHeaderRenderer,cellRenderer:this._nameCellRenderer}),u.createElement(x,{width:this.state.columnWidth.stats,dataKey:"stats",headerRenderer:this._tableHeaderRenderer,cellRenderer:this._statsCellRenderer}),u.createElement(x,{width:this.state.columnWidth.project,dataKey:"project",headerRenderer:this._tableHeaderRenderer,cellRenderer:this._projectCellRenderer}),u.createElement(x,{width:this.state.columnWidth.role,dataKey:"role",headerRenderer:this._tableHeaderRenderer,cellRenderer:this._roleCellRenderer}),u.createElement(x,{width:this.state.columnWidth.actions,dataKey:"actions",headerRenderer:this._tableHeaderRenderer,cellRenderer:this._actionsCellRenderer})),u.createElement("div",{className:(("_1apg")+(!ha?' '+"hidden_elem":''))},ha),u.createElement("div",{className:(("_1apg")+(' '+"_1aph")+(!ga?' '+"hidden_elem":''))},ga)));},_getRowData:function(ga){var ha=i.getItemAtIndex(this.props.businessID,this.props.filterSet,"name",ga);if(ha.asset)return {asset:ha.asset};return ha;},_getHeaderData:function(ga){if(ga==='isSelected'){return this.state.checkAll;}else return ea[ga];},_getRowCount:function(){if(this._isLoading())return 0;var ga=i.getRowCount(this.props.businessID,this.props.filterSet,this.state.sort);if(!ga&&ga!==0)return i.getRowCount(this.props.businessID,null,this.state.sort);return ga;},_isLoading:function(){var ga=this._getRowData(0);return !!ga.isLoading;},_renderFooterMenu:function(){return (u.createElement(r,null,u.createElement("div",null),u.createElement("div",null,u.createElement(y,{shade:"light",size:"small"},aa._("Anything missing? {Link. =Contact your admin}.",[aa.param("Link. =Contact your admin",u.createElement(s,{href:h.createBusinessURL("/settings/info",this.props.businessID)},"Contact your admin"))])))));},_tableHeaderRenderer:function(ga,ha,ia){return (u.createElement("div",null,u.createElement(y,{shade:"dark",size:"small",display:"block",className:"_2ph-"},ga)));},_checkboxCellHeaderRenderer:function(ga,ha,ia){return (u.createElement("div",{className:"_1aph"},u.createElement(v,{checked:this.state.checkAll,onChange:this._onCheckAllChange})));},_checkboxCellRenderer:function(ga,ha,ia){var ja=false,ka;if(ia.asset&&ia.asset.id){ka=this.state.selectedRows[ia.asset.id];ja=ka&&ka.toggleSelection;}var la=this.state.checkAll;if(ja)la=!la;return (u.createElement(l,{asset:ia.asset,businessID:this.props.businessID,onChange:this._onCheckboxChange.bind(this,ia),checked:la,shouldRenderForAssetTypes:this.props.shouldRenderCheckboxForAssetTypes}));},_onCheckAllChange:function(){this.setState({checkAll:!this.state.checkAll,selectedRows:{}},this._announceSelectedRowsChange);},_onCheckboxChange:function(ga){var ha=ga&&ga.asset&&ga.asset.id;if(!ha)return;var ia=this.state.selectedRows,ja=ia[ha]&&ia[ha].toggleSelection;ia[ha]={asset:ga.asset,toggleSelection:!ja};this.setState({selectedRows:ia},this._announceSelectedRowsChange);},_announceSelectedRowsChange:function(){this.props.onSelectedRowsChange(this.state.selectedRows,this.state.checkAll);},_assetTypeCellRenderer:function(ga,ha,ia){return (u.createElement(k,{asset:ia.asset,businessID:this.props.businessID}));},_nameCellRenderer:function(ga,ha,ia){return (u.createElement(m,{asset:ia.asset,businessID:this.props.businessID,width:this.state.columnWidth.name}));},_statsCellRenderer:function(ga,ha,ia){return (u.createElement(n,{asset:ia.asset,businessID:this.props.businessID,width:this.state.columnWidth.name}));},_projectCellRenderer:function(ga,ha,ia){return (u.createElement(o,{asset:ia.asset,businessID:this.props.businessID,width:this.state.columnWidth.project}));},_roleCellRenderer:function(ga,ha,ia){return (u.createElement(p,{asset:ia.asset,businessID:this.props.businessID}));},_actionsCellRenderer:function(ga,ha,ia){return (u.createElement(j,{asset:ia.asset,businessID:this.props.businessID}));}});e.exports=fa;},null);
__d("DashboardWidgetTitle.brands",["AdsHelpLink.react","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h,k=j.PropTypes,l=h.createClass({displayName:"DashboardWidgetTitle",propTypes:{title:k.string.isRequired,tooltip:k.string,isLoading:k.bool},render:function(){if(this.props.isLoading)return this.renderLoadingView();var m=(this.props.tooltip)?h.createElement(g,{width:150},this.props.tooltip):null;return (h.createElement("div",{className:"__nv"},this.props.title,' ',m));},renderLoadingView:function(){return (h.createElement("div",{className:"_azu __nv mbm"},'widget_title_placeholder'));}});e.exports=l;},null);
__d("DashboardChart.brands",["BusinessDashboardConstants","SpectrumChart","DashboardWidgetTitle.brands","d3/time/day","SpectrumLines","d3/time/minute","React","SpectrumStackedAreas","SpectrumBaseStyleSheet","SpectrumTooltipMenu","SpectrumXAxis","SpectrumYAxis","underscore.ads","cx","invariant","ads-lib-dateRange"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();var v=b('ads-lib-dateRange').getPeriodDays,w=m,x=w.PropTypes,y=['#5a626f','#9ca0a8','#cdcfd3'],z=[['#8c655d','#baa29d','#dcd0ce'],['#7f5d8c','#b29dba','#d8cedc'],['#006633','#66a384','#b2d1c1'],['#1c91c0','#76bdd9','#badeec'],['#4374e0','#8eabec','#c6d5f5']],aa=z.length,ba=function(ga){return {LINES:ga.slice(0,2),AREAS:[ga[2]]};},ca={REGULAR:ba(y),FULL_PALETTE:{LINES:z.map(function(ga){return ga[0];}),AREAS:[]},FOR_LINE_ID:z.map(ba)},da=function(ga){var ha=[];for(var ia=0;ia<aa;++ia)ha.push(ga+ia);return ha;},ea={AREAS:da('chart_component_labels_area_'),LINES:da('chart_component_labels_line_')},fa=m.createClass({displayName:"DashboardChart",propTypes:{animation:x.bool,blurTitleWhileLoading:x.bool,data:x.arrayOf(x.arrayOf(x.number)).isRequired,daysToShow:x.number,endDate:x.object,height:x.number,highlightLineID:x.number,chartColors:x.shape({LINES:x.arrayOf(x.string),AREAS:x.arrayOf(x.string)}),markers:x.bool,scaleY:x.func,renderSummary:x.func,renderCustomTooltipForLineID:x.func,title:x.string,titleTooltip:x.string,width:x.number},getDefaultProps:function(){return {animation:true,daysToShow:7,endDate:new Date(),height:160,chartColors:ca.REGULAR,markers:true,width:360};},render:function(){var ga=this.props.title?m.createElement(i,{isLoading:this.props.blurTitleWhileLoading&&this.props.isLoading,title:this.props.title,tooltip:this.props.titleTooltip}):null,ha=this.props.renderSummary?this.props.renderSummary(this.props.isLoading):null,ia=g.SHOULD_SHOW_PAGES_INSIGHTS;return (m.createElement("div",null,m.createElement("div",{className:((!ia?"_z-4":'')+(ia?' '+"_z-5":''))},ga,ha),m.createElement("div",{className:((!ia?"_z-6":'')+(ia?' '+"_z-8":''))},m.createElement("div",{className:((this.isRenderingEmpty()?"_azu":'')+(' '+"_5kwl")+(this.props.animation?' '+"_5kwp":''))},this.renderChart()))));},renderChart:function(){if(this.isRenderingEmpty())return (m.createElement("div",{style:{width:this.props.width,height:this.props.height}},'placeholder'));u(this.props.data.length<=aa);var ga=this.getEndDate(),ha=j.utc.offset(ga,1-this.props.daysToShow),ia={areas:{colors:this._getAreaColors()},lines:{colors:this._getLineColors(),markers:this.props.markers}},ja=this._getShowStackedAreas()?m.createElement(n,{data:this._getAreasData(),titles:ea.AREAS}):null;return (m.createElement(h,{height:this.props.height,width:this.props.width,domain:[ha,ga],theme:ia,scaleYHasDomain:!!this.props.scaleY,scaleY:this.props.scaleY},ja,m.createElement(k,{data:this.props.data,titles:ea.LINES}),m.createElement(q,{secondaryTicks:true}),m.createElement(r,null),m.createElement(p,{customFormat:this.props.renderCustomTooltipForLineID?this._renderCustomTooltip:null})));},_renderCustomTooltip:function(ga){var ha=v(new Date(ga.valueX),this.getEndDate());ga.xIndex=this.props.daysToShow-1-ha;if(s.any(ea.AREAS,function(ka){return ka===ga.title;})){var ia=[];s.forEach(this.props.data,function(ka,la){if(la!==0)ia.push(m.createElement("hr",{key:'tooltipHRKey'+la}));ia.push(m.createElement("div",{key:'tooltipContentKey'+la},this.props.renderCustomTooltipForLineID(la,ga)));},this);return (m.createElement("div",null,ia));}else{var ja=ea.LINES.indexOf(ga.title);if(ja===-1)return null;return this.props.renderCustomTooltipForLineID(ja,ga);}},getEndDate:function(){var ga=this.props.endDate,ha=ga.getTimezoneOffset();return l.utc.offset(ga,-ha);},isRenderingEmpty:function(){return this.props.isLoading||this.props.data.length===0;},_getAreasData:function(){var ga=this.props.data.map(s.clone);if(!ga.length)return ga;var ha=ga.length,ia=ga[0].length;for(var ja=ha-1;ja>0;--ja)for(var ka=0;ka<ia;++ka)ga[ja][ka]-=ga[ja-1][ka];return ga;},_getShowStackedAreas:function(){return this.props.data.length<=1;},_getAreaColors:function(){return this.props.chartColors.AREAS;},_getLineColors:function(){if(this.props.highlightLineID==null){return this.props.chartColors.LINES;}else return this.props.chartColors.LINES.map(function(ga,ha){return this.props.highlightLineID===ha?ga:o.lines.fadeOutColor;},this);}});fa.COLORS=ca;e.exports=fa;},null);
__d("DashboardSummaryIndicator.brands",["AdsCurrency","AdsCurrencyFormatter","ads-lib-formatters","Image.react","React","XUIText.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i.createIntlNumberFormatter(0),o=i.createMaybeDelimitedNumberFormatter(2,false),p=i.createIntlPercentFormatter(2),q=k,r=q.PropTypes,s=k.createClass({displayName:"DashboardSummaryIndicator",propTypes:{use:r.oneOf(['currency','trend','count']).isRequired,value:r.number,currencyCode:r.string,label:r.string,isLoading:r.bool,isPercent:r.bool},getDefaultProps:function(){return {currencyCode:''};},render:function(){if(this.props.isLoading||this.props.value===null)return this.renderLoadingView();var t=this.props.use,u=(t==='trend')?this.renderChevron():null,v=this._formatValue(this.props.value,this.props.use),w=this.props.label?k.createElement("span",{className:"_azq"},this.props.label):null,x=(("_azr")+((t==='trend')&&(this.props.value>0)?' '+"_azs":'')+(((t==='trend')&&(this.props.value<=0))||(t!=='trend')?' '+"_azt":''));return (k.createElement("div",{className:x},u,k.createElement(l,{weight:"bold"},v),w));},renderLoadingView:function(){return (k.createElement("div",{className:"_azu _azr"},'placeholder'));},renderChevron:function(){var t=null;if(this.props.value>0){t=k.createElement(j,{className:"mrs",src:'/images/brands/dashboard/arrow-up-green.png'});}else if(this.props.value<0)t=k.createElement(j,{className:"mrs",src:'/images/brands/dashboard/arrow-down-gray.png'});return t;},_formatValue:function(t,u){if(this.props.isPercent)return p(t/100);switch(u){case 'currency':return h.formatCurrency(this.props.currencyCode,t*g.getOffset(this.props.currencyCode));case 'trend':return o(t);case 'count':return n(t);}}});e.exports=s;},null);
__d("DashboardCharts.brands",["AdsCurrency","AdsCurrencyFormatter","BusinessIdentityEventCategory","BusinessIdentityEventName","AppLogger.brands","BusinessDashboardConstants","DashboardChart.brands","DashboardSummaryIndicator.brands","d3/time/day","ads-lib-formatters","Grid.react","React","underscore.ads","cx","fbt","formatDate","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=p.createIntlNumberFormatter(0),y=q.GridItem,z=r,aa=z.PropTypes,ba=450,ca=175,da=ca-10,ea={SPEND:'spend',REACH:'reach',FREQUENCY:'frequency',IMPRESSIONS:'legal_impressions',NEW_PAGE_LIKES:'page_fan_adds',POST_REACH:'page_impressions_unique',PAGE_ENGAGEMENT:'page_engaged_users'},fa=l.PERIOD,ga=l.COMPARE_TO_PERIOD,ha={REGULAR:'regular',FULL_PALETTE:'full_palette',FOR_SPECIFIC_LINE:'for_specific_line'},ia={COMPARISON:{PRIMARY:'chart_lines_comparison_primary',COMPARE_TO:'chart_lines_comparison_compare_to'}},ja='M d, Y',ka=r.createClass({displayName:"DashboardCharts",propTypes:{animation:aa.bool,chartTypesToRender:aa.arrayOf(aa.string).isRequired,compareToPeriod:aa.string.isRequired,data:aa.object,endDate:aa.instanceOf(Date).isRequired,isComparing:aa.bool,isLoading:aa.bool,period:aa.number.isRequired,selectedCurrency:aa.string,highlightLineID:aa.number,summaryAvailable:aa.bool,chartCustomTooltipMultipleAssets:aa.bool,shouldShrinkHeight:aa.bool,colorSet:aa.oneOf([ha.REGULAR,ha.FULL_PALETTE,ha.FOR_SPECIFIC_LINE]).isRequired,colorSetForLineID:aa.number},render:function(){return this.renderCharts(this.props.chartTypesToRender);},renderCharts:function(la){var ma=la.map(function(na,oa){return r.createElement(y,{key:oa},r.createElement("div",{className:"_vlg"},this.renderChart(na)));}.bind(this),this);return (r.createElement("div",{className:"_vlh"},r.createElement(q,{cols:3},ma)));},renderChart:function(la){var ma=this._chartPropsByType(la),na=this._getChartData(la),oa=this.props.endDate,pa=new Date(na.compareToEndDate);if(!s(na).chain().values().any().value())return r.createElement("div",null);var qa=this.renderChartCustomTooltipForLineID.bind(this,na.chartValues,ma.valueType,this.props.selectedCurrency,ma.dataTitle,oa,pa);return (r.createElement(m,{animation:this.props.animation,isLoading:this.props.isLoading,width:ba,height:this.props.shouldShrinkHeight?da:ca,endDate:oa,compareToEndDate:pa,data:na.chartValues,daysToShow:this.props.period,highlightLineID:this.props.highlightLineID,title:ma.title,titleTooltip:ma.titleTooltip,markers:this.props.period===fa.WEEKLY,chartColors:this._getChartColors(),renderSummary:this.renderChartSummaryIndicator.bind(null,ma.summaryUse,ma.summaryLabel,na.summaryValue,this.props.isLoading,this.props.selectedCurrency,!!this.props.summaryAvailable),renderCustomTooltipForLineID:qa}));},renderChartCustomTooltipForLineID:function(la,ma,na,oa,pa,qa,ra,sa){if(this.props.chartCustomTooltipMultipleAssets)return this.renderChartCustomTooltipForLineMultipleAssetsMode(la,ma,na,oa,pa,qa,ra,sa);var ta;switch(ra){case 0:ta=ia.COMPARISON.PRIMARY;break;case 1:ta=ia.COMPARISON.COMPARE_TO;break;default:return null;}return this.renderChartCustomTooltipForLineAggregatedOrCompareMode(la,ma,na,oa,pa,qa,ta,sa);},renderChartCustomTooltipForLineAggregatedOrCompareMode:function(la,ma,na,oa,pa,qa,ra,sa){var ta=sa.xIndex,ua;if(ra===ia.COMPARISON.PRIMARY){ua=this.props.isComparing?oa+' '+this._getPeriodNameForTooltip(false):oa;}else ua=oa+' '+this._getPeriodNameForTooltip(true);var va;if(ra===ia.COMPARISON.PRIMARY){va=this.formatValue(la[0][ta],ma,na);}else va=this.formatValue(la[1]?la[1][ta]:sa.yValueString,ma,na);var wa=ra===ia.COMPARISON.PRIMARY?pa:qa,xa=this.formatDate(this.getDateByIndex(wa,ta));return this.renderChartTooltip(ua,va,xa);},renderChartCustomTooltipForLineMultipleAssetsMode:function(la,ma,na,oa,pa,qa,ra,sa){var ta=sa.xIndex;return this.renderChartTooltip(this.props.data.assets[ra].name,this.formatValue(la[ra][ta],ma,na),this.formatDate(this.getDateByIndex(pa,ta)));},renderChartTooltip:function(la,ma,na){return (r.createElement("div",{className:"_a-f"},la,r.createElement("div",{className:"_a-g"},ma),na));},getDateByIndex:function(la,ma){return new Date(o.offset(la,1-this.props.period+ma));},formatDate:function(la){return v(la,ja);},formatValue:function(la,ma,na){switch(ma){case 'currency':return h.formatCurrency(na,la*g.getOffset(na));case 'count':return x(la);}},renderChartSummaryIndicator:function(la,ma,na,oa,pa,qa){return qa?(r.createElement(n,{use:la,value:na,label:ma,isLoading:oa,currencyCode:pa})):null;},_getChartColors:function(){switch(this.props.colorSet){case ha.REGULAR:return m.COLORS.REGULAR;case ha.FULL_PALETTE:return m.COLORS.FULL_PALETTE;case ha.FOR_SPECIFIC_LINE:var la=this.props.colorSetForLineID;w(la!=null);return m.COLORS.FOR_LINE_ID[la];}},_getChartData:function(la){var ma=this.props.data;if(!ma)return {chartValues:[],summaryValue:null};if(!ma[la]){k.logForAnalytics(i.ERROR,j.HOMEPAGE_DASHBOARD_INVALID_CHART_TYPE,{brandID:this.props.brandID,chartType:la});w(false);}return {chartValues:this._adjustDataLength(ma[la]),summaryValue:ma.totals[la],compareToEndDate:ma.compare_to_end_date};},_chartPropsByType:function(la){switch(la){case ea.SPEND:return {title:(u._("Total Spend")),titleTooltip:(u._("Total Spend for Selected Ad Accounts")),dataTitle:u._("Spend"),summaryUse:'currency',summaryLabel:(u._("spent")),valueType:'currency'};case ea.REACH:return {title:(u._("Total Paid Reach")),titleTooltip:(u._("Total Reach for Selected Ad Accounts")),dataTitle:u._("Reach"),summaryUse:'count',summaryLabel:(u._("people")),valueType:'count'};case ea.FREQUENCY:return {title:(u._("Frequency")),titleTooltip:(u._("Average Frequency for Selected Ad Accounts")),dataTitle:u._("Frequency"),summaryUse:'count',summaryLabel:(u._("average frequency")),valueType:'count'};case ea.IMPRESSIONS:return {title:(u._("Total Impressions")),titleTooltip:(u._("Total Impressions for Selected Ad Accounts")),dataTitle:u._("Total Impressions"),summaryUse:'count',summaryLabel:(u._("total impressions")),valueType:'count'};case ea.NEW_PAGE_LIKES:return {title:(u._("New Page Likes")),titleTooltip:(u._("New Page Likes for Selected Pages")),dataTitle:u._("New Likes"),summaryUse:'count',summaryLabel:(u._("total new likes")),valueType:'count'};case ea.POST_REACH:return {title:(u._("Post Reach")),titleTooltip:(u._("Post Reach for Selected Pages")),dataTitle:u._("Post Reach"),summaryUse:'count',summaryLabel:(u._("total post reach")),valueType:'count'};case ea.PAGE_ENGAGEMENT:return {title:(u._("Page Engagement")),titleTooltip:(u._("Page Engagement for Selected Pages")),dataTitle:u._("Page Engagement"),summaryUse:'count',summaryLabel:(u._("total page engagement")),valueType:'count'};default:k.logForAnalytics(i.ERROR,j.DASHBOARD_INVALID_CHART_TYPE,{brandID:this.props.brandID,chartType:la});return {title:(u._("Unknown")),titleTooltip:(u._("Unknown")),dataTitle:u._("Reach"),summaryUse:'count',summaryLabel:' ',valueType:'count'};}},_getPeriodNameForTooltip:function(la){if(!this.props.isComparing)return null;switch(this.props.compareToPeriod){case ga.LAST_WEEK:return la?u._("(last week)"):u._("(this week)");case ga.LAST_MONTH:return la?u._("(last month)"):u._("(this month)");case ga.LAST_YEAR:return la?u._("(last year)"):u._("(this year)");default:return null;}},_adjustDataLength:function(la){var ma=[],na=this.props.period;for(var oa=0;oa<na;oa++)ma.push(0);var pa=la.map(function(qa){return ma.slice(0,Math.max(0,na-qa.length)).concat(qa.slice(0,na));},this);return pa;}});ka.CHART_TYPE=ea;ka.COLOR_SET=ha;e.exports=ka;},null);
__d("DashboardCompareToSwitch.brands",["BusinessDashboardConstants","Image.react","React","XUIButton.react","XUISelector.react","businessGlyph","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=g.PERIOD,p=g.COMPARE_TO_PERIOD,q=i,r=q.PropTypes,s=k.Option,t=i.createClass({displayName:"DashboardCompareToSwitch",propTypes:{period:r.oneOf([o.WEEKLY,o.MONTHLY]),disabled:r.bool,isComparing:r.bool.isRequired,compareToPeriod:r.oneOf([p.LAST_WEEK,p.LAST_MONTH,p.LAST_YEAR]).isRequired,onChange:r.func.isRequired,onToggleComparing:r.func.isRequired,size:r.oneOf(['small','medium','large','xlarge','xxlarge'])},getDefaultProps:function(){return {period:o.WEEKLY};},render:function(){var u=(i.createElement(h,{src:l('double_graph',{size:24,shade:'dark-grey'})})),v=(i.createElement(h,{src:l('double_graph',{size:24,shade:'white'})}));return (i.createElement("div",{className:"_1xjj"},i.createElement(j,{className:"_1xjk",disabled:this.props.disabled,size:this.props.size,title:"Compare to another time period",image:this.props.isComparing?v:u,depressed:this.props.isComparing,onClick:this._onButtonClick}),this._renderCompareToOptions()));},_onButtonClick:function(){this.props.onToggleComparing(!this.props.isComparing);},_renderCompareToOptions:function(){var u=this.props.period===o.WEEKLY?(i.createElement(s,{value:p.LAST_WEEK},n._("Last Week"))):null;return (i.createElement(k,{className:(("_1xjl")+(this.props.isComparing?' '+"_1xjm":'')),size:this.props.size,disabled:this.props.disabled,value:this.props.compareToPeriod,onChange:this._onPeriodChange},u,i.createElement(s,{value:p.LAST_MONTH},n._("Last Month")),i.createElement(s,{value:p.LAST_YEAR},n._("Last Year"))));},_onPeriodChange:function(event){this.props.onChange(event.value);}});e.exports=t;},null);
__d("DashboardCurrencySelector.brands",["AdsCurrency","React","XUISelector.react","XUISelectorButton.react","XUIMenuSeparator.react","AdsHelpLink.react","underscore.ads","cx","fbt","invariant","sprintf"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=h,s=r.PropTypes,t=i.Option,u=200,v=h.createClass({displayName:"CurrencySelector",propTypes:{selectedCurrency:s.string.isRequired,disabled:s.bool,onChange:s.func.isRequired,onMouseOverCurrencyISOChange:s.func,currencies:s.arrayOf(s.shape({iso:s.string.isRequired,name:s.string.isRequired,showOnTop:s.bool.isRequired})).isRequired,size:s.oneOf(['small','medium','large','xlarge','xxlarge'])},getInitialState:function(){return {mouseOverCurrencyISO:null};},ignoreUnimportantStateValues:function(x){var y=m.clone(x);y.mouseOverCurrencyISO=undefined;return y;},shouldComponentUpdate:function(x,y){if(!m.isEqual(this.props,x))return true;return !m.isEqual(this.ignoreUnimportantStateValues(this.state),this.ignoreUnimportantStateValues(y));},render:function(){var x=function(da){return (h.createElement(t,{key:da.iso,value:da.iso},h.createElement("div",{onMouseOver:this._onMouseOverCurrencyISO.bind(this,da.iso),onMouseOut:this._onMouseOutCurrencyISO},this.renderCurrencyLabel(da))));}.bind(this),y=this.props.currencies,z=y.filter(function(da){return da.showOnTop;},this).map(x),aa=y.filter(function(da){return !da.showOnTop;},this).map(x),ba=aa.length!==0?(h.createElement(k,{key:"separator"})):null,ca=z.concat([ba],aa);return (h.createElement("div",null,h.createElement(i,{value:this.props.selectedCurrency,onChange:this.props.onChange,maxheight:u},h.createElement(j,{size:this.props.size,disabled:this.props.disabled,className:"_5cx9"}),ca),h.createElement(l,{width:300},o._("Roll over the currency to see conversion rate. All currency conversions are informational and may not reflect actual amounts charged."))));},renderCurrencyLabel:function(x){return (h.createElement("div",null,h.createElement("span",null,x.iso),h.createElement("span",{className:"_5cxa"},h.createElement("span",null,"  "),x.name)));},_onMouseOverCurrencyISO:function(x){this._setMouseOverCurrencyISO(x);},_onMouseOutCurrencyISO:function(){this._setMouseOverCurrencyISO(null);},_setMouseOverCurrencyISO:function(x){this.setState({mouseOverCurrencyISO:x});if(this.props.onMouseOverCurrencyISOChange)this.props.onMouseOverCurrencyISOChange(x);}}),w=h.createClass({displayName:"DashboardCurrencySelector",propTypes:{selectedCurrency:s.string.isRequired,onCurrencyChange:s.func.isRequired,currenciesList:s.arrayOf(s.shape({iso:s.string.isRequired,occursInSomeAdAccount:s.bool.isRequired,rateToPreferredCurrency:s.number.isRequired})).isRequired,size:s.oneOf(['large','xlarge'])},getInitialState:function(){return {mouseOverCurrencyISO:null};},render:function(){var x=this._renderRate();return (h.createElement("div",{className:"_4d_p"},h.createElement("div",{style:{display:'inline-block'}},h.createElement("div",{className:(("_4d_q")+(x==null?' '+"_1cf":'')+(this.props.size==='large'?' '+"_1cg":'')+(this.props.size==='xlarge'?' '+"_1ch":''))},x)),h.createElement("div",{className:"_4d_r"},h.createElement(v,{size:this.props.size,selectedCurrency:this.props.selectedCurrency,onChange:this._onChange,onMouseOverCurrencyISOChange:this._onMouseOverCurrencyISOChange,currencies:this._getSortedCurrencies()}))));},_renderRate:function(){var x=this.state.mouseOverCurrencyISO;if(x===null||x===this.props.selectedCurrency)return null;var y=this._getFormattedRate(x);return q('1 %s = %s %s',x,y,this.props.selectedCurrency);},_getFormattedRate:function(x){var y=m.find(this.props.currenciesList,function(ba){return ba.iso===x;});p(y);var z=y.rateToPreferredCurrency,aa=this._getNumberOfDecimalDigitsToShow(z);return z.toFixed(aa);},_getNumberOfDecimalDigitsToShow:function(x){for(var y=2;;++y)if(x*Math.pow(10,y)>=10)return y;},_getSortedCurrencies:function(){var x={};m.forEach(this.props.currenciesList,function(y){x[y.iso]=y;});p(!!x[this.props.selectedCurrency]);return m.filter(g.currencyMapKeys,function(y){return !!x[y];},this).map(function(y){var z=m.clone(g.currencies[y]);z.showOnTop=x[y].occursInSomeAdAccount;return z;},this).sort(function(y,z){return y.name.localeCompare(z.name);});},_onChange:function(x){this.props.onCurrencyChange(x.value);},_onMouseOverCurrencyISOChange:function(x){this.setState({mouseOverCurrencyISO:x});}});e.exports=w;},null);
__d("DashboardTitle.brands",["AppConstants.brands","BusinessDashboardConstants","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=i,m=l.PropTypes,n=g,o=n.ASSET_TYPE,p=h,q=p.MAX_PAGES_SUPPORTED,r=i.createClass({displayName:"DashboardTitle",propTypes:{assetCount:m.number,assetType:m.oneOf([o.AD_ACCOUNT,o.PAGE]).isRequired},render:function(){return (i.createElement("div",null,this._renderTitle(),this._renderSubtitle()));},_renderTitle:function(){return (i.createElement("div",{className:"_2_um"},k._("Overview")));},_renderSubtitle:function(){var s=!!this.props.assetCount?this._renderSubtitleContent():this._renderBlankSubtitle();return (i.createElement("div",{className:"_2_un"},s));},_renderBlankSubtitle:function(){return (i.createElement("span",null,""));},_renderSubtitleContent:function(){switch(this.props.assetType){case o.AD_ACCOUNT:return this._renderSubtitleContentAdAccounts();case o.PAGE:return this._renderSubtitleContentPages();}},_renderSubtitleContentAdAccounts:function(){return this._renderSubtitleContentAssets();},_renderSubtitleContentPages:function(){if(this.props.assetCount<=q)return this._renderSubtitleContentAssets();return (i.createElement("div",{className:"_2_uo"},k._({"page":"Showing {number of pages} Page out of {total number of pages selected} selected","page P":"Showing {number of pages} Pages out of {total number of pages selected} selected"},[k.param("number of pages",q),k['enum']('page'+(this.props.assetCount===1?'':' P'),{page:"Page","page P":"Pages"}),k.param("total number of pages selected",this.props.assetCount)])));},_renderSubtitleContentAssets:function(){return (i.createElement("div",null,k._({"ad-account":"{number of assets} Ad Account","ad-account P":"{number of assets} Ad Accounts","page":"{number of assets} Page","page P":"{number of assets} Pages"},[k.param("number of assets",this.props.assetCount),k['enum'](this.props.assetType+(this.props.assetCount===1?'':' P'),{"ad-account":"Ad Account","ad-account P":"Ad Accounts",page:"Page","page P":"Pages"})])));}});e.exports=r;},null);
__d("DashboardWeekSelector.brands",["d3/time/day","React","XUISelector.react","formatDate"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h,l=k.PropTypes,m=i.Option,n=h.createClass({displayName:"DashboardWeekSelector",propTypes:{daysInWeek:l.number,weeksCount:l.number,disabled:l.bool,selectedWeekIndex:l.number.isRequired,onChange:l.func.isRequired,getEndDateForPastWeek:l.func.isRequired,size:l.oneOf(['small','medium','large','xlarge','xxlarge'])},getDefaultProps:function(){return {daysInWeek:7,weeksCount:5};},getInitialState:function(){return {weeks:null};},componentWillReceiveProps:function(o){this.setState({weeks:this._getWeeks(o)});},render:function(){var o=this.state.weeks;if(!o)return h.createElement("div",null);var p=o.map(function(q,r){return (h.createElement(m,{key:r,title:q.title,value:r,selected:r==this.props.selectedWeekIndex},q.title));},this);return (h.createElement(i,{size:this.props.size,disabled:this.props.disabled,name:"week_selector",onChange:this._onWeekChange,value:this.props.selectedWeekIndex},p));},_getWeeks:function(o){var p=o.weeksCount,q=[];for(var r=0;r<p;r++){var s=this.props.getEndDateForPastWeek(r,this.props.daysInWeek),t=g.utc.offset(s,1-o.daysInWeek),u=new Date(s.getTime()-1);q.push({startDate:t,endDate:u,title:j(t,'M j, Y')+' - '+j(u,'M j, Y')});}return q;},_onWeekChange:function(o){this.props.onChange(o.value);}});e.exports=n;},null);
__d("DashboardHeader.brands",["BusinessDashboardConstants","DashboardCompareToSwitch.brands","DashboardCurrencySelector.brands","DashboardTitle.brands","DashboardWeekSelector.brands","d3/time/day","LeftRight.react","React","XUIButton.react","XUIButtonGroup.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=n,t=s.PropTypes,u='large',v=g.PERIOD,w=g.COMPARE_TO_PERIOD,x=n.createClass({displayName:"DashboardHeader",propTypes:{currentDate:t.object.isRequired,disableAllButtons:t.bool,period:t.number.isRequired,canCompare:t.bool,compareToPeriod:t.string.isRequired,isComparing:t.bool.isRequired,assetCount:t.number,assetType:t.string,onDashboardSettingsChange:t.func.isRequired,selectedCurrency:t.string,currenciesList:t.arrayOf(t.shape({iso:t.string.isRequired,occursInSomeAdAccount:t.bool.isRequired,rateToPreferredCurrency:t.number.isRequired}))},getDefaultProps:function(){return {selectedCurrency:'USD'};},getInitialState:function(){return {selectedWeekIndex:0};},render:function(){var y=this.props.currenciesList?(n.createElement("div",{className:"_6a _3-91"},n.createElement(i,{selectedCurrency:this.props.selectedCurrency,onCurrencyChange:function(z){this.props.onDashboardSettingsChange({selectedCurrency:z});}.bind(this),currenciesList:this.props.currenciesList,size:u}))):null;return (n.createElement(m,null,n.createElement("div",null,n.createElement(j,{assetCount:this.props.assetCount,assetType:this.props.assetType})),n.createElement("div",{className:"_4f5e"},y,n.createElement("div",{className:"_4f5f _3-91"},n.createElement(p,null,n.createElement(o,{use:"default",size:u,disabled:this.props.disableAllButtons,onClick:this._onChangePeriod.bind(this,v.WEEKLY),depressed:this.props.period===v.WEEKLY,label:r._("Weekly")}),n.createElement(o,{use:"default",size:u,disabled:this.props.disableAllButtons,onClick:this._onChangePeriod.bind(this,v.MONTHLY),depressed:this.props.period===v.MONTHLY,label:r._("Monthly")}))),n.createElement("div",{className:"_4f5f"},n.createElement(k,{size:u,disabled:this.props.disableAllButtons,daysInWeek:this.props.period,selectedWeekIndex:this.state.selectedWeekIndex,onChange:this._onChangeSelectedEndDate,getEndDateForPastWeek:this.getEndDateForPastWeek})),n.createElement("div",{className:"_4f5f _3-9b"},n.createElement(h,{size:u,period:this.props.period,compareToPeriod:this.props.compareToPeriod,disabled:this.props.disableAllButtons||!this.props.canCompare,isComparing:this.props.isComparing,onChange:this._onChangeCompareToPeriod,onToggleComparing:this._onToggleComparing})))));},getEndDateForPastWeek:function(y,z){return l.utc.offset(this.props.currentDate,-z*y);},_onChangeSelectedEndDate:function(y){this.setState({selectedWeekIndex:y});this.props.onDashboardSettingsChange({selectedEndDate:this.getEndDateForPastWeek(y,this.props.period)});},_onChangePeriod:function(y){var z={period:y};if(y===v.MONTHLY&&this.props.compareToPeriod===w.LAST_WEEK)z.compareToPeriod=w.LAST_MONTH;if(y!==this.props.period)z.selectedEndDate=this.getEndDateForPastWeek(this.state.selectedWeekIndex,y);this.props.onDashboardSettingsChange(z);},_onChangeCompareToPeriod:function(y){this.props.onDashboardSettingsChange({compareToPeriod:y});},_onToggleComparing:function(y){this.props.onDashboardSettingsChange({isComparing:y});}});e.exports=x;},null);
__d("DashboardLegendItem.brands",["Image.react","ImageBlock.react","React","TooltipMixin","XUIText.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i,n=m.PropTypes,o=i.createClass({displayName:"TextWithTooltip",mixins:[j],render:function(){return (i.createElement(k,i.__spread({},this.props),this.props.children));}}),p=i.createClass({displayName:"DashboardLegendItem",propTypes:{assetName:n.string.isRequired,isSelected:n.bool.isRequired,imageSize:n.number,imageSrc:n.string.isRequired,onClick:n.func},getDefaultProps:function(){return {imageSize:24};},render:function(){return (i.createElement(h,{className:(("_1l7v")+(!this.props.isSelected?' '+"_1l7w":'')+(this.props.isSelected?' '+"_1l7y":'')),onClick:this.onClick},i.createElement(g,{className:"_1l7z",width:this.props.imageSize,height:this.props.imageSize,src:this.props.imageSrc}),i.createElement("div",{className:"_1l7-"},i.createElement("div",{className:"_1l7_"},i.createElement(o,{tooltip:this.props.assetName,size:"small"},this.props.assetName)))));},onClick:function(){if(this.props.onClick)this.props.onClick();}});e.exports=p;},null);
__d("DashboardLegend.brands",["DashboardCharts.brands","DashboardLegendItem.brands","Grid.react","React","cx","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i.GridItem,n=j,o=n.PropTypes,p=j.createClass({displayName:"DashboardLegend",propTypes:{assets:o.arrayOf(o.shape({imageSrc:o.string.isRequired,name:o.string.isRequired})),selectedItemID:o.number,onClick:o.func,doNotHightlightLines:o.bool},componentWillReceiveProps:function(q){if(q.selectedItemID!==undefined)this.setState({selectedItemID:q.selectedItemID});},getInitialState:function(){return {mouseOverItemID:null,selectedItemID:this.props.selectedItemID!==undefined?this.props.selectedItemID:null};},render:function(){var q=j.Children.only(this.props.children);return (j.createElement("div",null,this._supplyPropsToCharts(q),this._renderLegend()));},_supplyPropsToCharts:function(q){if(q.type===g){return (j.createElement(g,j.__spread({},q.props,{highlightLineID:this._getLineIDToHighlight(),shouldShrinkHeight:true})));}else l(false);},_renderLegend:function(){var q=this.props.assets?this.props.assets.map(function(r,s){return (j.createElement(m,{key:s,className:"_4ghz"},j.createElement("div",{onMouseOver:this._onMouseOverItemID.bind(this,s),onMouseOut:this._onMouseOverItemID.bind(this,null)},j.createElement(h,{assetName:this.props.assets[s].name,isSelected:this.state.selectedItemID===s,imageSrc:this.props.assets[s].imageSrc,onClick:this._onLegendItemClick.bind(this,s)}))));},this):null;return (j.createElement("div",{className:"_2j59"},j.createElement(i,{cols:5,className:"_4gh-"},q)));},_getLineIDToHighlight:function(){if(this.props.doNotHightlightLines)return null;if(this.state.mouseOverItemID!==null){return this.state.mouseOverItemID;}else if(this.state.selectedItemID!==null){return this.state.selectedItemID;}else return null;},_onMouseOverItemID:function(q){this.setState({mouseOverItemID:q});},_onLegendItemClick:function(q){var r=this.state.selectedItemID===q?null:q;this.setState({selectedItemID:r});if(this.props.onClick)this.props.onClick(this.props.assets[q],q,r!=null);}});e.exports=p;},null);
__d("DashboardTabbedContainer.brands",["Layout.react","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h,k=j.PropTypes,l=g.Column,m=g.FillColumn,n=h.createClass({displayName:"Tab",propTypes:{isFirst:k.bool.isRequired,isLast:k.bool.isRequired,selected:k.bool.isRequired,renderTitle:k.func.isRequired,onClick:k.func.isRequired},render:function(){return (h.createElement("div",{className:(("_5opj")+(this.props.isFirst?' '+"_5opk":'')+(this.props.isLast?' '+"_5opq":'')+(this.props.selected?' '+"_5opr":'')+(!this.props.selected?' '+"_sla":'')),onClick:this.props.onClick},this.props.renderTitle(this.props.selected)));}}),o=h.createClass({displayName:"DashboardTabbedContainer",propTypes:{tabKeys:k.arrayOf(k.string).isRequired,renderTabContent:k.func.isRequired,renderTabTitle:k.func.isRequired,onTabChange:k.func,selectedTab:k.string},getInitialState:function(){return {selectedTab:this.props.selectedTab||this.props.tabKeys[0]};},componentWillReceiveProps:function(p){if(p.selectedTab!=null)this.setState({selectedTab:p.selectedTab});},render:function(){var p=this.props.tabKeys.map(function(r,s){return (h.createElement(n,{key:s,isFirst:s===0,isLast:s===this.props.tabKeys.length-1,selected:r===this.state.selectedTab,renderTitle:function(t){return this.props.renderTabTitle(r,t);}.bind(this),onClick:this.selectTab.bind(this,r)}));},this),q=this.props.renderTabContent(this.state.selectedTab);return (h.createElement(g,{className:"_5ops"},h.createElement(l,{className:"_5oqq"},p),h.createElement(m,{className:"_5oqs"},q)));},selectTab:function(p){if(this.state.selectedTab===p)return;this.setState({selectedTab:p});if(this.props.onTabChange)this.props.onTabChange(p);}});e.exports=o;},null);
__d("XBusinessHomepageDashboardController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/business\/async\/dashboard\/",{ad_accounts:{type:"IntVector"},asset_list:{type:"StringVector"},asset_list_type:{type:"Enum",enumType:1},asset_type:{type:"Enum",enumType:1},business_id:{type:"Int"},compare_page_id:{type:"Int"},compare_to:{type:"Enum",enumType:1},filters:{type:"HackType"},preferred_currency:{type:"String"},start_date:{type:"String",required:true},stop_date:{type:"String",required:true}});},null);
__d("DashboardPanel.brands",["AdsGenericFilterSet","AppConstants.brands","BusinessIdentityEventCategory","BusinessIdentityEventName","AppLogger.brands","AsyncRequest","BusinessDashboardConstants","DashboardCharts.brands","DashboardHeader.brands","DashboardLegend.brands","DashboardTabbedContainer.brands","d3/time/day","Image.react","KeplerProgressBar.react","React","XBusinessHomepageDashboardController","XUIText.react","XUINotice.react","underscore.ads","businessGlyph","cx","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){b.__markCompiled&&b.__markCompiled();'use strict';var da=u,ea=da.PropTypes,fa=h.ASSET_TYPE,ga={AD_ACCOUNT_AMOUNT_CAUSING_TIMEOUT_EXCEEDED:{TYPE:'ad_account_amount_causing_timeout_exceeded',MAX_AMOUNT:'max_amount'},NO_ASSETS_SELECTED:{TYPE:'no_assets_selected'},NO_USD_AD_ACCOUNTS_SELECTED:{TYPE:'no_usd_ad_accounts_selected'}},ha=m.ASSET_LIST_TYPE,ia=n.CHART_TYPE,ja=m.PERIOD,ka=m.COMPARE_TO_PERIOD,la={AD_ACCOUNTS:fa.AD_ACCOUNT,PAGES:fa.PAGE},ma={MULTIPLE_ASSETS:'multiple_assets',AGGREGATED_STATS:'aggregated_stats'},na=u.createClass({displayName:"DashboardPanel",_asyncRequest:null,propTypes:{brandID:ea.string.isRequired,currentDate:ea.object.isRequired,assets:ea.object,filterSet:ea.instanceOf(g),fakeLinesCount:ea.number,anyAdAccountAssigned:ea.bool.isRequired,anyPageAssigned:ea.bool.isRequired,onTabChange:ea.func,assetsToRender:ea.shape({assetListType:ea.oneOf([ha.BLACKLIST,ha.WHITELIST]).isRequired,assetList:ea.arrayOf(ea.string.isRequired).isRequired}).isRequired},getInitialState:function(){return {assetCount:null,isLoading:true,data:null,error:null,period:ja.WEEKLY,compareToPeriod:ka.LAST_MONTH,isComparing:false,selectedEndDate:null,userError:null,selectedLegendAsset:null,selectedLegendItemID:null,mode:this.props.anyAdAccountAssigned?ma.AGGREGATED_STATS:ma.MULTIPLE_ASSETS,selectedTab:this.props.anyAdAccountAssigned?la.AD_ACCOUNTS:la.PAGES};},getStateForInitialTab:function(){if(this.props.anyAdAccountAssigned)return {mode:ma.AGGREGATED_STATS,selectedTab:la.AD_ACCOUNTS};if(this.props.anyPageAssigned)return {mode:ma.MULTIPLE_ASSETS,selectedTab:la.PAGES};ca(false);},componentWillReceiveProps:function(oa){if(!y.isEqual(this.props.assets,oa.assets)||!y.isEqual(this.props.filterSet,oa.filterSet)||!y.isEqual(this.props.assetsToRender,oa.assetsToRender)){this.setState({isComparing:false});this._reloadData();}},componentDidMount:function(){this.onDashboardSettingsChange({selectedEndDate:this.props.currentDate});if(this.props.onTabChange)this.props.onTabChange(this.state.selectedTab);},render:function(){if(!this.props.anyAdAccountAssigned&&!this.props.anyPageAssigned)return (u.createElement("div",null));if(this.state.error)return (u.createElement(x,{use:"warn"},ba._("Error loading summary:"),' ',this.state.error.message));var oa;if(m.SHOULD_SHOW_PAGES_INSIGHTS){oa=this.renderTabbedContainer();}else oa=(u.createElement("div",{className:"_2wnc"},this.renderTabContent(la.AD_ACCOUNTS)));return (u.createElement("div",{className:"_3q2b"},u.createElement(o,{currentDate:this.props.currentDate,disableAllButtons:!!this.state.userError,period:this.state.period,compareToPeriod:this.state.compareToPeriod,isComparing:this.state.isComparing,assetCount:this.state.assetCount,assetType:this.state.selectedTab,onDashboardSettingsChange:this.onDashboardSettingsChange,selectedCurrency:this.state.selectedCurrency,currenciesList:this.state.selectedTab===la.AD_ACCOUNTS?this.state.currenciesList:null,canCompare:!(this.state.mode===ma.MULTIPLE_ASSETS&&this.state.selectedLegendAsset==null)}),u.createElement("div",{className:"_41i2"},this.renderProgressBar()),u.createElement("div",null,oa)));},renderMessageOverObject:function(oa,pa,qa){return (u.createElement("div",{className:"_2af _2wnc"},pa,u.createElement("div",{className:(("_2ag")+(!qa?' '+"_2ax":'')+(' '+"_2wnc"))},u.createElement("div",{className:"_2az"},u.createElement("div",{className:"_2b7"},oa)))));},renderProgressBar:function(){return (u.createElement("div",{className:"_41i2"},u.createElement(t,{className:"_382p",status:this.state.isLoading?t.LOADING:t.COMPLETE})));},renderTabbedContainer:function(){return (u.createElement(q,{tabKeys:[la.AD_ACCOUNTS,la.PAGES],selectedTab:this.state.selectedTab,renderTabContent:this.renderTabContent,renderTabTitle:this.renderTabTitle,onTabChange:this.onTabChange}));},renderTabTitle:function(oa,pa){var qa=function(ra,sa){return (u.createElement(s,{className:(("_289o")+(!sa?' '+"_4myp":'')+(sa?' '+"_4myq":'')),src:z(ra,{shade:'white',size:20})}));};switch(oa){case la.AD_ACCOUNTS:return qa('megaphone',pa);case la.PAGES:return qa('pages',pa);default:return null;}},renderTabContent:function(oa){var pa;switch(oa){case la.AD_ACCOUNTS:pa=this.renderGraphsForAdAccountsTab();break;case la.PAGES:pa=this.renderGraphsForPagesTab();break;default:pa=(u.createElement("div",null));}var qa=!!this.state.userError;return this.renderMessageOverObject(this.renderUserErrorMessage(),pa,qa);},renderGraphsForAdAccountsTab:function(){return this.renderCharts([ia.SPEND,ia.IMPRESSIONS],false);},renderGraphsForPagesTab:function(){return this.renderCharts([ia.POST_REACH,ia.PAGE_ENGAGEMENT],true);},renderCharts:function(oa,pa){var qa=this.state.mode===ma.AGGREGATED_STATS?n.COLOR_SET.REGULAR:!this.isSingleAssetComparing()?n.COLOR_SET.FULL_PALETTE:n.COLOR_SET.FOR_SPECIFIC_LINE,ra=this.state.mode===ma.MULTIPLE_ASSETS&&!this.isSingleAssetComparing(),sa=qa===n.COLOR_SET.FOR_SPECIFIC_LINE?this.state.selectedLegendItemID:undefined,ta=(u.createElement(n,{animation:!this.state.userError,chartTypesToRender:oa,compareToPeriod:this.state.compareToPeriod,data:this.state.data||this.getEmptyChartData(oa),endDate:this.state.selectedEndDate||this.props.currentDate,isComparing:this.state.isComparing,isLoading:this.state.isLoading,period:this.state.period,selectedCurrency:this.state.selectedCurrency,summaryAvailable:this.state.mode===ma.AGGREGATED_STATS,chartCustomTooltipMultipleAssets:ra,colorSet:qa,colorSetForLineID:sa}));if(m.SHOULD_SHOW_PAGES_INSIGHTS&&pa){return (u.createElement(p,{assets:this.state.data&&this.state.data.assets,onClick:this.onLegendClickItemID,selectedItemID:this.state.selectedLegendItemID,doNotHightlightLines:this.state.isComparing},ta));}else return ta;},onTabChange:function(oa){switch(oa){case la.AD_ACCOUNTS:this.setState({mode:ma.AGGREGATED_STATS});break;case la.PAGES:this.setState({mode:ma.MULTIPLE_ASSETS});break;default:ca(false);}if(this.props.onTabChange)this.props.onTabChange(oa);this.setState({isComparing:false,selectedTab:oa});this._reloadData();},_reloadData:function(oa){if(this._asyncRequest){this._asyncRequest.abort();this._asyncRequest=null;}var pa={assetCount:null,data:null,error:null,isLoading:true};if(!oa){pa.selectedLegendAsset=null;pa.selectedLegendItemID=null;}this.setState(pa,this._reloadDataImpl);},_reloadDataImpl:function(){this.setState({},function(){this._fetchDashboardData(function(oa){this.setState({assetCount:(oa.data&&oa.data.asset_count)||0,error:oa.error,isLoading:false,currenciesList:oa.data.currencies_list,selectedCurrency:oa.data.preferred_currency});if(oa.data&&!oa.data.error)this.setState({data:oa.data});this.setState({userError:(oa.data&&oa.data.error)||undefined});}.bind(this));}.bind(this));},renderUserErrorMessage:function(){return (u.createElement(w,{size:"large"},this._renderUserError()));},_renderUserError:function(){var oa=this.state.userError;if(!oa)return null;switch(oa.type){case ga.AD_ACCOUNT_AMOUNT_CAUSING_TIMEOUT_EXCEEDED.TYPE:var pa=oa.metadata[ga.AD_ACCOUNT_AMOUNT_CAUSING_TIMEOUT_EXCEEDED.MAX_AMOUNT];return this.renderAdAccountCausingTimeoutErrorMessage(pa);case ga.NO_ASSETS_SELECTED.TYPE:return this.renderNoAssetsSelectedErrorMessage();case ga.NO_USD_AD_ACCOUNTS_SELECTED.TYPE:return this.renderNoUSDAdAccountsSelectedErrorMessage();default:ca(false);}},renderAdAccountCausingTimeoutErrorMessage:function(oa){return (u.createElement("div",null,ba._("Maximum number of ad accounts allowed in dashboard is {number of ad accounts allowed}. Please change filters to see overview.",[ba.param("number of ad accounts allowed",oa)])));},renderNoAssetsSelectedErrorMessage:function(){return (u.createElement("div",null,ba._("No asset selected to display data for. Change filters or request access to more assets to see overview.")));},isSingleAssetComparing:function(){return this.state.mode===ma.MULTIPLE_ASSETS&&this.state.isComparing;},onLegendClickItemID:function(oa,pa,qa){var ra={selectedLegendAsset:qa?oa:null,selectedLegendItemID:qa?pa:null};if(!qa&&this.state.isComparing)ra.isComparing=false;this.setState(ra);if(this.state.isComparing)this._reloadData(true);},onDashboardSettingsChange:function(oa){var pa={};if(oa.selectedEndDate!==undefined)pa.selectedEndDate=oa.selectedEndDate;if(oa.period!==undefined)pa.period=oa.period;if(oa.compareToPeriod!==undefined)pa.compareToPeriod=oa.compareToPeriod;if(oa.isComparing!==undefined)pa.isComparing=oa.isComparing;if(oa.selectedCurrency!==undefined)pa.selectedCurrency=oa.selectedCurrency;this.setState(pa);this._reloadData(true);},getEmptyChartData:function(oa){var pa={totals:[]};y.forEach(oa,function(qa){pa[qa]=[];pa.totals[qa]=0;});return pa;},_fetchDashboardData:function(oa){if(!this.state.selectedEndDate){this.setState({isLoading:false});return;}var pa=r.utc.offset(this.state.selectedEndDate,1-this.state.period).toDateString(),qa=this.state.selectedEndDate.toDateString();k.logForAnalytics(i.HOMEPAGE_DASHBOARD,j.HOMEPAGE_DASHBOARD_LOAD_AD_ACCOUNT_STATS,{brandID:this.props.brandID,endDate:this.state.selectedEndDate||this.props.currentDate});var ra=this.props.apiUriBuilder?this.props.apiUriBuilder:v.getURIBuilder();ra.setEnum('asset_type',this.state.selectedTab).setString('start_date',pa).setString('stop_date',qa).setEnum('compare_to',this.state.isComparing?this.state.compareToPeriod:'none').setString('preferred_currency',this.state.selectedCurrency).setEnum('asset_list_type',this.props.assetsToRender.assetListType).setStringVector('asset_list',this.props.assetsToRender.assetList);if(this.isSingleAssetComparing())ra.setInt('compare_page_id',this.state.selectedLegendAsset.id);if(this.props.assets)ra.setIntVector('ad_accounts',this.props.assets.adAccounts);if(this.props.brandID!=='intern'){if(this.props.filterSet)ra.setHackType('filters',this.props.filterSet.toAPI());ra.setInt('business_id',this.props.brandID);}var sa=ra.getURI();this._asyncRequest=new l().setURI(sa).setMethod('POST').setHandler(function(ta,ua){ta({data:ua.payload,error:false});}.bind(this,oa)).setErrorHandler(function(ta,ua){ta({data:null,error:{code:ua.error,message:ua.errorDescription}});}.bind(this,oa));this._asyncRequest.send();}});e.exports=na;},null);
__d("AdAccountSummaryStore.brands",["AdsGenericFilterSetUtil","BizHomeFilterFieldConfigStore","BaseResourceRequest.brands","ListStore.brands","GraphDAO.brands"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=['account_id','name','created_time','currency'];for(var m in j)if(j.hasOwnProperty(m))o[m]=j[m];var n=j===null?null:j.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=j;function o(){j.call(this,{resourceRequestType:r});}for(var p in i)if(i.hasOwnProperty(p))r[p]=i[p];var q=i===null?null:i.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=i;function r(u){var v=k.forBrand(u),w={};w.dataTypes={'ad-account-with-stats':{fields:l,daoPath:v.fetch.assignedAdAccountsForBrand,apiConverter:s}};i.call(this,u,w);}function s(u){return {id:u.account_id,name:u.name,createdTime:u.created_time,currency:u.currency};}var t=new o();e.exports=t;},null);
__d("ReportingSummary.brands",["React","AccessibleTableParts.react","AdsHelpLink.react","AdsCurrencyFormatter","KeplerProgressBar.react","XUITable.react","XUIText.react","underscore.ads","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q=h.BodyRow,r=j.formatCurrency,s=h.HeadRow,t=g,u=t.PropTypes,v=k.LOADING,w=g.createClass({displayName:"ReportingSummary",propTypes:{currencyToLocaleString:u.func.isRequired,multiAdAccountStats:u.object.isRequired,reloadInterrupted:u.bool.isRequired,reloadProgress:u.string.isRequired},_collectCurrencies:function(){return (n(this.props.multiAdAccountStats).chain().pluck("account_iso_code").uniq().value());},_calculateSummaryStats:function(){var x=[];this._collectCurrencies().forEach(function(y){var z={},aa=0,ba=0,ca=0,da=0;Object.keys(this.props.multiAdAccountStats).forEach(function(ea){if(this.props.multiAdAccountStats[ea].account_iso_code===y){aa+=this.props.multiAdAccountStats[ea].legal_impressions;ca+=this.props.multiAdAccountStats[ea].total_actions;da+=this.props.multiAdAccountStats[ea].legal_spent;}},this);ba=da/aa*1000;z.currency=y;z.totalImpressions=aa;z.avgCPM=ba?this.props.currencyToLocaleString(r(y,ba)):"";z.totalActions=ca;z.totalSpend=this.props.currencyToLocaleString(r(y,da));x.push(z);},this);return x;},_renderSummaryTable:function(){if(this.props.reloadInterrupted){return (g.createElement("div",{className:"pal _17hj"},g.createElement(m,{size:"large"},p._("Ad Account Summary is Unavailable (data fetch interrupted)"))));}else if(this.props.reloadProgress===v)return (g.createElement("div",{className:"pal _17hj"},g.createElement(m,{size:"large"},p._("Ad Account Summary is Loading..."))));var x=this._calculateSummaryStats(),y="_54_7",z=x.map(function(aa){return (g.createElement(q,null,g.createElement("td",null,aa.currency),g.createElement("td",{className:y},aa.totalImpressions.toLocaleString()),g.createElement("td",{className:y},aa.avgCPM),g.createElement("td",{className:y},aa.totalActions.toLocaleString()),g.createElement("td",{className:y},aa.totalSpend)));});return (g.createElement(l,{outerBorder:true,className:"_2tel"},g.createElement("tbody",null,g.createElement(s,null,g.createElement("th",null,p._("Currency")),g.createElement("th",{className:y},p._("Total Impressions"),g.createElement(i,null,p._("'Total Impressions' is the sum of all Impressions from the ad accounts listed below."))),g.createElement("th",{className:y},p._("Avg. CPM"),g.createElement(i,null,p._("'Avg. CPM' is calculated as: 'Combined Spend' across all ad accounts \/ 'Total Impressions' across all ad accounts. Only works with single currencies across all ad accounts."))),g.createElement("th",{className:y},p._("Total Actions"),g.createElement(i,null,p._("'Total Actions' is the sum of all Actions from the ad accounts listed below."))),g.createElement("th",{className:y},p._("Combined Spend"),g.createElement(i,null,p._("'Combined Spend' is the sum of all Spend from the ad accounts listed below. Only works with single currencies across all ad accounts.")))),z)));},render:function(){return (g.createElement("div",null,g.createElement("div",{className:"_2tem"},g.createElement("div",{className:"pam"},g.createElement(m,{size:"medium",weight:"bold"},p._("Selected Ad Accounts Summary")))),g.createElement(k,{className:"_382p",status:this.props.reloadProgress}),this._renderSummaryTable()));}});e.exports=w;},null);
__d("XBusinessReportingAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/business\/async\/reporting\/",{ad_accounts:{type:"IntVector"},filters:{type:"HackType"},business_id:{type:"Int",required:true},request_timestamp:{type:"String",required:true},since:{type:"String",required:true},until:{type:"String",required:true}});},null);
__d("XBusinessAdAccountSummaryCSVController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/home\/ad_account_summary\/csv\/",{ad_accounts:{type:"IntVector"},business_id:{type:"Int",required:true},since:{type:"String",required:true},until:{type:"String",required:true}});},null);
__d("Reporting.brands",["AdsGenericFilterSet","AdsCurrencyFormatter","AsyncRequest","BusinessIdentityEventCategory","BusinessIdentityEventName","AppLogger.brands","BizSiteIdentifier.brands","BusinessConf","DialogContent.brands","Layout.react","Link.brands","ObjectSort","OnVisible.react","KeplerProgressBar.react","React","Image.react","ReactLayeredComponentMixin","XUISelector.react","ReportingSummary.brands","UTCUtils","XBusinessReportingAsyncController","XBusinessAdAccountSummaryCSVController","XUIButton.react","XUIDateRangePicker.react","XUISortableDataTable.react","XUIDialog.react","XUISpinner.react","XUIText.react","d3/time/format-utc","underscore.ads","cx","debounce","fbt","glyph","merge","d3/time/day","d3/time/month"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa){b.__markCompiled&&b.__markCompiled();'use strict';var pa=p.Column,qa=p.FillColumn,ra=x.Option,sa=b('d3/time/day').utc,ta=b('d3/time/month').utc,ua=u,va=ua.PropTypes,wa='/ads/manage',xa='Today',ya='Yesterday',za='Last_7_days',ab='Last_14_days',bb='Last_28_days',cb='This_month',db='This_quarter',eb='Custom',fb='Lifetime',gb=za,hb=250,ib=100,jb=50,kb=250,lb=t.COMPLETE,mb=t.LOADING,nb=1352937600000,ob=360,pb=30*1000,qb,rb,sb,tb=ma._("Ad Account Name"),ub=ma._("Reach"),vb=ma._("Frequency"),wb=ma._("Impressions"),xb=ma._("CPM"),yb=ma._("Action"),zb=ma._("Spend"),ac=u.createClass({displayName:"Reporting",propTypes:{adAccountIDs:va.arrayOf(va.string).isRequired,businessID:va.string,timezoneName:va.string,timezoneOffset:va.number,filterSet:va.instanceOf(g)},mixins:[w],componentWillMount:function(){qb=null;rb={};sb=null;},componentWillUnmount:function(){qb&&qb.abandon();},getInitialState:function(){return {accountURIs:this._computeURIs(this.props.adAccountIDs),currentRequestTimestamp:null,dialogShown:false,penguinDateException:false,lifetimeStartDate:Date.now(),multiAdAccountStats:{},reloadProgress:mb,reloadInterrupted:false,selectCustomDates:false,selectedTimeRange:this._calculateTimeRange(gb),tableViewStart:0,tableViewLength:ib};},_computeURIs:function(bc){var cc={},dc=m.createBusinessURL(wa,this.props.businessID);bc.forEach(function(ec){dc.addQueryData(n.ACCOUNT_ID_PARAM_NAME,ec);cc[ec]=dc.toString();},this);return cc;},componentDidMount:function(){this._reloadDataParallel(this._calculateTimeRange(gb));},_updateTableLength:function(){setTimeout(function(){this.setState({tableViewLength:this.state.tableViewLength+ib});}.bind(this),kb);},_calculateTimeRange:function(bc){var cc=Date.now(),dc=60*1000;if(this.props.timezoneOffset==null){cc-=new Date().getTimezoneOffset()*dc;}else if(this.props.timezoneOffset)cc-=this.props.timezoneOffset*dc;var ec=sa.floor(new Date(cc)),fc=ec.getUTCMonth(),gc;switch(bc){case xa:gc={since:ec.getTime(),until:ec.getTime()};break;case ya:gc={since:sa.offset(ec,-1).getTime(),until:sa.offset(ec,-1).getTime()};break;case za:gc={since:sa.offset(ec,-6).getTime(),until:ec.getTime()};break;case ab:gc={since:sa.offset(ec,-13).getTime(),until:ec.getTime()};break;case bb:gc={since:sa.offset(ec,-27).getTime(),until:ec.getTime()};break;case cb:gc={since:ta.floor(ec).getTime(),until:sa.offset(ta.ceil(ec),-1).getTime()};break;case db:gc={since:ta.offset(ta.floor(ec),-fc%3).getTime(),until:sa.offset(ta.offset(ta.floor(ec),3-(fc%3)),-1).getTime()};break;case fb:gc={since:this.state.lifetimeStartDate,until:cc};break;}return gc;},_updateLifetimeStartDate:function(bc){if(bc<this.state.lifetimeStartDate)this.setState({lifetimeStartDate:bc});},_reloadDataParallel:function(bc){var cc=0,dc=this._getParallelFetchIDs(),ec=this._getParallelFetchCount();sb=setTimeout(function(){this.setState({dialogShown:true});}.bind(this),pb);var fc=Date.now()+"";setTimeout(this.setState.bind(this,{currentRequestTimestamp:fc},null),0);var gc=la(function(){this.setState({multiAdAccountStats:rb});}.bind(this),hb);dc.forEach(function(hc){var ic=aa.getURIBuilder();ic.setInt('business_id',this.props.businessID);ic.setString('request_timestamp',fc);ic.setString('since',this._formatTimeStampForTimeRange(bc.since));ic.setString('until',this._formatTimeStampForTimeRange(bc.until));ic.setIntVector('ad_accounts',hc);if(this.props.filterSet)ic.setHackType('filters',this.props.filterSet.toAPI());qb=new i(ic.getURI());qb.setHandler(function(jc){if(!this.state.reloadInterrupted&&this.state.currentRequestTimestamp===jc.payload.request_timestamp){rb=oa(rb,jc.payload.stats);gc();this._updateLifetimeStartDate(jc.payload.lifetimeStartDate*1000);cc+=1;if(cc===ec){clearInterval(sb);sb=0;this.setState({dialogShown:false,reloadProgress:lb});}}}.bind(this)).setErrorHandler(function(jc){this.setState({reloadProgress:lb});}.bind(this)).send();},this);},_getParallelFetchIDs:function(){var bc=this.props.adAccountIDs,cc=[],dc=this._getParallelFetchCount();for(var ec=0;ec<dc;ec++)cc.push([]);bc.forEach(function(fc,gc){var hc=Math.floor(gc/jb);cc[hc].push(fc);});return cc;},_getParallelFetchCount:function(){var bc=this.props.adAccountIDs;return Math.floor(bc.length/jb)+1;},_getReloadCountRemaining:function(bc){var cc=this.props.adAccountIDs.length,dc=bc*jb;return cc-dc;},_checkTimeRangeAgainstPenguinDateException:function(bc){var cc=false;if(bc.since<nb){bc.since=nb;cc=true;}if(bc.until<nb){bc.until=nb;cc=true;}if(this.state.penguinDateException!==cc)this.setState({penguinDateException:cc});return bc;},_onSelectorTimeRangeChange:function(bc){var cc=bc.value;if(cc===eb){this.setState({selectCustomDates:true});}else{this.setState({selectCustomDates:false});var dc=this._calculateTimeRange(cc);dc=this._checkTimeRangeAgainstPenguinDateException(dc);l.logForAnalytics(j.REPORTING,k.DATE_SELECTOR_CHANGE,{updatedTimeRange:dc,customTimeRangeSelector:false});this.setState({selectedTimeRange:dc,reloadProgress:mb,reloadInterrupted:false,multiAdAccountStats:{}},this._reloadDataParallel.bind(this,dc));}},_onCustomTimeRangeChange:function(bc){var cc={since:bc.since,until:bc.until};cc=this._checkTimeRangeAgainstPenguinDateException(cc);l.logForAnalytics(j.REPORTING,k.DATE_SELECTOR_CHANGE,{updatedTimeRange:cc,customTimeRangeSelector:true});this.setState({selectedTimeRange:cc,reloadProgress:mb,reloadInterrupted:false,multiAdAccountStats:{}},this._reloadDataParallel.bind(this,cc));},_renderCustomDateSelectors:function(){if(!this.state.selectCustomDates)return u.createElement("div",null);var bc=Date.now();if(this.props.timezoneOffset==null){bc-=new Date().getTimezoneOffset()*60*1000;}else if(this.props.timezoneOffset)bc-=this.props.timezoneOffset*60*1000;var cc=sa.floor(new Date(bc)),dc={since:this.state.lifetimeStartDate,until:Date.now()},ec=5;if(dc.since){var fc=new Date(this._parseTime(dc.since));ec=cc.getUTCFullYear()-fc.getUTCFullYear();ec++;}var gc=null,hc=null;if(this.state.selectedTimeRange){gc=this._parseTime(this.state.selectedTimeRange.since);hc=this._parseTime(this.state.selectedTimeRange.until);}return (u.createElement("div",{className:"mlm"},u.createElement(da,{actuatorDisabled:this.state.reloadProgress===mb,defaultStartFocusTime:gc?gc:bc,defaultStartSelectTime:gc,defaultEndFocusTime:hc?hc:bc,defaultEndSelectTime:hc,calendarAlignment:'right',onRangeSelected:this._onRangeSelected,timezoneName:this.props.timezoneName,yearRangePast:ec,yearRangeFuture:0})));},_renderDatesSection:function(){var bc="";if(this.state.penguinDateException)bc=(u.createElement(ha,{size:"medium"},ma._("(no stats to show before Nov 15th, 2012)")));var cc;if(this.state.selectedTimeRange.since==this.state.selectedTimeRange.until){cc=(u.createElement("div",{className:"_o8y"},u.createElement(ha,{size:"medium",weight:"bold"},ma._("Selected Dates:"))," ",u.createElement(ha,{size:"medium"},this._formatTimeStampDisplay(this.state.selectedTimeRange.since))," ",bc));}else cc=(u.createElement("div",{className:"_o8y"},u.createElement(ha,{size:"medium",weight:"bold"},ma._("Selected Dates:"))," ",u.createElement(ha,{size:"medium"},this._formatTimeStampDisplay(this.state.selectedTimeRange.since))," ",u.createElement(ha,{size:"medium"},ma._("to"))," ",u.createElement(ha,{size:"medium"},this._formatTimeStampDisplay(this.state.selectedTimeRange.until))," ",bc));var dc=(u.createElement("div",null,u.createElement(x,{defaultValue:gb,disabled:this.state.reloadProgress===mb,name:"interval_per_row_selector",onChange:this._onSelectorTimeRangeChange},u.createElement(ra,{value:xa},ma._("Today")),u.createElement(ra,{value:ya},ma._("Yesterday")),u.createElement(ra,{value:za},ma._("Last 7 days")),u.createElement(ra,{value:ab},ma._("Last 14 days")),u.createElement(ra,{value:bb},ma._("Last 28 days")),u.createElement(ra,{value:cb},ma._("This month")),u.createElement(ra,{value:db},ma._("This quarter")),u.createElement(ra,{value:fb},ma._("Lifetime")),u.createElement(ra,{value:eb},ma._("Custom"))))),ec="/";if(this.state.reloadProgress!==mb){ec=ba.getURIBuilder().setInt('business_id',this.props.businessID).setString('since',this._formatTimeStampForTimeRange(this.state.selectedTimeRange.since)).setString('until',this._formatTimeStampForTimeRange(this.state.selectedTimeRange.until)).setIntVector('ad_accounts',this.props.adAccountIDs);if(this.props.filterSet)ec.setHackType('filters',this.props.filterSet.toAPI());ec=ec.getURI();}var fc=(u.createElement(ca,{image:u.createElement(v,{src:na('download')}),label:"Export",use:"confirm",href:ec,disabled:this.state.reloadProgress===mb}));return (u.createElement("div",null,u.createElement(p,{className:"pam _o8y"},u.createElement(pa,{className:"mrm"},cc),u.createElement(qa,null),u.createElement(pa,{className:"mlm"},u.createElement(ha,{size:"small"},ma._("Dates:"))),u.createElement(pa,{className:"mlm"},dc),u.createElement(pa,null,this._renderCustomDateSelectors()),u.createElement("div",{className:"mlm"},fc))));},_parseTime:function(bc){if(!bc)return;if(!this.props.timezoneOffset)bc=z.dateToUTC(new Date(bc));return sa.floor(new Date(bc)).getTime();},_formatTime:function(bc){if(!bc)return;if(!this.props.timezoneOffset)bc=z.dateToUTCDate(new Date(bc)).getTime();return bc;},_onRangeSelected:function(bc,cc){return this._onCustomTimeRangeChange({since:this._formatTime(bc),until:this._formatTime(cc)});},_formatTimeStampDisplay:function(bc){var cc=ia('%m/%d/%Y');return cc(new Date(bc));},_formatTimeStampForTimeRange:function(bc){var cc=ia('%Y-%m-%d');return cc(new Date(bc));},_logExport:function(){l.logForAnalytics(j.REPORTING,k.EXPORT_STATS,{selectedTimeRange:this.state.selectedTimeRange});},_cellDefaultRenderer:function(bc){var cc=bc||0;return cc.toLocaleString();},_currencyToLocaleString:function(bc){var cc=bc.match(/(.*?)(\d+)(\.\d{2})?(.*?)$/);if(!cc)throw new Error("");var dc=cc[3]===undefined?"":cc[3];return cc[1]+parseInt(cc[2],10).toLocaleString()+dc+cc[4];},_cellCurrencyRenderer:function(bc){var cc=bc.currency,dc=bc.amount;return this._currencyToLocaleString(h.formatCurrencyWithISO(cc,dc));},_cellAdAccountNameRenderer:function(bc){var cc=bc.match(/\((\d+)\)$/),dc=cc&&cc[1];if(!dc)throw new Error("");return (u.createElement(q,{key:bc,href:this.state.accountURIs[dc]},bc));},_getCurrencySortFunction:function(bc){return function(cc,dc){var ec=cc[bc].currency,fc=dc[bc].currency;if(ec===fc){var gc=cc[bc].amount,hc=dc[bc].amount;return (hc||0)-(gc||0);}return ec.toLowerCase().localeCompare(fc.toLowerCase());};},_generateRows:function(){var bc=this.state.multiAdAccountStats;return ja(bc).map(function(cc){return oa(cc,{ad_account_name:cc.ad_account_name+" ("+cc.ad_account_id+")",cpm:{currency:cc.account_iso_code,amount:cc.cpm},legal_spent:{currency:cc.account_iso_code,amount:cc.legal_spent}});});},_generateColumns:function(){var bc=[{id:'ad_account_name',label:tb,isNumeric:false,comparator:r.getStringSortFunction('ad_account_name'),cellRenderer:this._cellAdAccountNameRenderer},{id:'reach',label:ub},{id:'frequency',label:vb},{id:'legal_impressions',label:wb},{id:'cpm',label:xb,cellRenderer:this._cellCurrencyRenderer,comparator:this._getCurrencySortFunction('cpm')},{id:'total_actions',label:yb},{id:'legal_spent',label:zb,cellRenderer:this._cellCurrencyRenderer,comparator:this._getCurrencySortFunction('legal_spent')}],cc=[];for(var dc=0;dc<bc.length;dc++){var ec={sortable:true,isNumeric:true,comparator:r.getReverseNumericSortFunction(bc[dc].id),cellRenderer:this._cellDefaultRenderer};cc.push(oa(ec,bc[dc]));}return cc;},_renderStatsTable:function(){return (u.createElement("div",null,u.createElement(ea,{outerBorder:true,columns:this._generateColumns(),columnToSortBy:"ad_account_name",rows:this._generateRows(),viewStart:this.state.tableViewStart,viewLength:this.state.tableViewLength,onSort:function(bc){l.logForAnalytics(j.REPORTING,k.TABLE_SORT,{column:bc});}})));},_renderSpinnerSection:function(){return (u.createElement("div",{className:"mtm pam _twp"},u.createElement(ha,{size:"small",className:"_twq"},ma._({"*":{"*":"{number of ad accounts shown} of {total number of ad accounts} ad accounts shown"}},[ma.param("number of ad accounts shown",this.state.tableViewLength,[0]),ma.param("total number of ad accounts",Object.keys(this.state.multiAdAccountStats).length,[0])])),u.createElement(s,{onVisible:this._updateTableLength,key:this.state.tableViewLength},u.createElement(ga,{background:"dark",size:"small"}))));},render:function(){var bc;if(!Object.keys(this.state.multiAdAccountStats).length)if(this.state.reloadInterrupted){bc=(u.createElement("div",{className:"pal _17hj"},u.createElement(ha,{size:"large"},ma._("Ad Account Stats are Unavailable (data fetch interrupted)"))));}else bc=(u.createElement("div",{className:"pal _17hj"},u.createElement(ha,{size:"large"},ma._("Ad Account Stats are Loading..."))));return (u.createElement("div",null,u.createElement(y,{currencyToLocaleString:this._currencyToLocaleString,multiAdAccountStats:this.state.multiAdAccountStats,reloadInterrupted:this.state.reloadInterrupted,reloadProgress:this.state.reloadProgress}),u.createElement("div",{className:"__d8"},this._renderDatesSection()),u.createElement(t,{className:"_382p",status:this.state.reloadProgress}),this._renderStatsTable(),bc,Object.keys(this.state.multiAdAccountStats).length>this.state.tableViewLength&&this.state.reloadProgress===lb?this._renderSpinnerSection():null));},_onDialogAndReloadCancel:function(){this.setState({dialogShown:false,reloadInterrupted:true,reloadProgress:lb});},_onDialogConfirmAndReloadContinue:function(){this.setState({dialogShown:false});},renderLayers:function(){var bc=(ma._("Warning")),cc=(ma._("Continue Loading")),dc=(ma._("Cancel")),ec=(ma._("The selected date range may cause a long load time. We recommend choosing another date range."));return {dialog:u.createElement(fa,{layerHideOnBlur:false,shown:this.state.dialogShown,width:ob},u.createElement(o,{titleText:bc,confirmButtonText:cc,hideTitleCloseButton:true,rejectButtonText:dc,hasRejectButton:true,onConfirmButtonClick:this._onDialogConfirmAndReloadContinue,onRejectButtonClick:this._onDialogAndReloadCancel},ec))};}});e.exports=ac;},null);
__d("AdAccountSummaryTable.brands",["AdAccountIDConverter","AdsGenericFilter","AdsGenericFilterSet","AdsGenericFilterSetUtil","AdsGenericFilterOperatorConfig","AdAccountSummaryStore.brands","BizHomeFilterFieldConfigStore","LargeSpinner.brands","React","Reporting.brands","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=o,s=r.PropTypes,t=o.createClass({displayName:"AdAccountSummaryTable",propTypes:{businessID:s.string.isRequired,filterSet:s.instanceOf(i),adAccountIDs:s.arrayOf(s.string),selectAll:s.bool.isRequired,timezoneName:s.string,timezoneOffset:s.number},componentWillMount:function(){this._subToken=l.subscribe('change',function(){if(!this._shouldUpdateFromStore){this._shouldUpdateFromStore=true;}else clearTimeout(this._shouldUpdateFromStore);this._shouldUpdateFromStore=setTimeout(function(){return this.updateFromStore();}.bind(this),0);}.bind(this));},updateFromStore:function(){this._shouldUpdateFromStore=false;this.forceUpdate();},componentWillUnmount:function(){this.setState=q;this._subToken.unsubscribe();},getInitialState:function(){return {sort:'name',selectedRows:{},filterSetForStats:this._constructFilterSetForStats(this.props.selectAll,this.props.filterSet,this.props.adAccountIDs,null)};},_constructFilterSetForStats:function(u,v,w,x){if(!v&&!w)return null;var y;if(u&&w){y=k.NOT_IN.operator;}else if(w){y=k.IN.operator;}else return v;var z=new i([new h(m.getField("IDs").field,y,w.map(g.toActID))]);if(!v){return z;}else return j.mergeByField(v,z);},render:function(){var u=this._computeAdAccountIDs();if(!u)return o.createElement("div",null,o.createElement(n,null));return (o.createElement(p,{adAccountIDs:u,businessID:this.props.businessID,timezoneName:this.props.timezoneName,timezoneOffset:this.props.timezoneOffset}));},_computeAdAccountIDs:function(){var u=this._getRowCount(),v=true;for(var w=0;w<u;w++)if(this._getRowData(w).isLoading)v=false;if(!v||u===0)return null;var x=[];for(var y=0;y<u;y++){var z=this._getRowData(y);x.push(z.asset.id);}return x;},_getRowData:function(u){var v=l.getItemAtIndex(this.props.businessID,this.state.filterSetForStats,"name",u);if(v.asset)return {asset:v.asset};return v;},_getRowCount:function(){var u=this._getRowData(0);if(u.isLoading)return 0;var v=l.getRowCount(this.props.businessID,this.state.filterSetForStats,this.state.sort);if(!v&&v!==0)return l.getRowCount(this.props.businessID,null,this.state.sort);return v;}});e.exports=t;},null);
__d("OpenAccountSummaryButton.brands",["AdsGenericFilterSet","BusinessIdentityEventCategory","BusinessIdentityEventName","AppLogger.brands","DialogContent.brands","React","ReactLayeredComponentMixin","AdAccountSummaryTable.brands","XUIButton.react","XUIDialog.react","cssVar","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=l,u=t.PropTypes,v="996px",w=l.createClass({displayName:"OpenAccountSummaryButton",mixins:[m],propTypes:{disabled:u.bool.isRequired,adAccountIDs:u.arrayOf(u.string).isRequired,filterSet:u.instanceOf(g),hidden:u.bool,businessID:u.string.isRequired,timezoneName:u.string,timezoneOffset:u.number},getInitialState:function(){return {isDialogOpen:false,dialogWidth:parseInt(v,10)};},render:function(){return (l.createElement("span",{className:((!!this.props.hidden?"_44j-":''))},l.createElement(o,{size:"xlarge",label:s._("View Account Summary"),image:l.createElement("span",{className:(("img")+(' '+"_5oqv")+(!this.props.disabled?' '+"_5oqw":'')+(this.props.disabled?' '+"_5oqx":''))}),disabled:this.props.disabled,onClick:this._onOpenReporterClick,borderShade:this.props.disabled?'light':'dark',ref:"causalButton"})));},renderLayers:function(){return {reportingDialog:this.state.isDialogOpen?this._renderReporterDialog():null};},_onOpenReporterClick:function(){j.logForAnalytics(h.HOMEPAGE,i.REPORTING_LINK_CLICK);this._toggleDialog(true);},_renderReporterDialog:function(){return (l.createElement(p,{fixedTopPosition:1,shown:this.state.isDialogOpen,layerHideOnBlur:false,onToggle:this._onDialogToggle,causalElementRef:"causalButton",width:this.state.dialogWidth},l.createElement(k,{titleText:s._("Ad Account Summary"),confirmButtonText:s._("Close"),onConfirmButtonClick:this._onCancelDialog,hasRejectButton:false,isConfirmButtonDisabled:false,isRejectButtonDisabled:false},l.createElement(n,{businessID:this.props.businessID,filterSet:this.props.filterSet,adAccountIDs:this.props.adAccountIDs,timezoneName:this.props.timezoneName,timezoneOffset:this.props.timezoneOffset,selectAll:this.props.selectAll}))));},_onCancelDialog:function(){setTimeout(this._toggleDialog.bind(this,false),0);},_onDialogToggle:function(x){if(!x)this._onCancelDialog();},_toggleDialog:function(x){this.setState({isDialogOpen:x});this.props.onToggleAdding&&this.props.onToggleAdding(x);}});e.exports=w;},null);
__d("SplashDialog.brands",["Arbiter","BusinessURI.brands","Image.react","React","ReactLayeredComponentMixin","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIGrayText.react","underscore.ads","cx","fbt","invariant","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=j,v=u.PropTypes,w=600,x=j.createClass({displayName:"SplashDialog",mixins:[k],propTypes:{initiallyShown:v.shape({create:v.bool,migrate:v.bool}).isRequired,width:v.number},getDefaultProps:function(){return {width:w};},getInitialState:function(){return {isDialogOpen:p.any(this.props.initiallyShown)};},render:function(){return j.createElement("span",{className:"hidden_elem"});},renderLayers:function(){return {splashDialog:this.state.isDialogOpen?this._renderDialog():null};},_renderSplashDialog:function(){return (j.createElement("div",null,j.createElement(o,{display:"block",shade:"medium",className:"_48aa"},r._("Help is here")),j.createElement(o,{display:"block",shade:"light",size:"large",className:"_48ab"},r._("Check out the guide on the right to get started with Business Manager and learn more about how things work.")),j.createElement(i,{src:t("/images/bizsite/bm-home-splash.png")}),j.createElement("div",{className:"_48ac"},j.createElement(n,{action:"button",use:"confirm",size:"xxlarge",className:"_48ad",onClick:this._onConfirmButtonClick,label:r._("Open Guide")}))));},_renderMigrateDialog:function(){return (j.createElement("div",null,j.createElement(o,{display:"block",shade:"medium",className:"_48aa"},r._("Welcome to Business Manager")),j.createElement("div",{className:"_3-8o"},j.createElement(i,{src:t("/images/bizsite/gray_shutoff/modal-illo-checkmark.png")})),j.createElement(o,{display:"block",shade:"light",size:"large",className:"_48ab"},r._("Your assets have been moved here.")),j.createElement("br",null),j.createElement(o,{display:"block",shade:"light",size:"large",className:"_48ab"},r._("Start adding the people who need to work on these ad accounts and Pages. Use the guide on the right to get help. We'll walk you through the tools and teach you about common Business Manager tasks.")),j.createElement("div",{className:"_48ac"},j.createElement(n,{action:"cancel",size:"xxlarge",label:r._("Not Now")}),j.createElement(n,{action:"button",use:"confirm",size:"xxlarge",href:h('/settings/people').addQueryData('oaud',true).toString(),label:r._("Add People")}))));},_renderDialog:function(){var y;if(this.props.initiallyShown.create){y=this._renderSplashDialog();}else if(this.props.initiallyShown.migrate)y=this._renderMigrateDialog();s(y);return (j.createElement(l,{shown:this.state.isDialogOpen,layerHideOnBlur:false,width:this.props.width},j.createElement(m,null,j.createElement("div",{className:"_48a9"},y))));},_onConfirmButtonClick:function(){this.setState({isDialogOpen:false},this._toggleSetupGuide);},_toggleSetupGuide:function(){g.inform("SetupGuide.brands.toggle");}});e.exports=x;},null);
__d("BrandAdAccountAPIConverter.brands",["AdAccountIDConverter","AppConstants.brands","AssetRole.brands"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h.ACCESS_TYPE,k=h.ACCOUNT_STATUS,l=h.ASSET_TYPE,m=h.ATTRIBUTION_TYPE,n=h.REQUESTED_ASSET_STATUS,o=h.OBJECT_STATUS;function p(w){return {id:w.account_id,name:w.name||w.account_id,currency:w.currency||null,business:w.business||null,endAdvertiser:w.end_advertiser||null,timezoneName:w.timezone_name?w.timezone_name.replace('_',' '):null,fundingSourceID:w.funding_source?w.funding_source.toString():null,assetType:l.AD_ACCOUNT,accountGroups:w.account_groups||[],accountStatus:w.access_status===n.PENDING?k.ACTIVE:w.account_status||null,status:w.access_status,accessType:w.access_type,objectStatus:o.SYNCED,permittedRoles:i.sortRoleKeys(l.AD_ACCOUNT,w.permitted_roles||[])};}function q(w,x){return {adaccount_id:g.toActID(w),access_type:j.OWNER,handleError:x};}function r(w,x){return {name:w.name,currency:w.currency,timezone_id:w.timezoneID,end_advertiser:w.endAdvertiserID||m.UNFOUND,media_agency:m.UNFOUND,partner:m.UNFOUND,funding_id:w.fundingID||null,po_number:w.poNumber||'',handleError:x};}function s(w,x){return {adaccount_id:g.toActID(w),handleError:x};}function t(w,x,y){return {brandID:x,adaccount_id:g.toActID(w.id),handleError:y};}function u(w){return {adaccount_id:g.toActID(w),access_type:j.OWNER};}function v(w,x,y,z){return {adaccount_id:g.toActID(w.id),email:x,password:y,access_type:z};}e.exports={fromAPI:p,getDAOParamsForClaim:q,getDAOParamsForCreate:r,getDAOParamsForDeleteRequest:s,getDAOParamsForDelete:t,getBatchParamsForClaim:u,getBatchParamsForMigrate:v};},null);
__d("AssignedAdAccountResourceRequests.brands",["BaseResourceRequest.brands","BrandAdAccountAPIConverter.brands","GraphDAO.brands"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=["id","name","account_id","account_status","business","currency","timezone_name","account_groups","access_status","access_type","permitted_roles"];for(var k in g)if(g.hasOwnProperty(k))m[k]=g[k];var l=g===null?null:g.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=g;function m(n){var o=i.forBrand(n),p={};p.dataTypes={'assigned-adaccount':{fields:j,daoPath:o.fetch.assignedAdAccountsForBrand,apiConverter:h.fromAPI}};g.call(this,n,p);}e.exports=m;},null);
__d("AssignedAdAccountStore.brands",["AppConstants.brands","AppDispatcher.brands","Arbiter","AssignedAdAccountResourceRequests.brands","ImmutableObject","ResourceRequests.brands","copyProperties","underscore.ads"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=g.AD_ACCOUNT_ACTION,p=g.ASSET_PERMISSION_ACTION,q=g.ASSET_TYPE,r=new k({isLoading:true}),s=new k({isLoading:false}),t={},u={},v='assigned-adaccounts',w=m(new i(),{_debugDump:function(){return {_rowIDsByUserIdent:t,_rowDataByAdAccountID:u};},getRowDataAtIndex:function(x,y,z,aa,ba){var ca=aa?aa.toString():"";if(t[y]&&t[y][ca]&&t[y][ca].hasOwnProperty(ba)){var da=t[y][ca][ba];return da?u[da]:s;}l.get(j,x,this._getResourceKey(y)).fetch(aa,'name',ba,function(ea){this._saveAssignedPage(y,ca,ba,ea);}.bind(this),z);return r;},getTotalAssignedAssetsCount:function(x,y,z){return l.get(j,x,this._getResourceKey(y)).getResourceCount(z,'name');},_saveAssignedPage:function(x,y,z,aa){if(!t[x])t[x]={};if(!t[x][y])t[x][y]=[];if(!aa){t[x][y][z]=null;this.inform('change');return;}var ba=n.size(t[x][y]),ca=this._createRowData(aa);t[x][y][z]=aa.id;u[aa.id]=ca;var da=n.size(t[x][y]);if(ba!==da)this.inform('change');},_getResourceKey:function(x){return v+x;},_createRowData:function(x){return new k({asset:x,isLoading:false});},_clearCache:function(x){var y=Object.keys(t);u={};t={};var z=this;y.forEach(function(aa){l.clear(x,z._getResourceKey(aa));});},dispatchToken:h.register(function(x){var y=false;if(x.actions&&x.actions.length)x.actions.forEach(function(z){switch(z.actionType){case o.CLAIM_SUCCESS:case o.CREATE_SUCCESS:case o.DELETE_SUCCESS:case o.MIGRATE_SUCCESS:w._clearCache(z.brandID);y=true;break;case p.UPDATE_SUCCESS:w._handlePermissionUpdateSuccess(z);y=true;break;case p.DELETE_SUCCESS:w._handlePermissionDeleteSuccess(z);y=true;}});if(y)w.inform('change');}),_handlePermissionUpdateSuccess:function(x){if(x.assetType===q.AD_ACCOUNT){var y='role',z=x.changeset.getOldField(y),aa=x.changeset.getNewField(y);if(z===null||aa===null){var ba=x.userID,ca=x.brandID;delete t[ba];l.clear(ca,this._getResourceKey(ba));}}},_handlePermissionDeleteSuccess:function(x){if(x.assetType===q.AD_ACCOUNT){var y=x.userID,z=x.brandID;delete t[y];l.clear(z,this._getResourceKey(y));}}});e.exports=w;},null);
__d("BrandPageAPIConverter.brands",["AppConstants.brands","AssetRole.brands","fbt"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=g.ACCESS_TYPE,k=g.ASSET_TYPE,l=g.OBJECT_STATUS;function m(r){var s={id:r.id+"",name:r.global_brand_page_name||r.name,business:r.business||null,link:r.link||null,picture:r.picture&&r.picture.data.url||null,likes:r.likes||null,isVerified:!!r.is_verified,category:r.category||null,assetType:k.PAGE,isLoaded:true,userPermissions:r.userpermissions,status:r.access_status,accessType:r.access_type,objectStatus:l.SYNCED,permittedRoles:h.sortRoleKeys(k.PAGE,r.permitted_roles||[])};if(!s.name){s.isLoaded=false;s.name=i._("Page Unavailable");}return s;}function n(r,s,t,u){var v={page_id:r.id,access_type:s,handleError:u};if(t.length!==0)v.permitted_roles=t;return v;}function o(r,s){return {page_id:r.id,handleError:s};}function p(r){return {access_type:j.OWNER,page_id:r.id};}function q(r,s,t,u){return {page_id:r.id,email:s,password:t,access_type:u};}e.exports={fromAPI:m,getDAOParamsForMutate:n,getDAOParamsForDelete:o,getBatchParamsForMutate:p,getBatchParamsForMigrate:q};},null);
__d("AssignedPageResourceRequests.brands",["BaseResourceRequest.brands","BrandPageAPIConverter.brands","GraphDAO.brands"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=['id','name','global_brand_page_name','category','link','likes','is_published','is_verified','business','picture.type(square)','access_status','access_type','permitted_roles'];for(var k in g)if(g.hasOwnProperty(k))m[k]=g[k];var l=g===null?null:g.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=g;function m(n){var o=i.forBrand(n),p={};p.dataTypes={'assigned-page':{fields:j,daoPath:o.fetch.assignedPagesForBrand,apiConverter:h.fromAPI}};g.call(this,n,p);}e.exports=m;},null);
__d("AssignedPageStore.brands",["AppConstants.brands","AppDispatcher.brands","Arbiter","AssignedPageResourceRequests.brands","ImmutableObject","ResourceRequests.brands","copyProperties","underscore.ads"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=g.ASSET_PERMISSION_ACTION,p=g.ASSET_TYPE,q=g.PAGE_ACTION,r=new k({isLoading:true}),s=new k({isLoading:false}),t={},u={},v='assigned-pages',w=m(new i(),{_debugDump:function(){return {_rowIDsByUserIdent:t,_rowDataByPageID:u};},getRowDataAtIndex:function(x,y,z,aa,ba){var ca=aa?aa.toString():"";if(t[y]&&t[y][ca]&&t[y][ca].hasOwnProperty(ba)){var da=t[y][ca][ba];return da?u[da]:s;}l.get(j,x,this._getResourceKey(y)).fetch(aa,'name',ba,function(ea){this._saveAssignedPage(y,ca,ba,ea);}.bind(this),z);return r;},getTotalAssignedAssetsCount:function(x,y,z){return l.get(j,x,this._getResourceKey(y)).getResourceCount(z,'name');},_saveAssignedPage:function(x,y,z,aa){if(!t[x])t[x]={};if(!t[x][y])t[x][y]=[];if(!aa){t[x][y][z]=null;this.inform('change');return;}var ba=n.size(t[x][y]),ca=this._createRowData(aa);t[x][y][z]=aa.id;u[aa.id]=ca;var da=n.size(t[x][y]);if(ba!==da)this.inform('change');},_getResourceKey:function(x){return v+x;},_createRowData:function(x){return new k({asset:x,isLoading:false});},_clearCache:function(x){var y=Object.keys(t);u={};t={};var z=this;y.forEach(function(aa){l.clear(x,z._getResourceKey(aa));});},dispatchToken:h.register(function(x){var y=false;if(x.actions&&x.actions.length)x.actions.forEach(function(z){switch(z.actionType){case q.CREATE_SUCCESS:case q.DELETE_SUCCESS:case q.MIGRATE_SUCCESS:y=true;w._clearCache(z.brandID);break;case o.UPDATE_SUCCESS:w._handlePermissionUpdateSuccess(z);y=true;break;case o.DELETE_SUCCESS:w._handlePermissionDeleteSuccess(z);y=true;}});if(y)w.inform('change');}),_handlePermissionUpdateSuccess:function(x){if(x.assetType===p.PAGE){var y='role',z=x.changeset.getOldField(y),aa=x.changeset.getNewField(y);if(z===null||aa===null){var ba=x.userID,ca=x.brandID;delete t[ba];l.clear(ca,this._getResourceKey(ba));}}},_handlePermissionDeleteSuccess:function(x){if(x.assetType===p.PAGE){var y=x.userID,z=x.brandID;delete t[y];l.clear(z,this._getResourceKey(y));}}});e.exports=w;},null);
__d("XBusinessSetupGuideAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/business\/async\/setup-guide\/",{business_id:{type:"Int",required:true},setup_guide_state:{type:"String",required:true}});},null);
__d("SetupGuide.brands",["AdsTourGuide.react","AdsTourGuidePlan","AsyncRequest","Arbiter","BusinessPersonaSetupGuideState","BusinessSetupGuideConstants","CSS","Image.react","React","ReactTransitionEvents","XBusinessSetupGuideAsyncController","underscore.ads","businessGlyph","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=o,v=u.PropTypes,w=o.createClass({displayName:"SetupGuide",mixins:[p],propTypes:{businessID:v.string.isRequired,use:v.oneOf(['settings','home']).isRequired,initialGuideState:v.oneOf(r.values(k)).isRequired},getInitialState:function(){var x=this.props.initialGuideState===k.CLOSED;return {hidden:x,showArrow:!x,plan:this.props.use==="home"?new h(l.HOME_PLAN):new h(l.SETTINGS_PLAN)};},componentWillMount:function(){this._updateSideBarStyle(this.state.hidden);this._arbiterToken=j.subscribe("SetupGuide.brands.toggle",this._onShowHideClick);},componentDidMount:function(){this.addEndEventListener(o.findDOMNode(this),this._onAnimationEnd);},componentWillUnmount:function(){m.removeClass(document.body,"_12u7");this.removeEndEventListener(o.findDOMNode(this),this._onAnimationEnd);this._arbiterToken.unsubscribe();},_onAnimationEnd:function(x){if(m.hasClass(x.target,"_2ggl")&&m.hasClass(x.target,"_2ggn"))this.setState({showArrow:true});},_updateSideBarStyle:function(x){if(x){m.removeClass(document.body,"_12u7");}else m.addClass(document.body,"_12u7");},render:function(){var x=(("_2ggl")+(' '+"_1_0y")+(this.state.hidden?' '+"_2ggm":'')+(!this.state.hidden?' '+"_2ggn":'')),y=(("_2ggl")+(' '+"_1_0-")+(this.state.hidden?' '+"_2ggm":'')+(!this.state.hidden?' '+"_2ggn":'')),z=this.state.hidden?s('setup-guide-closed'):s('setup-guide-open');return (o.createElement("div",{className:"_12u9"},o.createElement("div",{className:y},o.createElement("div",{className:"_1_0_",onClick:this._onShowHideClick},o.createElement(n,{className:"_1_10",src:z})),o.createElement("div",{className:x},o.createElement("div",{className:"_1_11"},o.createElement(g,{plan:this.state.plan,showHighlights:this.state.showArrow}))))));},_onShowHideClick:function(){var x=!this.state.hidden;this.setState({hidden:x,showArrow:false},function(){var y=q.getURIBuilder();y.setInt("business_id",this.props.businessID);y.setString("setup_guide_state",(x?k.CLOSED:k.OPEN));var z=new i(y.getURI());z.send();});this._updateSideBarStyle(x);}});e.exports=w;},null);
__d("XDeveloperCasesHomeController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/direct-support\/{?entity_id}\/",{entity_id:{type:"Int"}});},null);
__d("SubHeaderMenu.brands",["AdsTourGuideHighlightable.react","BrandsAppConfig","BusinessSetupGuideConstants","BusinessURI.brands","ContextualDialogArrow","Debug.brands","Image.react","React","PopoverMenu.react","ReactXUIMenu","XUIMenuSeparator.react","URI","XDeveloperCasesHomeController","XUICard.react","XUIPageNavigation.react","XUIText.react","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();var z=p.Item,aa=u.Group,ba=u.Item,ca=n,da=ca.PropTypes,ea=n.createClass({displayName:"SubHeaderMenu",mixins:[l],propTypes:{businessID:da.string.isRequired,selectedItem:da.oneOf(['home','settings'])},getInitialState:function(){var fa=this.props.businessID;return {uri:{home:j("/",fa),settings:j("/settings",fa),pe:j("/ads/manage/powereditor/",fa),help:r("/help/113163272211510"),overview:j("/overview",fa),howitworks:j("/howitworks",fa),faq:j("/faq",fa)}};},render:function(){return (n.createElement(t,{className:"_5vx1 _3-95"},n.createElement(u,{activeTabKey:this.props.selectedItem,caretColor:"fbui-desktop-background-light",selectedIndicator:u.Indicator.BlueBar},n.createElement(aa,null,n.createElement(ba,{key:"home",href:this.state.uri.home},n.createElement(v,null,x._("Home"))),n.createElement(ba,{key:"settings",href:this.state.uri.settings},n.createElement(g,{highlightableID:i.HIGHLIGHT.SETTINGS_SUBHEADER_ITEM},n.createElement(v,{ref:"settings-nav-item"},x._("Settings"))))),n.createElement(aa,null,this._renderHelpLink(),n.createElement(ba,{key:"pe",href:this.state.uri.pe},n.createElement(v,null,x._("Use Power Editor")))))));},_renderHelpLink:function(){var fa;if(h.isEligibleForDirectSupport){var ga=s.getURIBuilder().getURI().setSubdomain('developers').addQueryData('entity_id',this.props.businessID);fa=(n.createElement(z,{key:"Direct_Support",href:ga},x._("Direct Support")));}var ha;if(h.gk.business_identity_experimental)ha=(n.createElement(z,{key:"Contact_Us",href:"/business/contact-us"},x._("Contact Us")));var ia=n.createElement(p,{className:"_3j0i"},n.createElement(z,{key:"Overview",href:this.state.uri.overview},x._("Overview")),n.createElement(z,{key:"How_It_Works",href:this.state.uri.howitworks},x._("How It Works")),n.createElement(z,{key:"FAQ",href:this.state.uri.faq},x._("FAQ")),n.createElement(q,null),n.createElement(z,{key:"Help_Center",href:this.state.uri.help},x._("Help Center")),fa,ha),ja=n.createElement(o,{menu:ia,alignh:"left",alignv:"middle",position:"below",layerBehaviors:[k],ref:"menu"},n.createElement("div",null,n.createElement(v,null,x._("Help")),n.createElement(m,{className:"_3j0j",src:y('/images/web_messenger/threadlist/inbox-chevron.png')})));return (n.createElement(ba,{key:"help",href:"#",onClick:this._onClick},ja));}});e.exports=ea;},null);
__d("TintOverlay.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"TintOverlay",propTypes:{tint:k.string},render:function(){var m={backgroundColor:this.props.tint},n=i(this.props.className,"_1w-o");return (g.createElement("div",g.__spread({},this.props,{className:n}),this.props.children,g.createElement("div",{className:"_1w-p",style:m})));}});e.exports=l;},null);
__d("StartPage.brands",["AdAccountIDConverter","AnalyticsLogger.brands","AppConstants.brands","BusinessIdentityEventCategory","BusinessIdentityEventName","AppLogger.brands","AssignedAdAccountStore.brands","AssignedPageStore.brands","BrandsAppConfig","BizAssetFilter.brands","BizHomeAssetsTable.brands","BizHomeFilterFieldConfigStore","BizSiteIdentifier.brands","BusinessDashboardConstants","BusinessMegaphone.brands","DashboardPanel.brands","Debug.brands","DOMContainer.react","Link.brands","OpenAccountSummaryButton.brands","ProjectStore.brands","React","Image.react","SetupGuide.brands","SplashDialog.brands","SubHeaderMenu.brands","TintOverlay.react","XUICard.react","underscore.ads","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la){b.__markCompiled&&b.__markCompiled();'use strict';var ma=ba,na=ma.PropTypes,oa=i.ASSET_TYPE,pa=t.ASSET_LIST_TYPE,qa=ba.createClass({displayName:"StartPage",mixins:[w],propTypes:{payload:na.object.isRequired},getInitialState:function(){return {filterSet:null,numberOfAdaccounts:null,totalNumberOfAdaccounts:null,totalNumberOfPages:null,projectsByID:null,selectedRows:{},selectAll:false,assetTypeTabSelected:!this._checkCanSeeHomepageDashWithPages()?oa.AD_ACCOUNT:null};},componentWillMount:function(){aa.getAllProjectsByBrandID(this.props.payload.businessID,function(ra){r.setProjects(Object.keys(ra));this.setState({projectsByID:ra});}.bind(this));this._assignedAdAccountStoreToken=m.subscribe('change',this._updateNumberOfAdaccounts);this._assignedPageStoreToken=n.subscribe('change',this._updateNumberOfPages);this._updateNumberOfAssets();},componentWillUnmount:function(){this._assignedAdAccountStoreToken.unsubscribe();this._assignedPageStoreToken.unsubscribe();},_updateNumberOfAssets:function(){this._updateNumberOfAdaccounts();this._updateNumberOfPages();},_updateNumberOfAdaccounts:function(){var ra=this.state.filterSet,sa=m.getRowDataAtIndex(this.props.payload.businessID,this.props.payload.userID,{user_id:this.props.payload.userID},ra,0);if(sa&&sa.isLoading)return;var ta=m.getTotalAssignedAssetsCount(this.props.payload.businessID,this.props.payload.userID,ra),ua=m.getTotalAssignedAssetsCount(this.props.payload.businessID,this.props.payload.userID);if(ta!==this.state.numberOfAdaccounts||ua!==this.state.totalNumberOfAdaccounts)this.setState({numberOfAdaccounts:ta,totalNumberOfAdaccounts:ua});},_updateNumberOfPages:function(){var ra=this.state.filterSet,sa=n.getRowDataAtIndex(this.props.payload.businessID,this.props.payload.userID,{user_id:this.props.payload.userID},ra,0);if(sa&&sa.isLoading)return;var ta=n.getTotalAssignedAssetsCount(this.props.payload.businessID,this.props.payload.userID,ra),ua=n.getTotalAssignedAssetsCount(this.props.payload.businessID,this.props.payload.userID);if(ta!==this.state.numberOfPages||ua!==this.state.totalNumberOfPages)this.setState({numberOfPages:ta,totalNumberOfPages:ua});},_renderBlankState:function(){var ra,sa=s.createBusinessURL('/settings/',this.props.payload.businessID);if(this.props.payload.isBusinessAdmin){ra=ba.createElement("div",null,ka._("As soon as you've been given permission to work on ad accounts and Pages, they'll show here."),ba.createElement("div",null,ba.createElement(y,{href:{url:sa}},ka._("Go to your Business Manager settings and assign yourself a role on some assets."))));}else ra=ba.createElement("div",null,ka._("As soon as you've been given permission to work on ad accounts and Pages, they'll show here."),ba.createElement("div",null,ba.createElement(y,{href:{url:sa}},ka._("Please contact your Admin if you have any questions."))));return (ba.createElement("div",null,ba.createElement(fa,{businessID:this.props.payload.businessID,selectedItem:"home"}),ba.createElement(u,{use:"home"}),this._renderWelcomeSection(),ba.createElement("div",{className:"_5vrl mtm"},ba.createElement("div",{className:"_5vrm"},ba.createElement(ca,{src:la('images/brands/bizmgr_icon_large.png')})),ba.createElement("div",{className:"_5vrn"},ba.createElement("div",{className:"_5vrp"},ra)))));},render:function(){h.logHomePageInteractive();var ra=null,sa=null;if(this.props.payload.hasGuide){ra=(ba.createElement(da,{businessID:this.props.payload.businessID,use:"home",initialGuideState:this.props.payload.setupGuideState}));sa=ba.createElement(ea,{initiallyShown:{create:this.props.payload.showSplash,migrate:this.props.payload.showGrayMigrateCompleteSplash}});}return (ba.createElement("div",{className:"_1y-g"},sa,ra,ba.createElement(fa,{businessID:this.props.payload.businessID,selectedItem:"home",showDirectSupport:o.isEligibleForDirectSupport}),ba.createElement(u,{use:"home"}),this._renderWelcomeSection(),this._renderHomepageDashboard(this.props.payload.businessID),this._renderAssetsTable()));},_onFilterChange:function(ra){this._onSelectedRowsChange({},false);this.setState({filterSet:ra},this._updateNumberOfAssets);},_renderWelcomeSection:function(){var ra=this.props.payload.businessPic,sa=this.props.payload.coverPhoto;return (ba.createElement(ha,{className:"_4e25"},ba.createElement(ga,{tint:"rgba(42, 47, 60, 0.5)"},ba.createElement(x,null,sa)),ba.createElement("div",{className:"_4e26"},ba.createElement("div",{className:"_4e27"},ba.createElement(ca,{src:ra}))),ba.createElement("div",{className:"_4e28"},this.props.payload.businessName)));},_renderHomepageDashboard:function(ra){var sa=this.state.totalNumberOfAdaccounts,ta=this.state.totalNumberOfPages,ua=false;if(sa!==null&&ta!==null)ua=(sa>0)||(ta>0&&this._checkCanSeeHomepageDashWithPages());var va=null;if(this._checkCanSeeHomepageDash()&&ua)va=(ba.createElement(v,{brandID:ra,currentDate:new Date(),filterSet:this.state.filterSet,fakeLinesCount:this.props.payload.fakeLinesCountForPagesInsights,anyAdAccountAssigned:!!sa,anyPageAssigned:!!ta,onTabChange:this._onDashboardTabChange,assetsToRender:this._getAssetsToRenderForDashboard()}));return (ba.createElement("div",{className:"_109_"},va,ba.createElement(p,{businessID:ra,onChange:this._onFilterChange,renderButtons:this._renderFilterButtons})));},_checkAnyAdAccountSelected:function(){if(this.state.selectAll)return true;var ra=null,sa=null;for(ra in this.state.selectedRows){sa=this.state.selectedRows[ra];if(sa&&sa.asset&&sa.asset.assetType===oa.AD_ACCOUNT&&sa.toggleSelection)return true;}return false;},_renderFilterButtons:function(){var ra=ia(this.state.selectedRows).chain().filter(function(sa){return sa.asset&&sa.asset.assetType===oa.AD_ACCOUNT;}).pluck('asset').pluck('id').map(g.toID).value();return (ba.createElement(z,{disabled:!this._checkAnyAdAccountSelected(),adAccountIDs:ra,selectAll:this.state.selectAll,filterSet:this.state.filterSet,hidden:this.state.assetTypeTabSelected!==oa.AD_ACCOUNT,businessID:this.props.payload.businessID,timezoneName:this.props.payload.timezoneName,timezoneOffset:this.props.payload.timezoneOffset}));},_renderAssetsTable:function(){var ra=[];if(this.state.assetTypeTabSelected)ra.push(this.state.assetTypeTabSelected);return (ba.createElement(q,{businessID:this.props.payload.businessID,filterSet:this.state.filterSet,onSelectedRowsChange:this._onSelectedRowsChange,selectableItemCount:this.state.numberOfAdaccounts,shouldRenderCheckboxForAssetTypes:ra,selectedRows:this.state.selectedRows,selectAll:this.state.selectAll}));},_getNumberOfSelectableAssets:function(){return this.state.assetTypeTabSelected===oa.AD_ACCOUNT?this.state.numberOfAdaccounts:this.state.numberOfPages;},_onSelectedRowsChange:function(ra,sa){var ta,ua,va=0,wa=0;for(ta in ra){ua=ra[ta];if(ua&&ua.asset&&ua.asset.assetType===this.state.assetTypeTabSelected&&ua.toggleSelection===sa){++wa;}else ++va;}var xa=this._getNumberOfSelectableAssets();if(wa===xa){sa=false;ra={};}else if(va===xa){sa=true;ra={};}this.setState({selectedRows:ra,selectAll:sa});},_onDashboardTabChange:function(ra){if(!this._checkCanSeeHomepageDashWithPages())return;this.setState({assetTypeTabSelected:ra});this._onSelectedRowsChange({},false);},_checkCanSeeHomepageDash:function(){return o.gk.business_identity_homepage_dashboard||o.businessCapabilities.can_use_homepage_dash;},_checkCanSeeHomepageDashWithPages:function(){return this._checkCanSeeHomepageDash()&&t.SHOULD_SHOW_PAGES_INSIGHTS;},_getAssetsToRenderForDashboard:function(){var ra=!!this.state.selectAll,sa=this.state.selectedRows||{},ta=Object.keys(sa).map(function(ya){if(!(sa[ya]&&sa[ya].toggleSelection))return null;var za='act_';if(ya.startsWith(za))ya=ya.slice(za.length);return ya;}).filter(function(ya){return !!ya;}),ua=pa,va=ua.BLACKLIST,wa=ua.WHITELIST,xa=va;if(!ra&&ta.length)xa=wa;return {assetListType:xa,assetList:ta};}});e.exports={init:function(ra){l.logForAnalytics(j.HOMEPAGE,k.HOMEPAGE_LOADED,{brandID:ra.payload.businessID});ba.render(ba.createElement(qa,{payload:ra.payload}),ra.node);}};},null);