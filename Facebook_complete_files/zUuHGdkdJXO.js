/*!CK:2613722623!*//*1429215897,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["6+klP"]); }

__d("PageAdminTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={MANAGER:"MANAGER",CONTENT_CREATOR:"CONTENT_CREATOR",MODERATOR:"MODERATOR",ADVERTISER:"ADVERTISER",INSIGHTS_ANALYST:"INSIGHTS_ANALYST"};},null);
__d("AdsFilterWidgets.react",["AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterOperator","AdsGenericFilterSet","AdsGenericFilterSetUtil","Layout.react","React","TextInputFilter.brands","XUISelector.react","XUIText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=l.Column,t=l.FillColumn,u=m,v=u.PropTypes,w=m.createClass({displayName:"FilterWidgets",propTypes:{selectorOptions:v.array,initialSelectorValue:v.string,onSelectorChange:v.func,hasSelector:v.bool.isRequired,onTextChange:v.func,placeholder:v.string,value:v.string,onFilterSetChange:v.func,textFilterField:v.instanceOf(h),selectorFilterField:v.instanceOf(h),showMagnifyingGlass:v.bool},getDefaultProps:function(){return {placeholder:r._("Search"),showMagnifyingGlass:true};},getInitialState:function(){return {filterText:'',selectorValue:this.props.initialSelectorValue,filterSet:null};},componentWillReceiveProps:function(x){if(x.value!==undefined&&x.value!==this.state.filterText)this.setState({filterText:x.value});},render:function(){var x=this.props.onFilterSetChange?(m.createElement(n,{className:"_5r_g _1f9c",onChange:this._onTextFilterChange,filterField:this.props.textFilterField})):(m.createElement("input",{className:"_5r_g _1f9c",value:this.state.filterText,onChange:this._onTextChange,placeholder:this.props.placeholder}));if(this.props.hasSelector){return (m.createElement(l,m.__spread({},this.props),m.createElement(t,null,x),m.createElement(s,{className:"_3-9a"},m.createElement(p,{weight:"bold",size:"small",className:"_3-90"},r._("Filter By:")),m.createElement(o,{size:"large",className:"_5r_h",onChange:this._onSelectorChange,maxheight:300,initialValue:this.props.initialSelectorValue},this.props.selectorOptions))));}else return (m.createElement("div",{className:this.props.className},x));},_onTextChange:function(event){var x=event.target.value;this.setState({filterText:x});this.props.onTextChange(x);},_onSelectorChange:function(x){if(!this.props.onFilterSetChange){this.setState({selectorValue:x.value});this.props.onSelectorChange(x.value);}else{var y=new g(this.props.selectorFilterField,i.EQUAL,x.value);if(y){this._addFilter(y);}else this._removeFilter(this.props.selectorFilterField);}},_onTextFilterChange:function(x){if(x){this._addFilter(x);}else this._removeFilter(this.props.textFilterField);},_addFilter:function(x){var y;if(this.state.filterSet){y=k.mergeByField(this.state.filterSet,new j([x]));}else y=new j([x]);this.setState({filterSet:y},this._announceFilterSetChange);},_removeFilter:function(x){var y=k.excludeFiltersByField(this.state.filterSet,x);this.setState({filterSet:y},this._announceFilterSetChange);},_announceFilterSetChange:function(){this.props.onFilterSetChange(this.state.filterSet);}});e.exports=w;},null);
__d("AdsAssetSelector.react",["AdsAssetSectionType","AdsFilterWidgets.react","AdsLoadState","BusinessAssetGrouping.brands","CenteredContainer.react","CurrentUser","Image.react","React","XUISpinner.react","cx","fbt","xuiglyph"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=n,t=s.PropTypes,u=n.createClass({displayName:"AdsAssetSelector",propTypes:{assetSections:t.arrayOf(t.shape({name:t.string.isRequired,businessID:t.string.isRequired,assets:t.array.isRequired})).isRequired,bookmarkedAssets:t.array.isRequired,compactLayout:t.bool,hideBusinessAssets:t.bool,listTitle:t.node,maxListHeight:t.number,renderAsset:t.func.isRequired,renderSectionOption:t.func.isRequired,searchedAssets:t.array,searchBarVisible:t.bool.isRequired,searchState:t.string.isRequired,searchQuery:t.string,selectedBusinessID:t.string,showBackButton:t.bool,showBottomBorder:t.bool,showNonBizGroupTitle:t.bool,showPersonalAssetsInRoot:t.bool,showSectionAssetCount:t.bool,unownedAssets:t.array.isRequired,unownedAssetsHeader:t.string.isRequired,onSearch:t.func.isRequired,onBack:t.func},getDefaultProps:function(){return {compactLayout:false,hideBusinessAssets:false,searchBarVisible:true,showBackButton:false,showNonBizGroupTitle:true,showSectionAssetCount:false,showBottomBorder:true};},render:function(){return (n.createElement("div",{className:((this.props.showBottomBorder?"_4vhx":''))},this._renderSearchBar(),this.props.listTitle,n.createElement("div",{className:"_3x14",style:{maxHeight:this.props.maxListHeight||"none"}},this._renderBookmarked(),this._renderUnowned(),this._renderAssetSections(),this._renderSearchSection())));},_renderBookmarked:function(){if(this.props.bookmarkedAssets.length===0)return null;return this._renderSection(q._("Bookmarked"),this.props.bookmarkedAssets,null,g.BOOKMARKED,false);},_renderUnowned:function(){return this._renderSection(this.props.unownedAssetsHeader,this.props.unownedAssets,null,g.UNOWNED,false);},_renderAssetSections:function(){return this.props.assetSections.map(function(v){return this._renderSection(v.name,v.assets,v.businessID,g.OWNED,v.businessID===this.props.selectedBusinessID);}.bind(this));},_renderSection:function(v,w,x,y,z){if(w.length===0)return null;if(this.props.hideBusinessAssets&&(!this.props.showPersonalAssetsInRoot||x!==j.NULL_BIZ_ID))return this._renderSectionOption(v,x,w.length);return (n.createElement("div",{key:v+x},this._renderSectionHeader(v,w.length),n.createElement("div",null,w.map(function(aa){return this._renderAsset(aa,x,y);}.bind(this)))));},_renderSectionOption:function(v,w,x){return this.props.renderSectionOption(v,w,x);},_renderSectionHeader:function(v,w){if(v===j.DEFAULT_NON_BIZ_NAME&&!this.props.showNonBizGroupTitle)return null;var x=null,y=null,z=v;if(this.props.showBackButton){y=(n.createElement("div",{className:"_1t26",onClick:this.props.onBack},n.createElement(m,{className:"_1t27",src:r('chevron-left')})));}else if(v===j.DEFAULT_NON_BIZ_NAME){x=n.createElement(m,{className:"_4vh-",src:r({name:'male',shade:'light'})});}else x=n.createElement(m,{className:"_4vh-",src:r({name:'work',shade:'light'})});if(w&&this.props.showSectionAssetCount)z=(q._("{business name} ({asset count})",[q.param("business name",v),q.param("asset count",w)]));return (n.createElement("div",{className:(("_1nme")+(this.props.compactLayout?' '+"_4vhy":''))},y,x,z));},_renderAsset:function(v,w,x){return this.props.renderAsset(v,w,x);},_renderSearchBar:function(){if(!this.props.searchBarVisible)return null;return n.createElement(h,{className:((!this.props.compactLayout?"_1nmd":'')+(this.props.compactLayout?' '+"_1t28":'')),hasSelector:false,placeholder:this.props.searchBarPlaceholder,value:this.props.searchQuery,onTextChange:this.props.onSearch});},_renderSearchSection:function(){if(!l.isEmployee()||!this.props.searchQuery)return null;var v=null;switch(this.props.searchState){case i.NOT_LOADED:v=null;break;case i.LOADING:v=(n.createElement(k,{vertical:true,className:"_1nmf"},n.createElement(o,{size:"large"})));break;case i.LOADED:case i.ERROR:if(this.props.searchedAssets&&this.props.searchedAssets.length>0){v=this.props.searchedAssets.map(function(x){return this._renderAsset(x,null,g.SEARCH);}.bind(this));}else v=(n.createElement(k,{vertical:true,className:"_1nmf"},q._("No items found")));break;}if(v){var w=0;if(this.props.searchedAssets)w=this.props.searchedAssets.length;return (n.createElement("div",null,this._renderSectionHeader(q._("Search By ID (employees only)"),w),v));}else return null;}});e.exports=u;},null);
__d("ads-page-utils",["ApiPagePaths","PageAdminTypes","PowerEditorConfig","Set","getByPath"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=new j([h.MANAGER,h.CONTENT_CREATOR]),m=new j([h.MANAGER,h.CONTENT_CREATOR,h.MODERATOR,h.ADVERTISER]),n={getPageUIName:function(o){return (k(o,g.GLOBAL_BRAND_PAGE_NAME)||k(o,g.NAME)||k(o,g.ID));},canCreateAdsForPage:function(o){return n._hasPermission(o,m);},canCreatePostsForPage:function(o){return n._hasPermission(o,l);},_hasPermission:function(o,p){if(i.empl_show_all_pages)return true;var q=k(o,g.USERPERMISSIONS.DATA,[]);return q.some(function(r){return p.has(r.role);});}};f.PageUtils=n;},null);
__d("AdsPageAssetSelector.react",["AdsAssetSectionType","AdsAssetSelector.react","AdsLoadState","ApiPagePaths","BusinessAssetGrouping.brands","Image.react","ImageBlock.react","React","Set","Tooltip","areEqual","cx","dotAccess","fbt","getByPath","ix","xuiglyph","ads-page-utils"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=b('ads-page-utils').PageUtils,y=n,z=y.PropTypes,aa=(t._("Pages You Don't Own (Employees Only)")),ba=n.createClass({displayName:"AdsPageAssetSelector",propTypes:{bookmarkedPages:z.array.isRequired,compactLayout:z.bool,listItemHoverStyle:z.oneOf(["dark-blue","light-gray"]),maxListHeight:z.number,pages:z.array.isRequired,searchedPages:z.array.isRequired,searchBarVisible:z.bool.isRequired,searchState:z.oneOf(Object.keys(i)).isRequired,searchQuery:z.string,selectedPageID:z.string,selectedBusinessID:z.string,selectedSectionType:z.string,showBookmarks:z.bool,showBottomBorder:z.bool,showBusinessPages:z.bool,showNonBizGroupTitle:z.bool,showPageCount:z.bool,showPersonalPagesInRoot:z.bool,showSectionPageCount:z.bool,showPageIDs:z.bool,shownBusinessID:z.string,unownedPages:z.array.isRequired,onBusinessSelected:z.func,onPageSelected:z.func.isRequired,onPageRemoved:z.func.isRequired,onPageBookmarked:z.func.isRequired,onSearch:z.func.isRequired},getDefaultProps:function(){return {compactLayout:false,listItemHoverStyle:"dark-blue",showBookmarks:true,showBusinessPages:true,showNonBizGroupTitle:false,showPageCount:true,showPersonalPagesInRoot:true,showSectionPageCount:true,showPageIDs:false};},getInitialState:function(){return {filteredPages:this.props.pages};},componentWillReceiveProps:function(ea){var fa=new o();if(!q(this.props.bookmarkedPages,ea.bookmarkedPages)){var ga=new o(this.props.bookmarkedPages.map(function(ha){return ha.id;}));ea.bookmarkedPages.forEach(function(ha){if(!ga.has(ha.id))fa.add(ha.id);});this.setState({recentlyBookmarkedPageIDs:fa});}this.setState({filteredPages:ea.pages.filter(function(ha){return this._filterPage(ea.searchQuery,ha);}.bind(this))});},render:function(){if(this.props.shownBusinessID)return this._renderBusinessSection(this.props.shownBusinessID);var ea=this._getAssetSections(),fa=null;if(this.props.showPageCount)fa=(n.createElement("div",{className:"_2z3f"},t._({"PAGE":"{page count} PAGE","PAGES":"{page count} PAGES"},[t.param("page count",this.state.filteredPages.length),t['enum'](this.state.filteredPages.length===1?"PAGE":"PAGES",{PAGE:"PAGE",PAGES:"PAGES"})])));return (n.createElement(h,{assetSections:ea,bookmarkedAssets:this.props.bookmarkedPages,compactLayout:this.props.compactLayout,hideBusinessAssets:!this.props.showBusinessPages&&this.props.searchQuery==="",listTitle:fa,maxListHeight:this.props.maxListHeight,renderAsset:this._renderAsset,renderSectionOption:this._renderSectionOption,searchBarPlaceholder:t._("Search Pages"),searchBarVisible:this.props.searchBarVisible,searchedAssets:this.props.searchedPages,searchQuery:this.props.searchQuery,searchState:this.props.searchState,selectedBusinessID:this.props.selectedBusinessID,showBackButton:false,showBottomBorder:this.props.showBottomBorder,showNonBizGroupTitle:this.props.showNonBizGroupTitle,showPersonalAssetsInRoot:this.props.showPersonalPagesInRoot,showSectionAssetCount:this.props.showSectionPageCount,unownedAssets:this._getUnownedPages(),unownedAssetsHeader:aa,onSearch:this.props.onSearch}));},_renderBusinessSection:function(ea){return (n.createElement(h,{assetSections:this._getAssetSectionWithBusinessID(this.props.shownBusinessID),bookmarkedAssets:this.props.bookmarkedPages,compactLayout:this.props.compactLayout,hideBusinessAssets:false,listTitle:null,maxListHeight:this.props.maxListHeight,renderAsset:this._renderAsset,renderSectionOption:this._renderSectionOption,searchBarPlaceholder:t._("Search Pages"),searchBarVisible:this.props.searchBarVisible,searchedAssets:this.props.searchedPages,searchQuery:this.props.searchQuery,searchState:this.props.searchState,selectedBusinessID:this.props.selectedBusinessID,showBackButton:true,showBottomBorder:this.props.showBottomBorder,showNonBizGroupTitle:this.props.showNonBizGroupTitle,showSectionAssetCount:this.props.showSectionPageCount,unownedAssets:this._getUnownedPages(),unownedAssetsHeader:aa,onBack:this._onBack,onSearch:this.props.onSearch}));},_getBusinessID:function(ea){return ea.business?ea.business.id||ea.business:k.NULL_BIZ_ID;},_filterPage:function(ea,fa){var ga=x.getPageUIName(fa),ha=u(fa,j.ID);return (!ea||(ga&&ga.toLowerCase().contains(ea.toLowerCase()))||(ha&&ha.contains(ea)));},_getPageIconURL:function(ea){return (s(ea,'picture.data.url')||v('images/ads/common/icon_page.png').uri);},_renderAsset:function(ea,fa,ga){if(!fa)fa=this._getBusinessID(ea);var ha=(this.props.selectedPageID===ea.id&&this.props.selectedSectionType===ga&&this.props.selectedBusinessID===fa)||(this.props.selectedPageID===ea.id&&!this.props.selectedBusinessID&&fa===k.NULL_BIZ_ID),ia=this.props.bookmarkedPages.some(function(la){return la.id===ea.id;}),ja=x.getPageUIName(ea),ka=!!(ga===g.BOOKMARKED&&this.state&&this.state.recentlyBookmarkedPageIDs&&this.state.recentlyBookmarkedPageIDs.has(ea.id));return (n.createElement(da,{businessID:fa,compactLayout:this.props.compactLayout,hoverStyle:this.props.listItemHoverStyle,imageSrc:this._getPageIconURL(ea),isBookmarked:ia,isRecentlyBookmarked:ka,isSelected:ha,key:ea.id+':'+fa,name:ja,pageID:ea.id,sectionType:ga,showPageID:this.props.showPageIDs,showBookmark:this.props.showBookmarks,onPageBookmarked:this.props.onPageBookmarked,onPageSelected:this.props.onPageSelected,onPageRemoved:this.props.onPageRemoved}));},_renderSectionOption:function(ea,fa,ga){return (n.createElement(ca,{businessID:fa,businessName:ea,revealBusiness:this._selectBusiness,pageCount:ga}));},_getAssetSectionWithBusinessID:function(ea){return this._getAssetSections().filter(function(fa){return fa.businessID===ea;});},_getAssetSections:function(){var ea=k.groupAssets(this.state.filteredPages,function(ga){return this._getBusinessID(ga);}.bind(this),function(ga){return ga.userpermissions?ga.userpermissions.data:[];},function(ga){return ga.businessprojects?ga.businessprojects.data:[];},function(ga){return ga.name.toLowerCase();},null,k.DEFAULT_NON_BIZ_NAME),fa=[];ea.groupedAssets.forEach(function(ga){if(ga.assets.length>0)fa.push({name:ga.name,assets:ga.assets,businessID:ga.bizID});ga.projects.forEach(function(ha){if(ha.assets.length>0)fa.push({name:ha.name,assets:ha.assets,businessID:ga.bizID});});});return fa;},_getUnownedPages:function(){return this.props.unownedPages.filter(function(ea){return this._filterPage(this.props.searchQuery,ea);}.bind(this));},_selectBusiness:function(ea){this.props.onBusinessSelected&&this.props.onBusinessSelected(ea);},_onBack:function(){this.props.onBusinessSelected&&this.props.onBusinessSelected(null);}}),ca=n.createClass({displayName:"BusinessPageSectionOption",propTypes:{businessID:z.string.isRequired,businessName:z.string.isRequired,revealBusiness:z.func.isRequired,pageCount:z.number},render:function(){var ea=w({name:'work',shade:'light',size:'large'});return (n.createElement("div",{className:(("_5ghu")+(' '+"_2z3h")),onClick:this._onClick},n.createElement("span",{className:"_1b_h"},n.createElement(l,{className:"_5ghv",src:ea}),this.props.businessName),n.createElement("div",{className:"_5ghw"},this.props.pageCount)));},_onClick:function(){this.props.revealBusiness(this.props.businessID);}}),da=n.createClass({displayName:"PageSelectorItem",propTypes:{businessID:z.string,compactLayout:z.bool.isRequired,hoverStyle:z.oneOf(["dark-blue","light-gray"]),imageSrc:z.string.isRequired,isBookmarked:z.bool.isRequired,isSelected:z.bool.isRequired,isRecentlyBookmarked:z.bool.isRequired,name:z.string.isRequired,pageID:z.string.isRequired,sectionType:z.oneOf(Object.keys(g)).isRequired,showBookmark:z.bool.isRequired,showPageID:z.bool.isRequired,onPageSelected:z.func.isRequired,onPageRemoved:z.func.isRequired,onPageBookmarked:z.func.isRequired},getDefaultProps:function(){return {hoverStyle:"dark-blue"};},render:function(){var ea=(this.props.sectionType===g.BOOKMARKED||this.props.sectionType===g.UNOWNED),fa=(!this.props.isBookmarked&&this.props.sectionType===g.OWNED&&this.props.showBookmark),ga=null;if(ea){ga=(n.createElement("div",n.__spread({className:"_1wcw"},p.propsFor(t._("Remove Page from this list")),{onClick:this._onRemoveClick,"data-tooltip-position":"right"})));}else if(fa){ga=(n.createElement("div",n.__spread({className:"_50a_"},p.propsFor(t._("Bookmark this Page")),{onClick:this._onBookmarkClick,"data-tooltip-position":"right"})));}else if(this.props.isSelected)ga=(n.createElement("div",{className:"_55fc"}));var ha=null;if(this.props.showPageID)ha=(n.createElement("div",{className:"_4c70"},this.props.pageID));return (n.createElement(m,{className:((!this.props.compactLayout?"_2sl3":'')+(this.props.compactLayout?' '+"_5dsl":'')+(this.props.hoverStyle==="dark-blue"?' '+"_alf":'')+(this.props.hoverStyle==="light-gray"?' '+"_2z3h":'')+(this.props.isSelected?' '+"_2246":'')+(this.props.isRecentlyBookmarked?' '+"_50b0":'')),onClick:this._onClick},n.createElement(l,{className:"_4-rj",width:30,height:30,src:this.props.imageSrc}),n.createElement("div",{className:"_1wcv"},n.createElement("div",{className:(("_2sl4")+(!this.props.showPageID?' '+"_4c71":''))},this.props.name),ha,ga)));},_onClick:function(){this.props.onPageSelected(this.props.pageID,this.props.businessID,this.props.sectionType);},_onRemoveClick:function(event){event.preventDefault();event.stopPropagation();this.props.onPageRemoved(this.props.pageID,this.props.sectionType);},_onBookmarkClick:function(event){event.preventDefault();event.stopPropagation();this.props.onPageBookmarked(this.props.pageID);}});e.exports=ba;},null);
__d("PageVoiceDropdownSelector.react",["AdsAssetSectionType","AdsLoadState","AdsPageAssetSelector.react","BizSiteIdentifier.brands","BusinessAssetGrouping.brands","Image.react","ImageBlock.react","LayerHideOnBlur","React","ReactLayeredComponentMixin","XUIContextualDialog.react","XUIPopoverButton.react","underscore.ads","cx","emptyFunction","fbt","invariant","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();'use strict';var y=o,z=y.PropTypes,aa=300,ba=12,ca=o.createClass({displayName:"PageVoiceDropdownSelector",propTypes:{covered:z.bool,permissions:z.object,pages:z.object.isRequired,selectedActorID:z.string,showBusinessPages:z.bool,showUserInPersonalVoices:z.bool,showPersonalPageInRoot:z.bool,suppressed:z.bool.isRequired,user:z.object.isRequired,onChange:z.func.isRequired,onClick:z.func.isRequired},mixins:[p],getDefaultProps:function(){return {searchBarVisible:false,showBusinessPages:true,showUserInPersonalVoices:true,covered:true};},getInitialState:function(){var da=k.NULL_BIZ_ID;if(this.props.pages[this.props.selectedActorID]&&this.props.pages[this.props.selectedActorID].businessID)da=""+this.props.pages[this.props.selectedActorID].businessID;var ea=da;if(!j.isBizSite())ea=null;return {dialogShown:false,defaultBusinessID:ea,textDisplay:this._getActorName(this.props.selectedActorID),selectedActorID:this.props.selectedActorID,selectedBusinessID:da,searchQuery:"",shownBusinessID:ea};},componentWillReceiveProps:function(da){this.setState({selectedActorID:da.selectedActorID});},renderLayers:function(){return {contextualDialog:o.createElement(q,{contextRef:"open-menu-button",ref:"selector-dialog",shown:this.state.dialogShown,position:"below",alignment:"right",behaviors:{LayerHideOnBlur:n},onToggle:this._onToggle},this._renderLayerContent())};},render:function(){return (o.createElement(r,{className:"_4z8-",haschevron:!this.props.covered,image:o.createElement(l,{width:16,height:16,src:this.props.covered?x('images/pages/voice/flag.png'):this._getSelectedImageSource()}),ref:"open-menu-button",suppressed:this.props.suppressed,type:"button",onClick:this._onToggleDialogClick}));},_renderLayerContent:function(){if(s.isEmpty(this.props.user))return null;var da=this._getPageSelectorPages(),ea=null;if(this.props.selectedActorID===this.props.user.id)ea=(o.createElement("div",{className:"_55fc"}));var fa=null;if(this.state.shownBusinessID===k.NULL_BIZ_ID||(this.state.shownBusinessID===null&&this.props.showUserInPersonalVoices))fa=(o.createElement(m,{className:(("_5dsl")+(' '+"_alf")+(this.props.selectedActorID===this.props.user.id?' '+"_2246":'')+(' '+"_alg")),onClick:function(){this.setState({selectedActorID:this.props.user.id,selectedSectionType:""},this._updateSelectedPage);}.bind(this)},o.createElement(l,{className:"_4-rj",width:30,height:30,src:this.props.user.thumbSrc}),o.createElement("div",{className:"_1wcv"},o.createElement("div",{className:(("_2sl4")+(' '+"_4c71"))},this.props.user.name," ",o.createElement("span",{className:"_uyb"},v._("(You)")),ea))));return o.createElement("div",{className:(("_21wq")+(' '+"_70b"))},fa,o.createElement(i,{bookmarkedPages:[],compactLayout:true,listItemHoverStyle:"dark-blue",maxListHeight:aa,pages:da,searchedPages:[],searchQuery:this.state.searchQuery,searchState:h.NOT_LOADED,selectedPageID:this.props.selectedActorID,selectedBusinessID:this.state.selectedBusinessID,selectedSectionType:g.OWNED,showBookmarks:false,showBottomBorder:false,showBusinessPages:this.props.showBusinessPages,showNonBizGroupTitle:true,showPageCount:false,showPersonalPagesInRoot:this.props.showPersonalPagesInRoot||false,showSectionPageCount:true,shownBusinessID:this.state.shownBusinessID,unownedPages:[],onBusinessSelected:this._onBusinessSelected,onPageSelected:this._onPageSelected,onPageRemoved:function(){},onPageBookmarked:function(){},onSearch:this._onSearch,searchBarVisible:da.length>=ba}));},_onBusinessSelected:function(da){this.setState({shownBusinessID:da});},_onPageSelected:function(da,ea,fa){this.setState({selectedActorID:da,selectedBusinessID:ea},this._updateSelectedPage);},_onSearch:function(da){this.setState({searchQuery:da});},_onToggleDialogClick:function(){this.setState({dialogShown:!this.state.dialogShown,shownBusinessID:this.state.defaultBusinessID},this.props.onClick);},_onToggle:function(da){setTimeout(this.setState.bind(this,{dialogShown:da},u),0);},_getSelectedImageSource:function(){var da=this.state.selectedActorID;if(!da)return "";if(da===this.props.user.id){if(!this.props.user.thumbSrc)return "";return this.props.user.thumbSrc;}else{if(!this.props.pages[da].thumbSrc)return "";return this.props.pages[da].thumbSrc;}},_getPageSelectorPages:function(){var da=s.map(this.props.pages,function(ea,fa){var ga={id:fa,name:ea.name,picture:{data:{url:ea.thumbSrc}},userpermissions:{data:[{}]},sectionType:g.OWNED};if(ea.businessID)ga.userpermissions.data[0]={business:{name:ea.businessName,id:ea.businessID}};return ga;},this);w(da[0].id===this.props.user.id);return da.slice(1);},_getActorName:function(da){if(da===this.props.user.id){return this.props.user.name;}else return this.props.pages[da].name;},_updateSelectedPage:function(){var da=this.state.selectedActorID;if(!da)return;this.setState({dialogShown:false,searchQuery:""});if(da===this.props.user.id){this.setState({textDisplay:this.props.user.name});this.props.onChange({label:this.props.user.name,value:this.props.user.id});}else{this.setState({textDisplay:this.props.pages[da].name});this.props.onChange({label:this.props.pages[da].name,value:da});}}});e.exports=ca;},null);
__d("ShareDialogController",["ActorURI","AsyncRequest","BootloadedComponent.react","Bootloader","Event","React","ShareDialogConfig","ShareDialogDataSources","XShareDialogSubmitController","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q,r;function s(){v({type:'posting'});}function t(x){v({type:'success',message:x.payload.message});}function u(x){v({type:'error',title:x.errorSummary,message:x.errorDescription});}function v(x){l.render(l.createElement(i,l.__spread({bootloadPlaceholder:l.createElement("span",null),bootloadComponent:function(y){if(m.www_react_composer_osric){j.loadModules(["ReactShareDialogRoot.react"],y);}else j.loadModules(["ShareDialog.react"],y);}},q,{contextConfig:{composerID:p(),actorID:q.userId},shown:true,onPost:function(y){w.onPost(y,s,t,u);},status:x})),r);}var w={getPropsFromAsyncResponse:function(x){var y=x,z=y.sources,aa=(function(na,oa){var pa={},qa=Object.prototype.hasOwnProperty;if(na==null)throw new TypeError();for(var ra in na)if(qa.call(na,ra)&&!qa.call(oa,ra))pa[ra]=na[ra];return pa;})(y,{sources:1}),ba=z,ca=ba.person,da=ba.personTag,ea=ba.personWall,fa=ba.group,ga=ba.page,ha=ba.mentions,ia=ba.place,ja=ba.feeling,ka=ba.action,la=ba.object,ma=(new n()).addSource(n.TYPES.ACTION,ka).addSource(n.TYPES.GROUP,fa).addSource(n.TYPES.FEELING,ja).addSource(n.TYPES.MENTIONS,ha).addSource(n.TYPES.MESSAGE,ca).addSource(n.TYPES.OBJECT,la).addSource(n.TYPES.PAGE,ga).addSource(n.TYPES.PERSON,da).addSource(n.TYPES.PERSON_WALL,ea).addSource(n.TYPES.PLACE,ia);return Object.assign({dataSources:ma},aa);},onPost:function(x,y,z,aa){y&&y();var ba=o.getURIBuilder().setInt('app_id',x.appId||(q&&q.appId)).setInt('post_id',x.postId).setInt('share_type',x.shareType).setInt('shared_ad_id',x.sharedAdId||(q&&q.sharedAdId)).setString('privacy',x.privacy).setString('message',x.message).setString('audience_type',x.audienceType).setIntVector('audience_targets',x.audienceTargets).setIntVector('tagged_people',x.taggedPeople).setInt('tagged_place',x.taggedPlace).setInt('tagged_action',x.taggedActionId).setInt('tagged_object',x.taggedObjectId).setInt('tagged_feeling',x.taggedFeelingId).setInt('tagged_feeling_icon',x.taggedFeelingIconId).setString('tagged_object_str',x.taggedObjectStr).setInt('tagged_action_icon',x.taggedActionIconId).setInt('attribution',x.attributionId).setStringVector('messaging_tags',x.messageTags).setStringToStringMap('internalextra',x.internalExtra||(q&&q.internalExtra)).getURI();ba=g.create(ba,x.actorId);(new h()).setURI(ba).setMethod('POST').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(z).setErrorHandler(aa).send();},setup:function(x,y){q=w.getPropsFromAsyncResponse(x);r=y;v({type:'composing'});},setupInline:function(x,y){var z=w.getPropsFromAsyncResponse(x);k.fire(y,'propsReceived',{props:z});}};e.exports=w;},null);